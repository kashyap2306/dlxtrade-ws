var l$=Object.defineProperty;var c$=(t,e,n)=>e in t?l$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var zr=(t,e,n)=>c$(t,typeof e!="symbol"?e+"":e,n);function u$(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function st(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var FP={exports:{}},cg={},UP={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf=Symbol.for("react.element"),d$=Symbol.for("react.portal"),f$=Symbol.for("react.fragment"),h$=Symbol.for("react.strict_mode"),p$=Symbol.for("react.profiler"),m$=Symbol.for("react.provider"),g$=Symbol.for("react.context"),y$=Symbol.for("react.forward_ref"),v$=Symbol.for("react.suspense"),x$=Symbol.for("react.memo"),b$=Symbol.for("react.lazy"),MS=Symbol.iterator;function w$(t){return t===null||typeof t!="object"?null:(t=MS&&t[MS]||t["@@iterator"],typeof t=="function"?t:null)}var BP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},VP=Object.assign,zP={};function vc(t,e,n){this.props=t,this.context=e,this.refs=zP,this.updater=n||BP}vc.prototype.isReactComponent={};vc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qP(){}qP.prototype=vc.prototype;function Aw(t,e,n){this.props=t,this.context=e,this.refs=zP,this.updater=n||BP}var kw=Aw.prototype=new qP;kw.constructor=Aw;VP(kw,vc.prototype);kw.isPureReactComponent=!0;var $S=Array.isArray,WP=Object.prototype.hasOwnProperty,Pw={current:null},HP={key:!0,ref:!0,__self:!0,__source:!0};function KP(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)WP.call(e,r)&&!HP.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:hf,type:t,key:s,ref:a,props:i,_owner:Pw.current}}function _$(t,e){return{$$typeof:hf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Iw(t){return typeof t=="object"&&t!==null&&t.$$typeof===hf}function j$(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var FS=/\/+/g;function sy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?j$(""+t.key):e.toString(36)}function Gh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case hf:case d$:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+sy(a,0):r,$S(i)?(n="",t!=null&&(n=t.replace(FS,"$&/")+"/"),Gh(i,e,n,"",function(u){return u})):i!=null&&(Iw(i)&&(i=_$(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(FS,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",$S(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+sy(s,l);a+=Gh(s,e,n,c,i)}else if(c=w$(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+sy(s,l++),a+=Gh(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function oh(t,e,n){if(t==null)return t;var r=[],i=0;return Gh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function S$(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vn={current:null},Xh={transition:null},E$={ReactCurrentDispatcher:Vn,ReactCurrentBatchConfig:Xh,ReactCurrentOwner:Pw};function GP(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:oh,forEach:function(t,e,n){oh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return oh(t,function(){e++}),e},toArray:function(t){return oh(t,function(e){return e})||[]},only:function(t){if(!Iw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=vc;Ce.Fragment=f$;Ce.Profiler=p$;Ce.PureComponent=Aw;Ce.StrictMode=h$;Ce.Suspense=v$;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E$;Ce.act=GP;Ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=VP({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Pw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)WP.call(e,c)&&!HP.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:hf,type:t.type,key:i,ref:s,props:r,_owner:a}};Ce.createContext=function(t){return t={$$typeof:g$,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:m$,_context:t},t.Consumer=t};Ce.createElement=KP;Ce.createFactory=function(t){var e=KP.bind(null,t);return e.type=t,e};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:y$,render:t}};Ce.isValidElement=Iw;Ce.lazy=function(t){return{$$typeof:b$,_payload:{_status:-1,_result:t},_init:S$}};Ce.memo=function(t,e){return{$$typeof:x$,type:t,compare:e===void 0?null:e}};Ce.startTransition=function(t){var e=Xh.transition;Xh.transition={};try{t()}finally{Xh.transition=e}};Ce.unstable_act=GP;Ce.useCallback=function(t,e){return Vn.current.useCallback(t,e)};Ce.useContext=function(t){return Vn.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return Vn.current.useDeferredValue(t)};Ce.useEffect=function(t,e){return Vn.current.useEffect(t,e)};Ce.useId=function(){return Vn.current.useId()};Ce.useImperativeHandle=function(t,e,n){return Vn.current.useImperativeHandle(t,e,n)};Ce.useInsertionEffect=function(t,e){return Vn.current.useInsertionEffect(t,e)};Ce.useLayoutEffect=function(t,e){return Vn.current.useLayoutEffect(t,e)};Ce.useMemo=function(t,e){return Vn.current.useMemo(t,e)};Ce.useReducer=function(t,e,n){return Vn.current.useReducer(t,e,n)};Ce.useRef=function(t){return Vn.current.useRef(t)};Ce.useState=function(t){return Vn.current.useState(t)};Ce.useSyncExternalStore=function(t,e,n){return Vn.current.useSyncExternalStore(t,e,n)};Ce.useTransition=function(){return Vn.current.useTransition()};Ce.version="18.3.1";UP.exports=Ce;var E=UP.exports;const B=st(E),N$=u$({__proto__:null,default:B},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T$=E,A$=Symbol.for("react.element"),k$=Symbol.for("react.fragment"),P$=Object.prototype.hasOwnProperty,I$=T$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,C$={key:!0,ref:!0,__self:!0,__source:!0};function XP(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)P$.call(e,r)&&!C$.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:A$,type:t,key:s,ref:a,props:i,_owner:I$.current}}cg.Fragment=k$;cg.jsx=XP;cg.jsxs=XP;FP.exports=cg;var o=FP.exports,Av={},YP={exports:{}},vr={},QP={exports:{}},JP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,F){var W=L.length;L.push(F);e:for(;0<W;){var K=W-1>>>1,Y=L[K];if(0<i(Y,F))L[K]=F,L[W]=Y,W=K;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var F=L[0],W=L.pop();if(W!==F){L[0]=W;e:for(var K=0,Y=L.length,z=Y>>>1;K<z;){var oe=2*(K+1)-1,je=L[oe],Pe=oe+1,Oe=L[Pe];if(0>i(je,W))Pe<Y&&0>i(Oe,je)?(L[K]=Oe,L[Pe]=W,K=Pe):(L[K]=je,L[oe]=W,K=oe);else if(Pe<Y&&0>i(Oe,W))L[K]=Oe,L[Pe]=W,K=Pe;else break e}}return F}function i(L,F){var W=L.sortIndex-F.sortIndex;return W!==0?W:L.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,p=3,v=!1,g=!1,y=!1,m=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=L)r(u),F.sortIndex=F.expirationTime,e(c,F);else break;F=n(u)}}function T(L){if(y=!1,b(L),!g)if(n(c)!==null)g=!0,$(N);else{var F=n(u);F!==null&&M(T,F.startTime-L)}}function N(L,F){g=!1,y&&(y=!1,x(S),S=-1),v=!0;var W=p;try{for(b(F),f=n(c);f!==null&&(!(f.expirationTime>F)||L&&!P());){var K=f.callback;if(typeof K=="function"){f.callback=null,p=f.priorityLevel;var Y=K(f.expirationTime<=F);F=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(c)&&r(c),b(F)}else r(c);f=n(c)}if(f!==null)var z=!0;else{var oe=n(u);oe!==null&&M(T,oe.startTime-F),z=!1}return z}finally{f=null,p=W,v=!1}}var A=!1,_=null,S=-1,k=5,O=-1;function P(){return!(t.unstable_now()-O<k)}function R(){if(_!==null){var L=t.unstable_now();O=L;var F=!0;try{F=_(!0,L)}finally{F?C():(A=!1,_=null)}}else A=!1}var C;if(typeof w=="function")C=function(){w(R)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,U=V.port2;V.port1.onmessage=R,C=function(){U.postMessage(null)}}else C=function(){m(R,0)};function $(L){_=L,A||(A=!0,C())}function M(L,F){S=m(function(){L(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){g||v||(g=!0,$(N))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(L){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var W=p;p=F;try{return L()}finally{p=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,F){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var W=p;p=L;try{return F()}finally{p=W}},t.unstable_scheduleCallback=function(L,F,W){var K=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?K+W:K):W=K,L){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=W+Y,L={id:d++,callback:F,priorityLevel:L,startTime:W,expirationTime:Y,sortIndex:-1},W>K?(L.sortIndex=W,e(u,L),n(c)===null&&L===n(u)&&(y?(x(S),S=-1):y=!0,M(T,W-K))):(L.sortIndex=Y,e(c,L),g||v||(g=!0,$(N))),L},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(L){var F=p;return function(){var W=p;p=F;try{return L.apply(this,arguments)}finally{p=W}}}})(JP);QP.exports=JP;var O$=QP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R$=E,gr=O$;function ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZP=new Set,td={};function Eo(t,e){Il(t,e),Il(t+"Capture",e)}function Il(t,e){for(td[t]=e,t=0;t<e.length;t++)ZP.add(e[t])}var is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kv=Object.prototype.hasOwnProperty,D$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,US={},BS={};function L$(t){return kv.call(BS,t)?!0:kv.call(US,t)?!1:D$.test(t)?BS[t]=!0:(US[t]=!0,!1)}function M$(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $$(t,e,n,r){if(e===null||typeof e>"u"||M$(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zn(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vn[t]=new zn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vn[e]=new zn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vn[t]=new zn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vn[t]=new zn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vn[t]=new zn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vn[t]=new zn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vn[t]=new zn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vn[t]=new zn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vn[t]=new zn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Cw=/[\-:]([a-z])/g;function Ow(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Cw,Ow);vn[e]=new zn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Cw,Ow);vn[e]=new zn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Cw,Ow);vn[e]=new zn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vn[t]=new zn(t,1,!1,t.toLowerCase(),null,!1,!1)});vn.xlinkHref=new zn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vn[t]=new zn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Rw(t,e,n,r){var i=vn.hasOwnProperty(e)?vn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($$(e,n,i,r)&&(n=null),r||i===null?L$(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var gs=R$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lh=Symbol.for("react.element"),Jo=Symbol.for("react.portal"),Zo=Symbol.for("react.fragment"),Dw=Symbol.for("react.strict_mode"),Pv=Symbol.for("react.profiler"),eI=Symbol.for("react.provider"),tI=Symbol.for("react.context"),Lw=Symbol.for("react.forward_ref"),Iv=Symbol.for("react.suspense"),Cv=Symbol.for("react.suspense_list"),Mw=Symbol.for("react.memo"),Ds=Symbol.for("react.lazy"),nI=Symbol.for("react.offscreen"),VS=Symbol.iterator;function nu(t){return t===null||typeof t!="object"?null:(t=VS&&t[VS]||t["@@iterator"],typeof t=="function"?t:null)}var jt=Object.assign,ay;function ju(t){if(ay===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ay=e&&e[1]||""}return`
`+ay+t}var oy=!1;function ly(t,e){if(!t||oy)return"";oy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{oy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ju(t):""}function F$(t){switch(t.tag){case 5:return ju(t.type);case 16:return ju("Lazy");case 13:return ju("Suspense");case 19:return ju("SuspenseList");case 0:case 2:case 15:return t=ly(t.type,!1),t;case 11:return t=ly(t.type.render,!1),t;case 1:return t=ly(t.type,!0),t;default:return""}}function Ov(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zo:return"Fragment";case Jo:return"Portal";case Pv:return"Profiler";case Dw:return"StrictMode";case Iv:return"Suspense";case Cv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tI:return(t.displayName||"Context")+".Consumer";case eI:return(t._context.displayName||"Context")+".Provider";case Lw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Mw:return e=t.displayName||null,e!==null?e:Ov(t.type)||"Memo";case Ds:e=t._payload,t=t._init;try{return Ov(t(e))}catch{}}return null}function U$(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ov(e);case 8:return e===Dw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ca(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function B$(t){var e=rI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ch(t){t._valueTracker||(t._valueTracker=B$(t))}function iI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function xp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rv(t,e){var n=e.checked;return jt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ca(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sI(t,e){e=e.checked,e!=null&&Rw(t,"checked",e,!1)}function Dv(t,e){sI(t,e);var n=ca(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Lv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Lv(t,e.type,ca(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Lv(t,e,n){(e!=="number"||xp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Su=Array.isArray;function hl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ca(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Mv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ne(91));return jt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function WS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ne(92));if(Su(n)){if(1<n.length)throw Error(ne(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ca(n)}}function aI(t,e){var n=ca(e.value),r=ca(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function HS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function oI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $v(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?oI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var uh,lI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(uh=uh||document.createElement("div"),uh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=uh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function nd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ru={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},V$=["Webkit","ms","Moz","O"];Object.keys(Ru).forEach(function(t){V$.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ru[e]=Ru[t]})});function cI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ru.hasOwnProperty(t)&&Ru[t]?(""+e).trim():e+"px"}function uI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=cI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var z$=jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fv(t,e){if(e){if(z$[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ne(62))}}function Uv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bv=null;function $w(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vv=null,pl=null,ml=null;function KS(t){if(t=gf(t)){if(typeof Vv!="function")throw Error(ne(280));var e=t.stateNode;e&&(e=pg(e),Vv(t.stateNode,t.type,e))}}function dI(t){pl?ml?ml.push(t):ml=[t]:pl=t}function fI(){if(pl){var t=pl,e=ml;if(ml=pl=null,KS(t),e)for(t=0;t<e.length;t++)KS(e[t])}}function hI(t,e){return t(e)}function pI(){}var cy=!1;function mI(t,e,n){if(cy)return t(e,n);cy=!0;try{return hI(t,e,n)}finally{cy=!1,(pl!==null||ml!==null)&&(pI(),fI())}}function rd(t,e){var n=t.stateNode;if(n===null)return null;var r=pg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ne(231,e,typeof n));return n}var zv=!1;if(is)try{var ru={};Object.defineProperty(ru,"passive",{get:function(){zv=!0}}),window.addEventListener("test",ru,ru),window.removeEventListener("test",ru,ru)}catch{zv=!1}function q$(t,e,n,r,i,s,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Du=!1,bp=null,wp=!1,qv=null,W$={onError:function(t){Du=!0,bp=t}};function H$(t,e,n,r,i,s,a,l,c){Du=!1,bp=null,q$.apply(W$,arguments)}function K$(t,e,n,r,i,s,a,l,c){if(H$.apply(this,arguments),Du){if(Du){var u=bp;Du=!1,bp=null}else throw Error(ne(198));wp||(wp=!0,qv=u)}}function No(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function GS(t){if(No(t)!==t)throw Error(ne(188))}function G$(t){var e=t.alternate;if(!e){if(e=No(t),e===null)throw Error(ne(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return GS(i),t;if(s===r)return GS(i),e;s=s.sibling}throw Error(ne(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?t:e}function yI(t){return t=G$(t),t!==null?vI(t):null}function vI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vI(t);if(e!==null)return e;t=t.sibling}return null}var xI=gr.unstable_scheduleCallback,XS=gr.unstable_cancelCallback,X$=gr.unstable_shouldYield,Y$=gr.unstable_requestPaint,Rt=gr.unstable_now,Q$=gr.unstable_getCurrentPriorityLevel,Fw=gr.unstable_ImmediatePriority,bI=gr.unstable_UserBlockingPriority,_p=gr.unstable_NormalPriority,J$=gr.unstable_LowPriority,wI=gr.unstable_IdlePriority,ug=null,ji=null;function Z$(t){if(ji&&typeof ji.onCommitFiberRoot=="function")try{ji.onCommitFiberRoot(ug,t,void 0,(t.current.flags&128)===128)}catch{}}var ai=Math.clz32?Math.clz32:n6,e6=Math.log,t6=Math.LN2;function n6(t){return t>>>=0,t===0?32:31-(e6(t)/t6|0)|0}var dh=64,fh=4194304;function Eu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=Eu(l):(s&=a,s!==0&&(r=Eu(s)))}else a=n&~i,a!==0?r=Eu(a):s!==0&&(r=Eu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ai(e),i=1<<n,r|=t[n],e&=~i;return r}function r6(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function i6(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-ai(s),l=1<<a,c=i[a];c===-1?(!(l&n)||l&r)&&(i[a]=r6(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function Wv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _I(){var t=dh;return dh<<=1,!(dh&4194240)&&(dh=64),t}function uy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ai(e),t[e]=n}function s6(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ai(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Uw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ai(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Qe=0;function jI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var SI,Bw,EI,NI,TI,Hv=!1,hh=[],Ks=null,Gs=null,Xs=null,id=new Map,sd=new Map,$s=[],a6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function YS(t,e){switch(t){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":id.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":sd.delete(e.pointerId)}}function iu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=gf(e),e!==null&&Bw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function o6(t,e,n,r,i){switch(e){case"focusin":return Ks=iu(Ks,t,e,n,r,i),!0;case"dragenter":return Gs=iu(Gs,t,e,n,r,i),!0;case"mouseover":return Xs=iu(Xs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return id.set(s,iu(id.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,sd.set(s,iu(sd.get(s)||null,t,e,n,r,i)),!0}return!1}function AI(t){var e=Ua(t.target);if(e!==null){var n=No(e);if(n!==null){if(e=n.tag,e===13){if(e=gI(n),e!==null){t.blockedOn=e,TI(t.priority,function(){EI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Kv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Bv=r,n.target.dispatchEvent(r),Bv=null}else return e=gf(n),e!==null&&Bw(e),t.blockedOn=n,!1;e.shift()}return!0}function QS(t,e,n){Yh(t)&&n.delete(e)}function l6(){Hv=!1,Ks!==null&&Yh(Ks)&&(Ks=null),Gs!==null&&Yh(Gs)&&(Gs=null),Xs!==null&&Yh(Xs)&&(Xs=null),id.forEach(QS),sd.forEach(QS)}function su(t,e){t.blockedOn===e&&(t.blockedOn=null,Hv||(Hv=!0,gr.unstable_scheduleCallback(gr.unstable_NormalPriority,l6)))}function ad(t){function e(i){return su(i,t)}if(0<hh.length){su(hh[0],t);for(var n=1;n<hh.length;n++){var r=hh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ks!==null&&su(Ks,t),Gs!==null&&su(Gs,t),Xs!==null&&su(Xs,t),id.forEach(e),sd.forEach(e),n=0;n<$s.length;n++)r=$s[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<$s.length&&(n=$s[0],n.blockedOn===null);)AI(n),n.blockedOn===null&&$s.shift()}var gl=gs.ReactCurrentBatchConfig,Sp=!0;function c6(t,e,n,r){var i=Qe,s=gl.transition;gl.transition=null;try{Qe=1,Vw(t,e,n,r)}finally{Qe=i,gl.transition=s}}function u6(t,e,n,r){var i=Qe,s=gl.transition;gl.transition=null;try{Qe=4,Vw(t,e,n,r)}finally{Qe=i,gl.transition=s}}function Vw(t,e,n,r){if(Sp){var i=Kv(t,e,n,r);if(i===null)by(t,e,r,Ep,n),YS(t,r);else if(o6(i,t,e,n,r))r.stopPropagation();else if(YS(t,r),e&4&&-1<a6.indexOf(t)){for(;i!==null;){var s=gf(i);if(s!==null&&SI(s),s=Kv(t,e,n,r),s===null&&by(t,e,r,Ep,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else by(t,e,r,null,n)}}var Ep=null;function Kv(t,e,n,r){if(Ep=null,t=$w(r),t=Ua(t),t!==null)if(e=No(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ep=t,null}function kI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Q$()){case Fw:return 1;case bI:return 4;case _p:case J$:return 16;case wI:return 536870912;default:return 16}default:return 16}}var Vs=null,zw=null,Qh=null;function PI(){if(Qh)return Qh;var t,e=zw,n=e.length,r,i="value"in Vs?Vs.value:Vs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Qh=i.slice(t,1<r?1-r:void 0)}function Jh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ph(){return!0}function JS(){return!1}function xr(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ph:JS,this.isPropagationStopped=JS,this}return jt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ph)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ph)},persist:function(){},isPersistent:ph}),e}var xc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qw=xr(xc),mf=jt({},xc,{view:0,detail:0}),d6=xr(mf),dy,fy,au,dg=jt({},mf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ww,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==au&&(au&&t.type==="mousemove"?(dy=t.screenX-au.screenX,fy=t.screenY-au.screenY):fy=dy=0,au=t),dy)},movementY:function(t){return"movementY"in t?t.movementY:fy}}),ZS=xr(dg),f6=jt({},dg,{dataTransfer:0}),h6=xr(f6),p6=jt({},mf,{relatedTarget:0}),hy=xr(p6),m6=jt({},xc,{animationName:0,elapsedTime:0,pseudoElement:0}),g6=xr(m6),y6=jt({},xc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),v6=xr(y6),x6=jt({},xc,{data:0}),eE=xr(x6),b6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_6[t])?!!e[t]:!1}function Ww(){return j6}var S6=jt({},mf,{key:function(t){if(t.key){var e=b6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?w6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ww,charCode:function(t){return t.type==="keypress"?Jh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),E6=xr(S6),N6=jt({},dg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tE=xr(N6),T6=jt({},mf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ww}),A6=xr(T6),k6=jt({},xc,{propertyName:0,elapsedTime:0,pseudoElement:0}),P6=xr(k6),I6=jt({},dg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),C6=xr(I6),O6=[9,13,27,32],Hw=is&&"CompositionEvent"in window,Lu=null;is&&"documentMode"in document&&(Lu=document.documentMode);var R6=is&&"TextEvent"in window&&!Lu,II=is&&(!Hw||Lu&&8<Lu&&11>=Lu),nE=" ",rE=!1;function CI(t,e){switch(t){case"keyup":return O6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function OI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var el=!1;function D6(t,e){switch(t){case"compositionend":return OI(e);case"keypress":return e.which!==32?null:(rE=!0,nE);case"textInput":return t=e.data,t===nE&&rE?null:t;default:return null}}function L6(t,e){if(el)return t==="compositionend"||!Hw&&CI(t,e)?(t=PI(),Qh=zw=Vs=null,el=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return II&&e.locale!=="ko"?null:e.data;default:return null}}var M6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!M6[t.type]:e==="textarea"}function RI(t,e,n,r){dI(r),e=Np(e,"onChange"),0<e.length&&(n=new qw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Mu=null,od=null;function $6(t){WI(t,0)}function fg(t){var e=rl(t);if(iI(e))return t}function F6(t,e){if(t==="change")return e}var DI=!1;if(is){var py;if(is){var my="oninput"in document;if(!my){var sE=document.createElement("div");sE.setAttribute("oninput","return;"),my=typeof sE.oninput=="function"}py=my}else py=!1;DI=py&&(!document.documentMode||9<document.documentMode)}function aE(){Mu&&(Mu.detachEvent("onpropertychange",LI),od=Mu=null)}function LI(t){if(t.propertyName==="value"&&fg(od)){var e=[];RI(e,od,t,$w(t)),mI($6,e)}}function U6(t,e,n){t==="focusin"?(aE(),Mu=e,od=n,Mu.attachEvent("onpropertychange",LI)):t==="focusout"&&aE()}function B6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fg(od)}function V6(t,e){if(t==="click")return fg(e)}function z6(t,e){if(t==="input"||t==="change")return fg(e)}function q6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ci=typeof Object.is=="function"?Object.is:q6;function ld(t,e){if(ci(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!kv.call(e,i)||!ci(t[i],e[i]))return!1}return!0}function oE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lE(t,e){var n=oE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=oE(n)}}function MI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?MI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $I(){for(var t=window,e=xp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xp(t.document)}return e}function Kw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function W6(t){var e=$I(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&MI(n.ownerDocument.documentElement,n)){if(r!==null&&Kw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=lE(n,s);var a=lE(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var H6=is&&"documentMode"in document&&11>=document.documentMode,tl=null,Gv=null,$u=null,Xv=!1;function cE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xv||tl==null||tl!==xp(r)||(r=tl,"selectionStart"in r&&Kw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$u&&ld($u,r)||($u=r,r=Np(Gv,"onSelect"),0<r.length&&(e=new qw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=tl)))}function mh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var nl={animationend:mh("Animation","AnimationEnd"),animationiteration:mh("Animation","AnimationIteration"),animationstart:mh("Animation","AnimationStart"),transitionend:mh("Transition","TransitionEnd")},gy={},FI={};is&&(FI=document.createElement("div").style,"AnimationEvent"in window||(delete nl.animationend.animation,delete nl.animationiteration.animation,delete nl.animationstart.animation),"TransitionEvent"in window||delete nl.transitionend.transition);function hg(t){if(gy[t])return gy[t];if(!nl[t])return t;var e=nl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in FI)return gy[t]=e[n];return t}var UI=hg("animationend"),BI=hg("animationiteration"),VI=hg("animationstart"),zI=hg("transitionend"),qI=new Map,uE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ma(t,e){qI.set(t,e),Eo(e,[t])}for(var yy=0;yy<uE.length;yy++){var vy=uE[yy],K6=vy.toLowerCase(),G6=vy[0].toUpperCase()+vy.slice(1);ma(K6,"on"+G6)}ma(UI,"onAnimationEnd");ma(BI,"onAnimationIteration");ma(VI,"onAnimationStart");ma("dblclick","onDoubleClick");ma("focusin","onFocus");ma("focusout","onBlur");ma(zI,"onTransitionEnd");Il("onMouseEnter",["mouseout","mouseover"]);Il("onMouseLeave",["mouseout","mouseover"]);Il("onPointerEnter",["pointerout","pointerover"]);Il("onPointerLeave",["pointerout","pointerover"]);Eo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Eo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Eo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Eo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Eo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Eo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nu));function dE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,K$(r,e,void 0,t),t.currentTarget=null}function WI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;dE(i,l,u),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;dE(i,l,u),s=c}}}if(wp)throw t=qv,wp=!1,qv=null,t}function dt(t,e){var n=e[ex];n===void 0&&(n=e[ex]=new Set);var r=t+"__bubble";n.has(r)||(HI(e,t,2,!1),n.add(r))}function xy(t,e,n){var r=0;e&&(r|=4),HI(n,t,r,e)}var gh="_reactListening"+Math.random().toString(36).slice(2);function cd(t){if(!t[gh]){t[gh]=!0,ZP.forEach(function(n){n!=="selectionchange"&&(X6.has(n)||xy(n,!1,t),xy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gh]||(e[gh]=!0,xy("selectionchange",!1,e))}}function HI(t,e,n,r){switch(kI(e)){case 1:var i=c6;break;case 4:i=u6;break;default:i=Vw}n=i.bind(null,e,n,t),i=void 0,!zv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function by(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Ua(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}mI(function(){var u=s,d=$w(n),f=[];e:{var p=qI.get(t);if(p!==void 0){var v=qw,g=t;switch(t){case"keypress":if(Jh(n)===0)break e;case"keydown":case"keyup":v=E6;break;case"focusin":g="focus",v=hy;break;case"focusout":g="blur",v=hy;break;case"beforeblur":case"afterblur":v=hy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=ZS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=h6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=A6;break;case UI:case BI:case VI:v=g6;break;case zI:v=P6;break;case"scroll":v=d6;break;case"wheel":v=C6;break;case"copy":case"cut":case"paste":v=v6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=tE}var y=(e&4)!==0,m=!y&&t==="scroll",x=y?p!==null?p+"Capture":null:p;y=[];for(var w=u,b;w!==null;){b=w;var T=b.stateNode;if(b.tag===5&&T!==null&&(b=T,x!==null&&(T=rd(w,x),T!=null&&y.push(ud(w,T,b)))),m)break;w=w.return}0<y.length&&(p=new v(p,g,null,n,d),f.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==Bv&&(g=n.relatedTarget||n.fromElement)&&(Ua(g)||g[ss]))break e;if((v||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,v?(g=n.relatedTarget||n.toElement,v=u,g=g?Ua(g):null,g!==null&&(m=No(g),g!==m||g.tag!==5&&g.tag!==6)&&(g=null)):(v=null,g=u),v!==g)){if(y=ZS,T="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=tE,T="onPointerLeave",x="onPointerEnter",w="pointer"),m=v==null?p:rl(v),b=g==null?p:rl(g),p=new y(T,w+"leave",v,n,d),p.target=m,p.relatedTarget=b,T=null,Ua(d)===u&&(y=new y(x,w+"enter",g,n,d),y.target=b,y.relatedTarget=m,T=y),m=T,v&&g)t:{for(y=v,x=g,w=0,b=y;b;b=qo(b))w++;for(b=0,T=x;T;T=qo(T))b++;for(;0<w-b;)y=qo(y),w--;for(;0<b-w;)x=qo(x),b--;for(;w--;){if(y===x||x!==null&&y===x.alternate)break t;y=qo(y),x=qo(x)}y=null}else y=null;v!==null&&fE(f,p,v,y,!1),g!==null&&m!==null&&fE(f,m,g,y,!0)}}e:{if(p=u?rl(u):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var N=F6;else if(iE(p))if(DI)N=z6;else{N=B6;var A=U6}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=V6);if(N&&(N=N(t,u))){RI(f,N,n,d);break e}A&&A(t,p,u),t==="focusout"&&(A=p._wrapperState)&&A.controlled&&p.type==="number"&&Lv(p,"number",p.value)}switch(A=u?rl(u):window,t){case"focusin":(iE(A)||A.contentEditable==="true")&&(tl=A,Gv=u,$u=null);break;case"focusout":$u=Gv=tl=null;break;case"mousedown":Xv=!0;break;case"contextmenu":case"mouseup":case"dragend":Xv=!1,cE(f,n,d);break;case"selectionchange":if(H6)break;case"keydown":case"keyup":cE(f,n,d)}var _;if(Hw)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else el?CI(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(II&&n.locale!=="ko"&&(el||S!=="onCompositionStart"?S==="onCompositionEnd"&&el&&(_=PI()):(Vs=d,zw="value"in Vs?Vs.value:Vs.textContent,el=!0)),A=Np(u,S),0<A.length&&(S=new eE(S,t,null,n,d),f.push({event:S,listeners:A}),_?S.data=_:(_=OI(n),_!==null&&(S.data=_)))),(_=R6?D6(t,n):L6(t,n))&&(u=Np(u,"onBeforeInput"),0<u.length&&(d=new eE("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=_))}WI(f,e)})}function ud(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Np(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=rd(t,n),s!=null&&r.unshift(ud(t,s,i)),s=rd(t,e),s!=null&&r.push(ud(t,s,i))),t=t.return}return r}function qo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function fE(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=rd(n,s),c!=null&&a.unshift(ud(n,c,l))):i||(c=rd(n,s),c!=null&&a.push(ud(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Y6=/\r\n?/g,Q6=/\u0000|\uFFFD/g;function hE(t){return(typeof t=="string"?t:""+t).replace(Y6,`
`).replace(Q6,"")}function yh(t,e,n){if(e=hE(e),hE(t)!==e&&n)throw Error(ne(425))}function Tp(){}var Yv=null,Qv=null;function Jv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zv=typeof setTimeout=="function"?setTimeout:void 0,J6=typeof clearTimeout=="function"?clearTimeout:void 0,pE=typeof Promise=="function"?Promise:void 0,Z6=typeof queueMicrotask=="function"?queueMicrotask:typeof pE<"u"?function(t){return pE.resolve(null).then(t).catch(eF)}:Zv;function eF(t){setTimeout(function(){throw t})}function wy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ad(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ad(e)}function Ys(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function mE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var bc=Math.random().toString(36).slice(2),vi="__reactFiber$"+bc,dd="__reactProps$"+bc,ss="__reactContainer$"+bc,ex="__reactEvents$"+bc,tF="__reactListeners$"+bc,nF="__reactHandles$"+bc;function Ua(t){var e=t[vi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ss]||n[vi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=mE(t);t!==null;){if(n=t[vi])return n;t=mE(t)}return e}t=n,n=t.parentNode}return null}function gf(t){return t=t[vi]||t[ss],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function rl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ne(33))}function pg(t){return t[dd]||null}var tx=[],il=-1;function ga(t){return{current:t}}function pt(t){0>il||(t.current=tx[il],tx[il]=null,il--)}function ct(t,e){il++,tx[il]=t.current,t.current=e}var ua={},Rn=ga(ua),Yn=ga(!1),so=ua;function Cl(t,e){var n=t.type.contextTypes;if(!n)return ua;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Qn(t){return t=t.childContextTypes,t!=null}function Ap(){pt(Yn),pt(Rn)}function gE(t,e,n){if(Rn.current!==ua)throw Error(ne(168));ct(Rn,e),ct(Yn,n)}function KI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ne(108,U$(t)||"Unknown",i));return jt({},n,r)}function kp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ua,so=Rn.current,ct(Rn,t),ct(Yn,Yn.current),!0}function yE(t,e,n){var r=t.stateNode;if(!r)throw Error(ne(169));n?(t=KI(t,e,so),r.__reactInternalMemoizedMergedChildContext=t,pt(Yn),pt(Rn),ct(Rn,t)):pt(Yn),ct(Yn,n)}var Bi=null,mg=!1,_y=!1;function GI(t){Bi===null?Bi=[t]:Bi.push(t)}function rF(t){mg=!0,GI(t)}function ya(){if(!_y&&Bi!==null){_y=!0;var t=0,e=Qe;try{var n=Bi;for(Qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Bi=null,mg=!1}catch(i){throw Bi!==null&&(Bi=Bi.slice(t+1)),xI(Fw,ya),i}finally{Qe=e,_y=!1}}return null}var sl=[],al=0,Pp=null,Ip=0,Sr=[],Er=0,ao=null,Wi=1,Hi="";function Oa(t,e){sl[al++]=Ip,sl[al++]=Pp,Pp=t,Ip=e}function XI(t,e,n){Sr[Er++]=Wi,Sr[Er++]=Hi,Sr[Er++]=ao,ao=t;var r=Wi;t=Hi;var i=32-ai(r)-1;r&=~(1<<i),n+=1;var s=32-ai(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Wi=1<<32-ai(e)+i|n<<i|r,Hi=s+t}else Wi=1<<s|n<<i|r,Hi=t}function Gw(t){t.return!==null&&(Oa(t,1),XI(t,1,0))}function Xw(t){for(;t===Pp;)Pp=sl[--al],sl[al]=null,Ip=sl[--al],sl[al]=null;for(;t===ao;)ao=Sr[--Er],Sr[Er]=null,Hi=Sr[--Er],Sr[Er]=null,Wi=Sr[--Er],Sr[Er]=null}var hr=null,ur=null,yt=!1,Jr=null;function YI(t,e){var n=Nr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function vE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hr=t,ur=Ys(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hr=t,ur=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ao!==null?{id:Wi,overflow:Hi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Nr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,hr=t,ur=null,!0):!1;default:return!1}}function nx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function rx(t){if(yt){var e=ur;if(e){var n=e;if(!vE(t,e)){if(nx(t))throw Error(ne(418));e=Ys(n.nextSibling);var r=hr;e&&vE(t,e)?YI(r,n):(t.flags=t.flags&-4097|2,yt=!1,hr=t)}}else{if(nx(t))throw Error(ne(418));t.flags=t.flags&-4097|2,yt=!1,hr=t}}}function xE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hr=t}function vh(t){if(t!==hr)return!1;if(!yt)return xE(t),yt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Jv(t.type,t.memoizedProps)),e&&(e=ur)){if(nx(t))throw QI(),Error(ne(418));for(;e;)YI(t,e),e=Ys(e.nextSibling)}if(xE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ur=Ys(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ur=null}}else ur=hr?Ys(t.stateNode.nextSibling):null;return!0}function QI(){for(var t=ur;t;)t=Ys(t.nextSibling)}function Ol(){ur=hr=null,yt=!1}function Yw(t){Jr===null?Jr=[t]:Jr.push(t)}var iF=gs.ReactCurrentBatchConfig;function ou(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,t))}return t}function xh(t,e){throw t=Object.prototype.toString.call(e),Error(ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bE(t){var e=t._init;return e(t._payload)}function JI(t){function e(x,w){if(t){var b=x.deletions;b===null?(x.deletions=[w],x.flags|=16):b.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=ea(x,w),x.index=0,x.sibling=null,x}function s(x,w,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<w?(x.flags|=2,w):b):(x.flags|=2,w)):(x.flags|=1048576,w)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,w,b,T){return w===null||w.tag!==6?(w=ky(b,x.mode,T),w.return=x,w):(w=i(w,b),w.return=x,w)}function c(x,w,b,T){var N=b.type;return N===Zo?d(x,w,b.props.children,T,b.key):w!==null&&(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ds&&bE(N)===w.type)?(T=i(w,b.props),T.ref=ou(x,w,b),T.return=x,T):(T=sp(b.type,b.key,b.props,null,x.mode,T),T.ref=ou(x,w,b),T.return=x,T)}function u(x,w,b,T){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=Py(b,x.mode,T),w.return=x,w):(w=i(w,b.children||[]),w.return=x,w)}function d(x,w,b,T,N){return w===null||w.tag!==7?(w=Ja(b,x.mode,T,N),w.return=x,w):(w=i(w,b),w.return=x,w)}function f(x,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=ky(""+w,x.mode,b),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case lh:return b=sp(w.type,w.key,w.props,null,x.mode,b),b.ref=ou(x,null,w),b.return=x,b;case Jo:return w=Py(w,x.mode,b),w.return=x,w;case Ds:var T=w._init;return f(x,T(w._payload),b)}if(Su(w)||nu(w))return w=Ja(w,x.mode,b,null),w.return=x,w;xh(x,w)}return null}function p(x,w,b,T){var N=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:l(x,w,""+b,T);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case lh:return b.key===N?c(x,w,b,T):null;case Jo:return b.key===N?u(x,w,b,T):null;case Ds:return N=b._init,p(x,w,N(b._payload),T)}if(Su(b)||nu(b))return N!==null?null:d(x,w,b,T,null);xh(x,b)}return null}function v(x,w,b,T,N){if(typeof T=="string"&&T!==""||typeof T=="number")return x=x.get(b)||null,l(w,x,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case lh:return x=x.get(T.key===null?b:T.key)||null,c(w,x,T,N);case Jo:return x=x.get(T.key===null?b:T.key)||null,u(w,x,T,N);case Ds:var A=T._init;return v(x,w,b,A(T._payload),N)}if(Su(T)||nu(T))return x=x.get(b)||null,d(w,x,T,N,null);xh(w,T)}return null}function g(x,w,b,T){for(var N=null,A=null,_=w,S=w=0,k=null;_!==null&&S<b.length;S++){_.index>S?(k=_,_=null):k=_.sibling;var O=p(x,_,b[S],T);if(O===null){_===null&&(_=k);break}t&&_&&O.alternate===null&&e(x,_),w=s(O,w,S),A===null?N=O:A.sibling=O,A=O,_=k}if(S===b.length)return n(x,_),yt&&Oa(x,S),N;if(_===null){for(;S<b.length;S++)_=f(x,b[S],T),_!==null&&(w=s(_,w,S),A===null?N=_:A.sibling=_,A=_);return yt&&Oa(x,S),N}for(_=r(x,_);S<b.length;S++)k=v(_,x,S,b[S],T),k!==null&&(t&&k.alternate!==null&&_.delete(k.key===null?S:k.key),w=s(k,w,S),A===null?N=k:A.sibling=k,A=k);return t&&_.forEach(function(P){return e(x,P)}),yt&&Oa(x,S),N}function y(x,w,b,T){var N=nu(b);if(typeof N!="function")throw Error(ne(150));if(b=N.call(b),b==null)throw Error(ne(151));for(var A=N=null,_=w,S=w=0,k=null,O=b.next();_!==null&&!O.done;S++,O=b.next()){_.index>S?(k=_,_=null):k=_.sibling;var P=p(x,_,O.value,T);if(P===null){_===null&&(_=k);break}t&&_&&P.alternate===null&&e(x,_),w=s(P,w,S),A===null?N=P:A.sibling=P,A=P,_=k}if(O.done)return n(x,_),yt&&Oa(x,S),N;if(_===null){for(;!O.done;S++,O=b.next())O=f(x,O.value,T),O!==null&&(w=s(O,w,S),A===null?N=O:A.sibling=O,A=O);return yt&&Oa(x,S),N}for(_=r(x,_);!O.done;S++,O=b.next())O=v(_,x,S,O.value,T),O!==null&&(t&&O.alternate!==null&&_.delete(O.key===null?S:O.key),w=s(O,w,S),A===null?N=O:A.sibling=O,A=O);return t&&_.forEach(function(R){return e(x,R)}),yt&&Oa(x,S),N}function m(x,w,b,T){if(typeof b=="object"&&b!==null&&b.type===Zo&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case lh:e:{for(var N=b.key,A=w;A!==null;){if(A.key===N){if(N=b.type,N===Zo){if(A.tag===7){n(x,A.sibling),w=i(A,b.props.children),w.return=x,x=w;break e}}else if(A.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ds&&bE(N)===A.type){n(x,A.sibling),w=i(A,b.props),w.ref=ou(x,A,b),w.return=x,x=w;break e}n(x,A);break}else e(x,A);A=A.sibling}b.type===Zo?(w=Ja(b.props.children,x.mode,T,b.key),w.return=x,x=w):(T=sp(b.type,b.key,b.props,null,x.mode,T),T.ref=ou(x,w,b),T.return=x,x=T)}return a(x);case Jo:e:{for(A=b.key;w!==null;){if(w.key===A)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(x,w.sibling),w=i(w,b.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=Py(b,x.mode,T),w.return=x,x=w}return a(x);case Ds:return A=b._init,m(x,w,A(b._payload),T)}if(Su(b))return g(x,w,b,T);if(nu(b))return y(x,w,b,T);xh(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,b),w.return=x,x=w):(n(x,w),w=ky(b,x.mode,T),w.return=x,x=w),a(x)):n(x,w)}return m}var Rl=JI(!0),ZI=JI(!1),Cp=ga(null),Op=null,ol=null,Qw=null;function Jw(){Qw=ol=Op=null}function Zw(t){var e=Cp.current;pt(Cp),t._currentValue=e}function ix(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function yl(t,e){Op=t,Qw=ol=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gn=!0),t.firstContext=null)}function Cr(t){var e=t._currentValue;if(Qw!==t)if(t={context:t,memoizedValue:e,next:null},ol===null){if(Op===null)throw Error(ne(308));ol=t,Op.dependencies={lanes:0,firstContext:t}}else ol=ol.next=t;return e}var Ba=null;function e1(t){Ba===null?Ba=[t]:Ba.push(t)}function eC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,e1(e)):(n.next=i.next,i.next=n),e.interleaved=n,as(t,r)}function as(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ls=!1;function t1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,as(t,n)}return i=r.interleaved,i===null?(e.next=e,e1(r)):(e.next=i.next,i.next=e),r.interleaved=e,as(t,n)}function Zh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Uw(t,n)}}function wE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Rp(t,e,n,r){var i=t.updateQueue;Ls=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;a=0,d=u=c=null,l=s;do{var p=l.lane,v=l.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,y=l;switch(p=e,v=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(v,f,p);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,p=typeof g=="function"?g.call(v,f,p):g,p==null)break e;f=jt({},f,p);break e;case 2:Ls=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[l]:p.push(l))}else v={eventTime:v,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,c=f):d=d.next=v,a|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);lo|=a,t.lanes=a,t.memoizedState=f}}function _E(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ne(191,i));i.call(r)}}}var yf={},Si=ga(yf),fd=ga(yf),hd=ga(yf);function Va(t){if(t===yf)throw Error(ne(174));return t}function n1(t,e){switch(ct(hd,e),ct(fd,t),ct(Si,yf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$v(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$v(e,t)}pt(Si),ct(Si,e)}function Dl(){pt(Si),pt(fd),pt(hd)}function nC(t){Va(hd.current);var e=Va(Si.current),n=$v(e,t.type);e!==n&&(ct(fd,t),ct(Si,n))}function r1(t){fd.current===t&&(pt(Si),pt(fd))}var wt=ga(0);function Dp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jy=[];function i1(){for(var t=0;t<jy.length;t++)jy[t]._workInProgressVersionPrimary=null;jy.length=0}var ep=gs.ReactCurrentDispatcher,Sy=gs.ReactCurrentBatchConfig,oo=0,_t=null,Ht=null,rn=null,Lp=!1,Fu=!1,pd=0,sF=0;function jn(){throw Error(ne(321))}function s1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ci(t[n],e[n]))return!1;return!0}function a1(t,e,n,r,i,s){if(oo=s,_t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ep.current=t===null||t.memoizedState===null?cF:uF,t=n(r,i),Fu){s=0;do{if(Fu=!1,pd=0,25<=s)throw Error(ne(301));s+=1,rn=Ht=null,e.updateQueue=null,ep.current=dF,t=n(r,i)}while(Fu)}if(ep.current=Mp,e=Ht!==null&&Ht.next!==null,oo=0,rn=Ht=_t=null,Lp=!1,e)throw Error(ne(300));return t}function o1(){var t=pd!==0;return pd=0,t}function gi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?_t.memoizedState=rn=t:rn=rn.next=t,rn}function Or(){if(Ht===null){var t=_t.alternate;t=t!==null?t.memoizedState:null}else t=Ht.next;var e=rn===null?_t.memoizedState:rn.next;if(e!==null)rn=e,Ht=t;else{if(t===null)throw Error(ne(310));Ht=t,t={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},rn===null?_t.memoizedState=rn=t:rn=rn.next=t}return rn}function md(t,e){return typeof e=="function"?e(t):e}function Ey(t){var e=Or(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=Ht,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((oo&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,_t.lanes|=d,lo|=d}u=u.next}while(u!==null&&u!==s);c===null?a=r:c.next=l,ci(r,e.memoizedState)||(Gn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,_t.lanes|=s,lo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ny(t){var e=Or(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);ci(s,e.memoizedState)||(Gn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function rC(){}function iC(t,e){var n=_t,r=Or(),i=e(),s=!ci(r.memoizedState,i);if(s&&(r.memoizedState=i,Gn=!0),r=r.queue,l1(oC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||rn!==null&&rn.memoizedState.tag&1){if(n.flags|=2048,gd(9,aC.bind(null,n,r,i,e),void 0,null),an===null)throw Error(ne(349));oo&30||sC(n,e,i)}return i}function sC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function aC(t,e,n,r){e.value=n,e.getSnapshot=r,lC(e)&&cC(t)}function oC(t,e,n){return n(function(){lC(e)&&cC(t)})}function lC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ci(t,n)}catch{return!0}}function cC(t){var e=as(t,1);e!==null&&oi(e,t,1,-1)}function jE(t){var e=gi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:md,lastRenderedState:t},e.queue=t,t=t.dispatch=lF.bind(null,_t,t),[e.memoizedState,t]}function gd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function uC(){return Or().memoizedState}function tp(t,e,n,r){var i=gi();_t.flags|=t,i.memoizedState=gd(1|e,n,void 0,r===void 0?null:r)}function gg(t,e,n,r){var i=Or();r=r===void 0?null:r;var s=void 0;if(Ht!==null){var a=Ht.memoizedState;if(s=a.destroy,r!==null&&s1(r,a.deps)){i.memoizedState=gd(e,n,s,r);return}}_t.flags|=t,i.memoizedState=gd(1|e,n,s,r)}function SE(t,e){return tp(8390656,8,t,e)}function l1(t,e){return gg(2048,8,t,e)}function dC(t,e){return gg(4,2,t,e)}function fC(t,e){return gg(4,4,t,e)}function hC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pC(t,e,n){return n=n!=null?n.concat([t]):null,gg(4,4,hC.bind(null,e,t),n)}function c1(){}function mC(t,e){var n=Or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&s1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function gC(t,e){var n=Or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&s1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function yC(t,e,n){return oo&21?(ci(n,e)||(n=_I(),_t.lanes|=n,lo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gn=!0),t.memoizedState=n)}function aF(t,e){var n=Qe;Qe=n!==0&&4>n?n:4,t(!0);var r=Sy.transition;Sy.transition={};try{t(!1),e()}finally{Qe=n,Sy.transition=r}}function vC(){return Or().memoizedState}function oF(t,e,n){var r=Zs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xC(t))bC(e,n);else if(n=eC(t,e,n,r),n!==null){var i=Un();oi(n,t,r,i),wC(n,e,r)}}function lF(t,e,n){var r=Zs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xC(t))bC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,ci(l,a)){var c=e.interleaved;c===null?(i.next=i,e1(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=eC(t,e,i,r),n!==null&&(i=Un(),oi(n,t,r,i),wC(n,e,r))}}function xC(t){var e=t.alternate;return t===_t||e!==null&&e===_t}function bC(t,e){Fu=Lp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Uw(t,n)}}var Mp={readContext:Cr,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useInsertionEffect:jn,useLayoutEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useMutableSource:jn,useSyncExternalStore:jn,useId:jn,unstable_isNewReconciler:!1},cF={readContext:Cr,useCallback:function(t,e){return gi().memoizedState=[t,e===void 0?null:e],t},useContext:Cr,useEffect:SE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,tp(4194308,4,hC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return tp(4194308,4,t,e)},useInsertionEffect:function(t,e){return tp(4,2,t,e)},useMemo:function(t,e){var n=gi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=oF.bind(null,_t,t),[r.memoizedState,t]},useRef:function(t){var e=gi();return t={current:t},e.memoizedState=t},useState:jE,useDebugValue:c1,useDeferredValue:function(t){return gi().memoizedState=t},useTransition:function(){var t=jE(!1),e=t[0];return t=aF.bind(null,t[1]),gi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=_t,i=gi();if(yt){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=e(),an===null)throw Error(ne(349));oo&30||sC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,SE(oC.bind(null,r,s,t),[t]),r.flags|=2048,gd(9,aC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=gi(),e=an.identifierPrefix;if(yt){var n=Hi,r=Wi;n=(r&~(1<<32-ai(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=pd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=sF++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uF={readContext:Cr,useCallback:mC,useContext:Cr,useEffect:l1,useImperativeHandle:pC,useInsertionEffect:dC,useLayoutEffect:fC,useMemo:gC,useReducer:Ey,useRef:uC,useState:function(){return Ey(md)},useDebugValue:c1,useDeferredValue:function(t){var e=Or();return yC(e,Ht.memoizedState,t)},useTransition:function(){var t=Ey(md)[0],e=Or().memoizedState;return[t,e]},useMutableSource:rC,useSyncExternalStore:iC,useId:vC,unstable_isNewReconciler:!1},dF={readContext:Cr,useCallback:mC,useContext:Cr,useEffect:l1,useImperativeHandle:pC,useInsertionEffect:dC,useLayoutEffect:fC,useMemo:gC,useReducer:Ny,useRef:uC,useState:function(){return Ny(md)},useDebugValue:c1,useDeferredValue:function(t){var e=Or();return Ht===null?e.memoizedState=t:yC(e,Ht.memoizedState,t)},useTransition:function(){var t=Ny(md)[0],e=Or().memoizedState;return[t,e]},useMutableSource:rC,useSyncExternalStore:iC,useId:vC,unstable_isNewReconciler:!1};function Gr(t,e){if(t&&t.defaultProps){e=jt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function sx(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:jt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var yg={isMounted:function(t){return(t=t._reactInternals)?No(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Un(),i=Zs(t),s=Zi(r,i);s.payload=e,n!=null&&(s.callback=n),e=Qs(t,s,i),e!==null&&(oi(e,t,i,r),Zh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Un(),i=Zs(t),s=Zi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Qs(t,s,i),e!==null&&(oi(e,t,i,r),Zh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Un(),r=Zs(t),i=Zi(n,r);i.tag=2,e!=null&&(i.callback=e),e=Qs(t,i,r),e!==null&&(oi(e,t,r,n),Zh(e,t,r))}};function EE(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!ld(n,r)||!ld(i,s):!0}function _C(t,e,n){var r=!1,i=ua,s=e.contextType;return typeof s=="object"&&s!==null?s=Cr(s):(i=Qn(e)?so:Rn.current,r=e.contextTypes,s=(r=r!=null)?Cl(t,i):ua),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function NE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yg.enqueueReplaceState(e,e.state,null)}function ax(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},t1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Cr(s):(s=Qn(e)?so:Rn.current,i.context=Cl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(sx(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&yg.enqueueReplaceState(i,i.state,null),Rp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ll(t,e){try{var n="",r=e;do n+=F$(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ty(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ox(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var fF=typeof WeakMap=="function"?WeakMap:Map;function jC(t,e,n){n=Zi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Fp||(Fp=!0,yx=r),ox(t,e)},n}function SC(t,e,n){n=Zi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ox(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ox(t,e),typeof r!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function TE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new fF;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=NF.bind(null,t,e,n),e.then(t,t))}function AE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function kE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zi(-1,1),e.tag=2,Qs(n,e,1))),n.lanes|=1),t)}var hF=gs.ReactCurrentOwner,Gn=!1;function $n(t,e,n,r){e.child=t===null?ZI(e,null,n,r):Rl(e,t.child,n,r)}function PE(t,e,n,r,i){n=n.render;var s=e.ref;return yl(e,i),r=a1(t,e,n,r,s,i),n=o1(),t!==null&&!Gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,os(t,e,i)):(yt&&n&&Gw(e),e.flags|=1,$n(t,e,r,i),e.child)}function IE(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!y1(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,EC(t,e,s,r,i)):(t=sp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:ld,n(a,r)&&t.ref===e.ref)return os(t,e,i)}return e.flags|=1,t=ea(s,r),t.ref=e.ref,t.return=e,e.child=t}function EC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ld(s,r)&&t.ref===e.ref)if(Gn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Gn=!0);else return e.lanes=t.lanes,os(t,e,i)}return lx(t,e,n,r,i)}function NC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(cl,or),or|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ct(cl,or),or|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ct(cl,or),or|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ct(cl,or),or|=r;return $n(t,e,i,n),e.child}function TC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function lx(t,e,n,r,i){var s=Qn(n)?so:Rn.current;return s=Cl(e,s),yl(e,i),n=a1(t,e,n,r,s,i),r=o1(),t!==null&&!Gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,os(t,e,i)):(yt&&r&&Gw(e),e.flags|=1,$n(t,e,n,i),e.child)}function CE(t,e,n,r,i){if(Qn(n)){var s=!0;kp(e)}else s=!1;if(yl(e,i),e.stateNode===null)np(t,e),_C(e,n,r),ax(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Cr(u):(u=Qn(n)?so:Rn.current,u=Cl(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&NE(e,a,r,u),Ls=!1;var p=e.memoizedState;a.state=p,Rp(e,r,a,i),c=e.memoizedState,l!==r||p!==c||Yn.current||Ls?(typeof d=="function"&&(sx(e,n,d,r),c=e.memoizedState),(l=Ls||EE(e,n,l,r,p,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,tC(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Gr(e.type,l),a.props=u,f=e.pendingProps,p=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Cr(c):(c=Qn(n)?so:Rn.current,c=Cl(e,c));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||p!==c)&&NE(e,a,r,c),Ls=!1,p=e.memoizedState,a.state=p,Rp(e,r,a,i);var g=e.memoizedState;l!==f||p!==g||Yn.current||Ls?(typeof v=="function"&&(sx(e,n,v,r),g=e.memoizedState),(u=Ls||EE(e,n,u,r,p,g,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return cx(t,e,n,r,s,i)}function cx(t,e,n,r,i,s){TC(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&yE(e,n,!1),os(t,e,s);r=e.stateNode,hF.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Rl(e,t.child,null,s),e.child=Rl(e,null,l,s)):$n(t,e,l,s),e.memoizedState=r.state,i&&yE(e,n,!0),e.child}function AC(t){var e=t.stateNode;e.pendingContext?gE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&gE(t,e.context,!1),n1(t,e.containerInfo)}function OE(t,e,n,r,i){return Ol(),Yw(i),e.flags|=256,$n(t,e,n,r),e.child}var ux={dehydrated:null,treeContext:null,retryLane:0};function dx(t){return{baseLanes:t,cachePool:null,transitions:null}}function kC(t,e,n){var r=e.pendingProps,i=wt.current,s=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ct(wt,i&1),t===null)return rx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=bg(a,r,0,null),t=Ja(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=dx(n),e.memoizedState=ux,t):u1(e,a));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return pF(t,e,a,r,l,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ea(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=ea(l,s):(s=Ja(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?dx(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=ux,r}return s=t.child,t=s.sibling,r=ea(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function u1(t,e){return e=bg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bh(t,e,n,r){return r!==null&&Yw(r),Rl(e,t.child,null,n),t=u1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pF(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=Ty(Error(ne(422))),bh(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=bg({mode:"visible",children:r.children},i,0,null),s=Ja(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Rl(e,t.child,null,a),e.child.memoizedState=dx(a),e.memoizedState=ux,s);if(!(e.mode&1))return bh(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(ne(419)),r=Ty(s,r,void 0),bh(t,e,a,r)}if(l=(a&t.childLanes)!==0,Gn||l){if(r=an,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,as(t,i),oi(r,t,i,-1))}return g1(),r=Ty(Error(ne(421))),bh(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=TF.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ur=Ys(i.nextSibling),hr=e,yt=!0,Jr=null,t!==null&&(Sr[Er++]=Wi,Sr[Er++]=Hi,Sr[Er++]=ao,Wi=t.id,Hi=t.overflow,ao=e),e=u1(e,r.children),e.flags|=4096,e)}function RE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ix(t.return,e,n)}function Ay(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function PC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if($n(t,e,r.children,n),r=wt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&RE(t,n,e);else if(t.tag===19)RE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ct(wt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Dp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ay(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Dp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ay(e,!0,n,null,s);break;case"together":Ay(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function np(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function os(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),lo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ne(153));if(e.child!==null){for(t=e.child,n=ea(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ea(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function mF(t,e,n){switch(e.tag){case 3:AC(e),Ol();break;case 5:nC(e);break;case 1:Qn(e.type)&&kp(e);break;case 4:n1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ct(Cp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ct(wt,wt.current&1),e.flags|=128,null):n&e.child.childLanes?kC(t,e,n):(ct(wt,wt.current&1),t=os(t,e,n),t!==null?t.sibling:null);ct(wt,wt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return PC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ct(wt,wt.current),r)break;return null;case 22:case 23:return e.lanes=0,NC(t,e,n)}return os(t,e,n)}var IC,fx,CC,OC;IC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fx=function(){};CC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Va(Si.current);var s=null;switch(n){case"input":i=Rv(t,i),r=Rv(t,r),s=[];break;case"select":i=jt({},i,{value:void 0}),r=jt({},r,{value:void 0}),s=[];break;case"textarea":i=Mv(t,i),r=Mv(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Tp)}Fv(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(td.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(td.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&dt("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};OC=function(t,e,n,r){n!==r&&(e.flags|=4)};function lu(t,e){if(!yt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Sn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function gF(t,e,n){var r=e.pendingProps;switch(Xw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(e),null;case 1:return Qn(e.type)&&Ap(),Sn(e),null;case 3:return r=e.stateNode,Dl(),pt(Yn),pt(Rn),i1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(vh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jr!==null&&(bx(Jr),Jr=null))),fx(t,e),Sn(e),null;case 5:r1(e);var i=Va(hd.current);if(n=e.type,t!==null&&e.stateNode!=null)CC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ne(166));return Sn(e),null}if(t=Va(Si.current),vh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[vi]=e,r[dd]=s,t=(e.mode&1)!==0,n){case"dialog":dt("cancel",r),dt("close",r);break;case"iframe":case"object":case"embed":dt("load",r);break;case"video":case"audio":for(i=0;i<Nu.length;i++)dt(Nu[i],r);break;case"source":dt("error",r);break;case"img":case"image":case"link":dt("error",r),dt("load",r);break;case"details":dt("toggle",r);break;case"input":zS(r,s),dt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},dt("invalid",r);break;case"textarea":WS(r,s),dt("invalid",r)}Fv(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&yh(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&yh(r.textContent,l,t),i=["children",""+l]):td.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&dt("scroll",r)}switch(n){case"input":ch(r),qS(r,s,!0);break;case"textarea":ch(r),HS(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Tp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=oI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[vi]=e,t[dd]=r,IC(t,e,!1,!1),e.stateNode=t;e:{switch(a=Uv(n,r),n){case"dialog":dt("cancel",t),dt("close",t),i=r;break;case"iframe":case"object":case"embed":dt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Nu.length;i++)dt(Nu[i],t);i=r;break;case"source":dt("error",t),i=r;break;case"img":case"image":case"link":dt("error",t),dt("load",t),i=r;break;case"details":dt("toggle",t),i=r;break;case"input":zS(t,r),i=Rv(t,r),dt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=jt({},r,{value:void 0}),dt("invalid",t);break;case"textarea":WS(t,r),i=Mv(t,r),dt("invalid",t);break;default:i=r}Fv(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?uI(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&lI(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&nd(t,c):typeof c=="number"&&nd(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(td.hasOwnProperty(s)?c!=null&&s==="onScroll"&&dt("scroll",t):c!=null&&Rw(t,s,c,a))}switch(n){case"input":ch(t),qS(t,r,!1);break;case"textarea":ch(t),HS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ca(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?hl(t,!!r.multiple,s,!1):r.defaultValue!=null&&hl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Tp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Sn(e),null;case 6:if(t&&e.stateNode!=null)OC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ne(166));if(n=Va(hd.current),Va(Si.current),vh(e)){if(r=e.stateNode,n=e.memoizedProps,r[vi]=e,(s=r.nodeValue!==n)&&(t=hr,t!==null))switch(t.tag){case 3:yh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&yh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vi]=e,e.stateNode=r}return Sn(e),null;case 13:if(pt(wt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(yt&&ur!==null&&e.mode&1&&!(e.flags&128))QI(),Ol(),e.flags|=98560,s=!1;else if(s=vh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ne(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ne(317));s[vi]=e}else Ol(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Sn(e),s=!1}else Jr!==null&&(bx(Jr),Jr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||wt.current&1?Gt===0&&(Gt=3):g1())),e.updateQueue!==null&&(e.flags|=4),Sn(e),null);case 4:return Dl(),fx(t,e),t===null&&cd(e.stateNode.containerInfo),Sn(e),null;case 10:return Zw(e.type._context),Sn(e),null;case 17:return Qn(e.type)&&Ap(),Sn(e),null;case 19:if(pt(wt),s=e.memoizedState,s===null)return Sn(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)lu(s,!1);else{if(Gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Dp(t),a!==null){for(e.flags|=128,lu(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ct(wt,wt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Rt()>Ml&&(e.flags|=128,r=!0,lu(s,!1),e.lanes=4194304)}else{if(!r)if(t=Dp(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),lu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!yt)return Sn(e),null}else 2*Rt()-s.renderingStartTime>Ml&&n!==1073741824&&(e.flags|=128,r=!0,lu(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Rt(),e.sibling=null,n=wt.current,ct(wt,r?n&1|2:n&1),e):(Sn(e),null);case 22:case 23:return m1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?or&1073741824&&(Sn(e),e.subtreeFlags&6&&(e.flags|=8192)):Sn(e),null;case 24:return null;case 25:return null}throw Error(ne(156,e.tag))}function yF(t,e){switch(Xw(e),e.tag){case 1:return Qn(e.type)&&Ap(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Dl(),pt(Yn),pt(Rn),i1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return r1(e),null;case 13:if(pt(wt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ne(340));Ol()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pt(wt),null;case 4:return Dl(),null;case 10:return Zw(e.type._context),null;case 22:case 23:return m1(),null;case 24:return null;default:return null}}var wh=!1,An=!1,vF=typeof WeakSet=="function"?WeakSet:Set,ce=null;function ll(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){kt(t,e,r)}else n.current=null}function hx(t,e,n){try{n()}catch(r){kt(t,e,r)}}var DE=!1;function xF(t,e){if(Yv=Sp,t=$I(),Kw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=t,p=null;t:for(;;){for(var v;f!==n||i!==0&&f.nodeType!==3||(l=a+i),f!==s||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(v=f.firstChild)!==null;)p=f,f=v;for(;;){if(f===t)break t;if(p===n&&++u===i&&(l=a),p===s&&++d===r&&(c=a),(v=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qv={focusedElem:t,selectionRange:n},Sp=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,m=g.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:Gr(e.type,y),m);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(T){kt(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return g=DE,DE=!1,g}function Uu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&hx(e,n,s)}i=i.next}while(i!==r)}}function vg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function px(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function RC(t){var e=t.alternate;e!==null&&(t.alternate=null,RC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vi],delete e[dd],delete e[ex],delete e[tF],delete e[nF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function DC(t){return t.tag===5||t.tag===3||t.tag===4}function LE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||DC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Tp));else if(r!==4&&(t=t.child,t!==null))for(mx(t,e,n),t=t.sibling;t!==null;)mx(t,e,n),t=t.sibling}function gx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(gx(t,e,n),t=t.sibling;t!==null;)gx(t,e,n),t=t.sibling}var dn=null,Xr=!1;function Is(t,e,n){for(n=n.child;n!==null;)LC(t,e,n),n=n.sibling}function LC(t,e,n){if(ji&&typeof ji.onCommitFiberUnmount=="function")try{ji.onCommitFiberUnmount(ug,n)}catch{}switch(n.tag){case 5:An||ll(n,e);case 6:var r=dn,i=Xr;dn=null,Is(t,e,n),dn=r,Xr=i,dn!==null&&(Xr?(t=dn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dn.removeChild(n.stateNode));break;case 18:dn!==null&&(Xr?(t=dn,n=n.stateNode,t.nodeType===8?wy(t.parentNode,n):t.nodeType===1&&wy(t,n),ad(t)):wy(dn,n.stateNode));break;case 4:r=dn,i=Xr,dn=n.stateNode.containerInfo,Xr=!0,Is(t,e,n),dn=r,Xr=i;break;case 0:case 11:case 14:case 15:if(!An&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&hx(n,e,a),i=i.next}while(i!==r)}Is(t,e,n);break;case 1:if(!An&&(ll(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){kt(n,e,l)}Is(t,e,n);break;case 21:Is(t,e,n);break;case 22:n.mode&1?(An=(r=An)||n.memoizedState!==null,Is(t,e,n),An=r):Is(t,e,n);break;default:Is(t,e,n)}}function ME(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new vF),e.forEach(function(r){var i=AF.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function qr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:dn=l.stateNode,Xr=!1;break e;case 3:dn=l.stateNode.containerInfo,Xr=!0;break e;case 4:dn=l.stateNode.containerInfo,Xr=!0;break e}l=l.return}if(dn===null)throw Error(ne(160));LC(s,a,i),dn=null,Xr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){kt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)MC(e,t),e=e.sibling}function MC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qr(e,t),pi(t),r&4){try{Uu(3,t,t.return),vg(3,t)}catch(y){kt(t,t.return,y)}try{Uu(5,t,t.return)}catch(y){kt(t,t.return,y)}}break;case 1:qr(e,t),pi(t),r&512&&n!==null&&ll(n,n.return);break;case 5:if(qr(e,t),pi(t),r&512&&n!==null&&ll(n,n.return),t.flags&32){var i=t.stateNode;try{nd(i,"")}catch(y){kt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&sI(i,s),Uv(l,a);var u=Uv(l,s);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?uI(i,f):d==="dangerouslySetInnerHTML"?lI(i,f):d==="children"?nd(i,f):Rw(i,d,f,u)}switch(l){case"input":Dv(i,s);break;case"textarea":aI(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?hl(i,!!s.multiple,v,!1):p!==!!s.multiple&&(s.defaultValue!=null?hl(i,!!s.multiple,s.defaultValue,!0):hl(i,!!s.multiple,s.multiple?[]:"",!1))}i[dd]=s}catch(y){kt(t,t.return,y)}}break;case 6:if(qr(e,t),pi(t),r&4){if(t.stateNode===null)throw Error(ne(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){kt(t,t.return,y)}}break;case 3:if(qr(e,t),pi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ad(e.containerInfo)}catch(y){kt(t,t.return,y)}break;case 4:qr(e,t),pi(t);break;case 13:qr(e,t),pi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(h1=Rt())),r&4&&ME(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(An=(u=An)||d,qr(e,t),An=u):qr(e,t),pi(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ce=t,d=t.child;d!==null;){for(f=ce=d;ce!==null;){switch(p=ce,v=p.child,p.tag){case 0:case 11:case 14:case 15:Uu(4,p,p.return);break;case 1:ll(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){kt(r,n,y)}}break;case 5:ll(p,p.return);break;case 22:if(p.memoizedState!==null){FE(f);continue}}v!==null?(v.return=p,ce=v):FE(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=cI("display",a))}catch(y){kt(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){kt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qr(e,t),pi(t),r&4&&ME(t);break;case 21:break;default:qr(e,t),pi(t)}}function pi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(DC(n)){var r=n;break e}n=n.return}throw Error(ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(nd(i,""),r.flags&=-33);var s=LE(t);gx(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=LE(t);mx(t,l,a);break;default:throw Error(ne(161))}}catch(c){kt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bF(t,e,n){ce=t,$C(t)}function $C(t,e,n){for(var r=(t.mode&1)!==0;ce!==null;){var i=ce,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||wh;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||An;l=wh;var u=An;if(wh=a,(An=c)&&!u)for(ce=i;ce!==null;)a=ce,c=a.child,a.tag===22&&a.memoizedState!==null?UE(i):c!==null?(c.return=a,ce=c):UE(i);for(;s!==null;)ce=s,$C(s),s=s.sibling;ce=i,wh=l,An=u}$E(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ce=s):$E(t)}}function $E(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:An||vg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!An)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Gr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&_E(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_E(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ad(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}An||e.flags&512&&px(e)}catch(p){kt(e,e.return,p)}}if(e===t){ce=null;break}if(n=e.sibling,n!==null){n.return=e.return,ce=n;break}ce=e.return}}function FE(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ce=n;break}ce=e.return}}function UE(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{vg(4,e)}catch(c){kt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){kt(e,i,c)}}var s=e.return;try{px(e)}catch(c){kt(e,s,c)}break;case 5:var a=e.return;try{px(e)}catch(c){kt(e,a,c)}}}catch(c){kt(e,e.return,c)}if(e===t){ce=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ce=l;break}ce=e.return}}var wF=Math.ceil,$p=gs.ReactCurrentDispatcher,d1=gs.ReactCurrentOwner,Ar=gs.ReactCurrentBatchConfig,Ve=0,an=null,Vt=null,gn=0,or=0,cl=ga(0),Gt=0,yd=null,lo=0,xg=0,f1=0,Bu=null,Hn=null,h1=0,Ml=1/0,Ui=null,Fp=!1,yx=null,Js=null,_h=!1,zs=null,Up=0,Vu=0,vx=null,rp=-1,ip=0;function Un(){return Ve&6?Rt():rp!==-1?rp:rp=Rt()}function Zs(t){return t.mode&1?Ve&2&&gn!==0?gn&-gn:iF.transition!==null?(ip===0&&(ip=_I()),ip):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:kI(t.type)),t):1}function oi(t,e,n,r){if(50<Vu)throw Vu=0,vx=null,Error(ne(185));pf(t,n,r),(!(Ve&2)||t!==an)&&(t===an&&(!(Ve&2)&&(xg|=n),Gt===4&&Fs(t,gn)),Jn(t,r),n===1&&Ve===0&&!(e.mode&1)&&(Ml=Rt()+500,mg&&ya()))}function Jn(t,e){var n=t.callbackNode;i6(t,e);var r=jp(t,t===an?gn:0);if(r===0)n!==null&&XS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&XS(n),e===1)t.tag===0?rF(BE.bind(null,t)):GI(BE.bind(null,t)),Z6(function(){!(Ve&6)&&ya()}),n=null;else{switch(jI(r)){case 1:n=Fw;break;case 4:n=bI;break;case 16:n=_p;break;case 536870912:n=wI;break;default:n=_p}n=HC(n,FC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function FC(t,e){if(rp=-1,ip=0,Ve&6)throw Error(ne(327));var n=t.callbackNode;if(vl()&&t.callbackNode!==n)return null;var r=jp(t,t===an?gn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Bp(t,r);else{e=r;var i=Ve;Ve|=2;var s=BC();(an!==t||gn!==e)&&(Ui=null,Ml=Rt()+500,Qa(t,e));do try{SF();break}catch(l){UC(t,l)}while(!0);Jw(),$p.current=s,Ve=i,Vt!==null?e=0:(an=null,gn=0,e=Gt)}if(e!==0){if(e===2&&(i=Wv(t),i!==0&&(r=i,e=xx(t,i))),e===1)throw n=yd,Qa(t,0),Fs(t,r),Jn(t,Rt()),n;if(e===6)Fs(t,r);else{if(i=t.current.alternate,!(r&30)&&!_F(i)&&(e=Bp(t,r),e===2&&(s=Wv(t),s!==0&&(r=s,e=xx(t,s))),e===1))throw n=yd,Qa(t,0),Fs(t,r),Jn(t,Rt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ne(345));case 2:Ra(t,Hn,Ui);break;case 3:if(Fs(t,r),(r&130023424)===r&&(e=h1+500-Rt(),10<e)){if(jp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Un(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Zv(Ra.bind(null,t,Hn,Ui),e);break}Ra(t,Hn,Ui);break;case 4:if(Fs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-ai(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wF(r/1960))-r,10<r){t.timeoutHandle=Zv(Ra.bind(null,t,Hn,Ui),r);break}Ra(t,Hn,Ui);break;case 5:Ra(t,Hn,Ui);break;default:throw Error(ne(329))}}}return Jn(t,Rt()),t.callbackNode===n?FC.bind(null,t):null}function xx(t,e){var n=Bu;return t.current.memoizedState.isDehydrated&&(Qa(t,e).flags|=256),t=Bp(t,e),t!==2&&(e=Hn,Hn=n,e!==null&&bx(e)),t}function bx(t){Hn===null?Hn=t:Hn.push.apply(Hn,t)}function _F(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ci(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fs(t,e){for(e&=~f1,e&=~xg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ai(e),r=1<<n;t[n]=-1,e&=~r}}function BE(t){if(Ve&6)throw Error(ne(327));vl();var e=jp(t,0);if(!(e&1))return Jn(t,Rt()),null;var n=Bp(t,e);if(t.tag!==0&&n===2){var r=Wv(t);r!==0&&(e=r,n=xx(t,r))}if(n===1)throw n=yd,Qa(t,0),Fs(t,e),Jn(t,Rt()),n;if(n===6)throw Error(ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ra(t,Hn,Ui),Jn(t,Rt()),null}function p1(t,e){var n=Ve;Ve|=1;try{return t(e)}finally{Ve=n,Ve===0&&(Ml=Rt()+500,mg&&ya())}}function co(t){zs!==null&&zs.tag===0&&!(Ve&6)&&vl();var e=Ve;Ve|=1;var n=Ar.transition,r=Qe;try{if(Ar.transition=null,Qe=1,t)return t()}finally{Qe=r,Ar.transition=n,Ve=e,!(Ve&6)&&ya()}}function m1(){or=cl.current,pt(cl)}function Qa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,J6(n)),Vt!==null)for(n=Vt.return;n!==null;){var r=n;switch(Xw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ap();break;case 3:Dl(),pt(Yn),pt(Rn),i1();break;case 5:r1(r);break;case 4:Dl();break;case 13:pt(wt);break;case 19:pt(wt);break;case 10:Zw(r.type._context);break;case 22:case 23:m1()}n=n.return}if(an=t,Vt=t=ea(t.current,null),gn=or=e,Gt=0,yd=null,f1=xg=lo=0,Hn=Bu=null,Ba!==null){for(e=0;e<Ba.length;e++)if(n=Ba[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Ba=null}return t}function UC(t,e){do{var n=Vt;try{if(Jw(),ep.current=Mp,Lp){for(var r=_t.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Lp=!1}if(oo=0,rn=Ht=_t=null,Fu=!1,pd=0,d1.current=null,n===null||n.return===null){Gt=1,yd=e,Vt=null;break}e:{var s=t,a=n.return,l=n,c=e;if(e=gn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=AE(a);if(v!==null){v.flags&=-257,kE(v,a,l,s,e),v.mode&1&&TE(s,u,e),e=v,c=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(c),e.updateQueue=y}else g.add(c);break e}else{if(!(e&1)){TE(s,u,e),g1();break e}c=Error(ne(426))}}else if(yt&&l.mode&1){var m=AE(a);if(m!==null){!(m.flags&65536)&&(m.flags|=256),kE(m,a,l,s,e),Yw(Ll(c,l));break e}}s=c=Ll(c,l),Gt!==4&&(Gt=2),Bu===null?Bu=[s]:Bu.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=jC(s,c,e);wE(s,x);break e;case 1:l=c;var w=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Js===null||!Js.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=SC(s,l,e);wE(s,T);break e}}s=s.return}while(s!==null)}zC(n)}catch(N){e=N,Vt===n&&n!==null&&(Vt=n=n.return);continue}break}while(!0)}function BC(){var t=$p.current;return $p.current=Mp,t===null?Mp:t}function g1(){(Gt===0||Gt===3||Gt===2)&&(Gt=4),an===null||!(lo&268435455)&&!(xg&268435455)||Fs(an,gn)}function Bp(t,e){var n=Ve;Ve|=2;var r=BC();(an!==t||gn!==e)&&(Ui=null,Qa(t,e));do try{jF();break}catch(i){UC(t,i)}while(!0);if(Jw(),Ve=n,$p.current=r,Vt!==null)throw Error(ne(261));return an=null,gn=0,Gt}function jF(){for(;Vt!==null;)VC(Vt)}function SF(){for(;Vt!==null&&!X$();)VC(Vt)}function VC(t){var e=WC(t.alternate,t,or);t.memoizedProps=t.pendingProps,e===null?zC(t):Vt=e,d1.current=null}function zC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=yF(n,e),n!==null){n.flags&=32767,Vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Gt=6,Vt=null;return}}else if(n=gF(n,e,or),n!==null){Vt=n;return}if(e=e.sibling,e!==null){Vt=e;return}Vt=e=t}while(e!==null);Gt===0&&(Gt=5)}function Ra(t,e,n){var r=Qe,i=Ar.transition;try{Ar.transition=null,Qe=1,EF(t,e,n,r)}finally{Ar.transition=i,Qe=r}return null}function EF(t,e,n,r){do vl();while(zs!==null);if(Ve&6)throw Error(ne(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ne(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(s6(t,s),t===an&&(Vt=an=null,gn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_h||(_h=!0,HC(_p,function(){return vl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ar.transition,Ar.transition=null;var a=Qe;Qe=1;var l=Ve;Ve|=4,d1.current=null,xF(t,n),MC(n,t),W6(Qv),Sp=!!Yv,Qv=Yv=null,t.current=n,bF(n),Y$(),Ve=l,Qe=a,Ar.transition=s}else t.current=n;if(_h&&(_h=!1,zs=t,Up=i),s=t.pendingLanes,s===0&&(Js=null),Z$(n.stateNode),Jn(t,Rt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Fp)throw Fp=!1,t=yx,yx=null,t;return Up&1&&t.tag!==0&&vl(),s=t.pendingLanes,s&1?t===vx?Vu++:(Vu=0,vx=t):Vu=0,ya(),null}function vl(){if(zs!==null){var t=jI(Up),e=Ar.transition,n=Qe;try{if(Ar.transition=null,Qe=16>t?16:t,zs===null)var r=!1;else{if(t=zs,zs=null,Up=0,Ve&6)throw Error(ne(331));var i=Ve;for(Ve|=4,ce=t.current;ce!==null;){var s=ce,a=s.child;if(ce.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ce=u;ce!==null;){var d=ce;switch(d.tag){case 0:case 11:case 15:Uu(8,d,s)}var f=d.child;if(f!==null)f.return=d,ce=f;else for(;ce!==null;){d=ce;var p=d.sibling,v=d.return;if(RC(d),d===u){ce=null;break}if(p!==null){p.return=v,ce=p;break}ce=v}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(y!==null)}}ce=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ce=a;else e:for(;ce!==null;){if(s=ce,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Uu(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,ce=x;break e}ce=s.return}}var w=t.current;for(ce=w;ce!==null;){a=ce;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,ce=b;else e:for(a=w;ce!==null;){if(l=ce,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:vg(9,l)}}catch(N){kt(l,l.return,N)}if(l===a){ce=null;break e}var T=l.sibling;if(T!==null){T.return=l.return,ce=T;break e}ce=l.return}}if(Ve=i,ya(),ji&&typeof ji.onPostCommitFiberRoot=="function")try{ji.onPostCommitFiberRoot(ug,t)}catch{}r=!0}return r}finally{Qe=n,Ar.transition=e}}return!1}function VE(t,e,n){e=Ll(n,e),e=jC(t,e,1),t=Qs(t,e,1),e=Un(),t!==null&&(pf(t,1,e),Jn(t,e))}function kt(t,e,n){if(t.tag===3)VE(t,t,n);else for(;e!==null;){if(e.tag===3){VE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Js===null||!Js.has(r))){t=Ll(n,t),t=SC(e,t,1),e=Qs(e,t,1),t=Un(),e!==null&&(pf(e,1,t),Jn(e,t));break}}e=e.return}}function NF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Un(),t.pingedLanes|=t.suspendedLanes&n,an===t&&(gn&n)===n&&(Gt===4||Gt===3&&(gn&130023424)===gn&&500>Rt()-h1?Qa(t,0):f1|=n),Jn(t,e)}function qC(t,e){e===0&&(t.mode&1?(e=fh,fh<<=1,!(fh&130023424)&&(fh=4194304)):e=1);var n=Un();t=as(t,e),t!==null&&(pf(t,e,n),Jn(t,n))}function TF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qC(t,n)}function AF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ne(314))}r!==null&&r.delete(e),qC(t,n)}var WC;WC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Yn.current)Gn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Gn=!1,mF(t,e,n);Gn=!!(t.flags&131072)}else Gn=!1,yt&&e.flags&1048576&&XI(e,Ip,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;np(t,e),t=e.pendingProps;var i=Cl(e,Rn.current);yl(e,n),i=a1(null,e,r,t,i,n);var s=o1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qn(r)?(s=!0,kp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,t1(e),i.updater=yg,e.stateNode=i,i._reactInternals=e,ax(e,r,t,n),e=cx(null,e,r,!0,s,n)):(e.tag=0,yt&&s&&Gw(e),$n(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(np(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=PF(r),t=Gr(r,t),i){case 0:e=lx(null,e,r,t,n);break e;case 1:e=CE(null,e,r,t,n);break e;case 11:e=PE(null,e,r,t,n);break e;case 14:e=IE(null,e,r,Gr(r.type,t),n);break e}throw Error(ne(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gr(r,i),lx(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gr(r,i),CE(t,e,r,i,n);case 3:e:{if(AC(e),t===null)throw Error(ne(387));r=e.pendingProps,s=e.memoizedState,i=s.element,tC(t,e),Rp(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ll(Error(ne(423)),e),e=OE(t,e,r,n,i);break e}else if(r!==i){i=Ll(Error(ne(424)),e),e=OE(t,e,r,n,i);break e}else for(ur=Ys(e.stateNode.containerInfo.firstChild),hr=e,yt=!0,Jr=null,n=ZI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ol(),r===i){e=os(t,e,n);break e}$n(t,e,r,n)}e=e.child}return e;case 5:return nC(e),t===null&&rx(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Jv(r,i)?a=null:s!==null&&Jv(r,s)&&(e.flags|=32),TC(t,e),$n(t,e,a,n),e.child;case 6:return t===null&&rx(e),null;case 13:return kC(t,e,n);case 4:return n1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Rl(e,null,r,n):$n(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gr(r,i),PE(t,e,r,i,n);case 7:return $n(t,e,e.pendingProps,n),e.child;case 8:return $n(t,e,e.pendingProps.children,n),e.child;case 12:return $n(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,ct(Cp,r._currentValue),r._currentValue=a,s!==null)if(ci(s.value,a)){if(s.children===i.children&&!Yn.current){e=os(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Zi(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),ix(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(ne(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),ix(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}$n(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,yl(e,n),i=Cr(i),r=r(i),e.flags|=1,$n(t,e,r,n),e.child;case 14:return r=e.type,i=Gr(r,e.pendingProps),i=Gr(r.type,i),IE(t,e,r,i,n);case 15:return EC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gr(r,i),np(t,e),e.tag=1,Qn(r)?(t=!0,kp(e)):t=!1,yl(e,n),_C(e,r,i),ax(e,r,i,n),cx(null,e,r,!0,t,n);case 19:return PC(t,e,n);case 22:return NC(t,e,n)}throw Error(ne(156,e.tag))};function HC(t,e){return xI(t,e)}function kF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nr(t,e,n,r){return new kF(t,e,n,r)}function y1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function PF(t){if(typeof t=="function")return y1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Lw)return 11;if(t===Mw)return 14}return 2}function ea(t,e){var n=t.alternate;return n===null?(n=Nr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function sp(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")y1(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Zo:return Ja(n.children,i,s,e);case Dw:a=8,i|=8;break;case Pv:return t=Nr(12,n,e,i|2),t.elementType=Pv,t.lanes=s,t;case Iv:return t=Nr(13,n,e,i),t.elementType=Iv,t.lanes=s,t;case Cv:return t=Nr(19,n,e,i),t.elementType=Cv,t.lanes=s,t;case nI:return bg(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eI:a=10;break e;case tI:a=9;break e;case Lw:a=11;break e;case Mw:a=14;break e;case Ds:a=16,r=null;break e}throw Error(ne(130,t==null?t:typeof t,""))}return e=Nr(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ja(t,e,n,r){return t=Nr(7,t,r,e),t.lanes=n,t}function bg(t,e,n,r){return t=Nr(22,t,r,e),t.elementType=nI,t.lanes=n,t.stateNode={isHidden:!1},t}function ky(t,e,n){return t=Nr(6,t,null,e),t.lanes=n,t}function Py(t,e,n){return e=Nr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function IF(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uy(0),this.expirationTimes=uy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function v1(t,e,n,r,i,s,a,l,c){return t=new IF(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Nr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},t1(s),t}function CF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function KC(t){if(!t)return ua;t=t._reactInternals;e:{if(No(t)!==t||t.tag!==1)throw Error(ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ne(171))}if(t.tag===1){var n=t.type;if(Qn(n))return KI(t,n,e)}return e}function GC(t,e,n,r,i,s,a,l,c){return t=v1(n,r,!0,t,i,s,a,l,c),t.context=KC(null),n=t.current,r=Un(),i=Zs(n),s=Zi(r,i),s.callback=e??null,Qs(n,s,i),t.current.lanes=i,pf(t,i,r),Jn(t,r),t}function wg(t,e,n,r){var i=e.current,s=Un(),a=Zs(i);return n=KC(n),e.context===null?e.context=n:e.pendingContext=n,e=Zi(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Qs(i,e,a),t!==null&&(oi(t,i,a,s),Zh(t,i,a)),a}function Vp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function x1(t,e){zE(t,e),(t=t.alternate)&&zE(t,e)}function OF(){return null}var XC=typeof reportError=="function"?reportError:function(t){console.error(t)};function b1(t){this._internalRoot=t}_g.prototype.render=b1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ne(409));wg(t,e,null,null)};_g.prototype.unmount=b1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;co(function(){wg(null,t,null,null)}),e[ss]=null}};function _g(t){this._internalRoot=t}_g.prototype.unstable_scheduleHydration=function(t){if(t){var e=NI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$s.length&&e!==0&&e<$s[n].priority;n++);$s.splice(n,0,t),n===0&&AI(t)}};function w1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qE(){}function RF(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Vp(a);s.call(u)}}var a=GC(e,r,t,0,null,!1,!1,"",qE);return t._reactRootContainer=a,t[ss]=a.current,cd(t.nodeType===8?t.parentNode:t),co(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Vp(c);l.call(u)}}var c=v1(t,0,!1,null,null,!1,!1,"",qE);return t._reactRootContainer=c,t[ss]=c.current,cd(t.nodeType===8?t.parentNode:t),co(function(){wg(e,c,n,r)}),c}function Sg(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=Vp(a);l.call(c)}}wg(e,a,t,i)}else a=RF(n,e,t,i,r);return Vp(a)}SI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Eu(e.pendingLanes);n!==0&&(Uw(e,n|1),Jn(e,Rt()),!(Ve&6)&&(Ml=Rt()+500,ya()))}break;case 13:co(function(){var r=as(t,1);if(r!==null){var i=Un();oi(r,t,1,i)}}),x1(t,1)}};Bw=function(t){if(t.tag===13){var e=as(t,134217728);if(e!==null){var n=Un();oi(e,t,134217728,n)}x1(t,134217728)}};EI=function(t){if(t.tag===13){var e=Zs(t),n=as(t,e);if(n!==null){var r=Un();oi(n,t,e,r)}x1(t,e)}};NI=function(){return Qe};TI=function(t,e){var n=Qe;try{return Qe=t,e()}finally{Qe=n}};Vv=function(t,e,n){switch(e){case"input":if(Dv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=pg(r);if(!i)throw Error(ne(90));iI(r),Dv(r,i)}}}break;case"textarea":aI(t,n);break;case"select":e=n.value,e!=null&&hl(t,!!n.multiple,e,!1)}};hI=p1;pI=co;var DF={usingClientEntryPoint:!1,Events:[gf,rl,pg,dI,fI,p1]},cu={findFiberByHostInstance:Ua,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LF={bundleType:cu.bundleType,version:cu.version,rendererPackageName:cu.rendererPackageName,rendererConfig:cu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yI(t),t===null?null:t.stateNode},findFiberByHostInstance:cu.findFiberByHostInstance||OF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jh.isDisabled&&jh.supportsFiber)try{ug=jh.inject(LF),ji=jh}catch{}}vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DF;vr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w1(e))throw Error(ne(200));return CF(t,e,null,n)};vr.createRoot=function(t,e){if(!w1(t))throw Error(ne(299));var n=!1,r="",i=XC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=v1(t,1,!1,null,null,n,!1,r,i),t[ss]=e.current,cd(t.nodeType===8?t.parentNode:t),new b1(e)};vr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ne(188)):(t=Object.keys(t).join(","),Error(ne(268,t)));return t=yI(e),t=t===null?null:t.stateNode,t};vr.flushSync=function(t){return co(t)};vr.hydrate=function(t,e,n){if(!jg(e))throw Error(ne(200));return Sg(null,t,e,!0,n)};vr.hydrateRoot=function(t,e,n){if(!w1(t))throw Error(ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=XC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=GC(e,null,t,1,n??null,i,!1,s,a),t[ss]=e.current,cd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new _g(e)};vr.render=function(t,e,n){if(!jg(e))throw Error(ne(200));return Sg(null,t,e,!1,n)};vr.unmountComponentAtNode=function(t){if(!jg(t))throw Error(ne(40));return t._reactRootContainer?(co(function(){Sg(null,null,t,!1,function(){t._reactRootContainer=null,t[ss]=null})}),!0):!1};vr.unstable_batchedUpdates=p1;vr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!jg(n))throw Error(ne(200));if(t==null||t._reactInternals===void 0)throw Error(ne(38));return Sg(t,e,n,!1,r)};vr.version="18.3.1-next-f1338f8080-20240426";function YC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YC)}catch(t){console.error(t)}}YC(),YP.exports=vr;var QC=YP.exports,WE=QC;Av.createRoot=WE.createRoot,Av.hydrateRoot=WE.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vd(){return vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vd.apply(this,arguments)}var qs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qs||(qs={}));const HE="popstate";function MF(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:l}=r.location;return wx("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:zp(i)}return FF(e,n,null,t)}function Lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $F(){return Math.random().toString(36).substr(2,8)}function KE(t,e){return{usr:t.state,key:t.key,idx:e}}function wx(t,e,n,r){return n===void 0&&(n=null),vd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?wc(e):e,{state:n,key:e&&e.key||r||$F()})}function zp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function wc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function FF(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l=qs.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(vd({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){l=qs.Pop;let m=d(),x=m==null?null:m-u;u=m,c&&c({action:l,location:y.location,delta:x})}function p(m,x){l=qs.Push;let w=wx(y.location,m,x);u=d()+1;let b=KE(w,u),T=y.createHref(w);try{a.pushState(b,"",T)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(T)}s&&c&&c({action:l,location:y.location,delta:1})}function v(m,x){l=qs.Replace;let w=wx(y.location,m,x);u=d();let b=KE(w,u),T=y.createHref(w);a.replaceState(b,"",T),s&&c&&c({action:l,location:y.location,delta:0})}function g(m){let x=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof m=="string"?m:zp(m);return w=w.replace(/ $/,"%20"),Lt(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let y={get action(){return l},get location(){return t(i,a)},listen(m){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(HE,f),c=m,()=>{i.removeEventListener(HE,f),c=null}},createHref(m){return e(i,m)},createURL:g,encodeLocation(m){let x=g(m);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:v,go(m){return a.go(m)}};return y}var GE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(GE||(GE={}));function UF(t,e,n){return n===void 0&&(n="/"),BF(t,e,n)}function BF(t,e,n,r){let i=typeof e=="string"?wc(e):e,s=j1(i.pathname||"/",n);if(s==null)return null;let a=JC(t);VF(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=e9(s);l=QF(a[c],u)}return l}function JC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(Lt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=ta([r,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(Lt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),JC(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:XF(u,s.index),routesMeta:d})};return t.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let c of ZC(s.path))i(s,a,c)}),e}function ZC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=ZC(r.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function VF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:YF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const zF=/^:[\w-]+$/,qF=3,WF=2,HF=1,KF=10,GF=-2,XE=t=>t==="*";function XF(t,e){let n=t.split("/"),r=n.length;return n.some(XE)&&(r+=GF),e&&(r+=WF),n.filter(i=>!XE(i)).reduce((i,s)=>i+(zF.test(s)?qF:s===""?HF:KF),r)}function YF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function QF(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=JF({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:ta([s,f.pathname]),pathnameBase:s9(ta([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=ta([s,f.pathnameBase]))}return a}function JF(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ZF(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:p,isOptional:v}=d;if(p==="*"){let y=l[f]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=l[f];return v&&!g?u[p]=void 0:u[p]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function ZF(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),_1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function e9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function j1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const t9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,n9=t=>t9.test(t);function r9(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?wc(t):t,s;if(n)if(n9(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),_1(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?s=YE(n.substring(1),"/"):s=YE(n,e)}else s=e;return{pathname:s,search:a9(r),hash:o9(i)}}function YE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Iy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function i9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function S1(t,e){let n=i9(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function E1(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=wc(t):(i=vd({},t),Lt(!i.pathname||!i.pathname.includes("?"),Iy("?","pathname","search",i)),Lt(!i.pathname||!i.pathname.includes("#"),Iy("#","pathname","hash",i)),Lt(!i.search||!i.search.includes("#"),Iy("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}l=f>=0?e[f]:"/"}let c=r9(i,l),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ta=t=>t.join("/").replace(/\/\/+/g,"/"),s9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),a9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,o9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function l9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const e4=["post","put","patch","delete"];new Set(e4);const c9=["get",...e4];new Set(c9);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xd(){return xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xd.apply(this,arguments)}const N1=E.createContext(null),u9=E.createContext(null),va=E.createContext(null),Eg=E.createContext(null),ys=E.createContext({outlet:null,matches:[],isDataRoute:!1}),t4=E.createContext(null);function d9(t,e){let{relative:n}=e===void 0?{}:e;_c()||Lt(!1);let{basename:r,navigator:i}=E.useContext(va),{hash:s,pathname:a,search:l}=r4(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:ta([r,a])),i.createHref({pathname:c,search:l,hash:s})}function _c(){return E.useContext(Eg)!=null}function To(){return _c()||Lt(!1),E.useContext(Eg).location}function n4(t){E.useContext(va).static||E.useLayoutEffect(t)}function $t(){let{isDataRoute:t}=E.useContext(ys);return t?S9():f9()}function f9(){_c()||Lt(!1);let t=E.useContext(N1),{basename:e,future:n,navigator:r}=E.useContext(va),{matches:i}=E.useContext(ys),{pathname:s}=To(),a=JSON.stringify(S1(i,n.v7_relativeSplatPath)),l=E.useRef(!1);return n4(()=>{l.current=!0}),E.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=E1(u,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ta([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,a,s,t])}function Ng(){let{matches:t}=E.useContext(ys),e=t[t.length-1];return e?e.params:{}}function r4(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=E.useContext(va),{matches:i}=E.useContext(ys),{pathname:s}=To(),a=JSON.stringify(S1(i,r.v7_relativeSplatPath));return E.useMemo(()=>E1(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function h9(t,e){return p9(t,e)}function p9(t,e,n,r){_c()||Lt(!1);let{navigator:i}=E.useContext(va),{matches:s}=E.useContext(ys),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=To(),d;if(e){var f;let m=typeof e=="string"?wc(e):e;c==="/"||(f=m.pathname)!=null&&f.startsWith(c)||Lt(!1),d=m}else d=u;let p=d.pathname||"/",v=p;if(c!=="/"){let m=c.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(m.length).join("/")}let g=UF(t,{pathname:v}),y=x9(g&&g.map(m=>Object.assign({},m,{params:Object.assign({},l,m.params),pathname:ta([c,i.encodeLocation?i.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?c:ta([c,i.encodeLocation?i.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),s,n,r);return e&&y?E.createElement(Eg.Provider,{value:{location:xd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:qs.Pop}},y):y}function m9(){let t=j9(),e=l9(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,null)}const g9=E.createElement(m9,null);class y9 extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?E.createElement(ys.Provider,{value:this.props.routeContext},E.createElement(t4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function v9(t){let{routeContext:e,match:n,children:r}=t,i=E.useContext(N1);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(ys.Provider,{value:e},r)}function x9(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Lt(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:v}=n,g=f.route.loader&&p[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,p)=>{let v,g=!1,y=null,m=null;n&&(v=l&&f.route.id?l[f.route.id]:void 0,y=f.route.errorElement||g9,c&&(u<0&&p===0?(E9("route-fallback"),g=!0,m=null):u===p&&(g=!0,m=f.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,p+1)),w=()=>{let b;return v?b=y:g?b=m:f.route.Component?b=E.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,E.createElement(v9,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?E.createElement(y9,{location:n.location,revalidation:n.revalidation,component:y,error:v,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var i4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(i4||{}),s4=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(s4||{});function b9(t){let e=E.useContext(N1);return e||Lt(!1),e}function w9(t){let e=E.useContext(u9);return e||Lt(!1),e}function _9(t){let e=E.useContext(ys);return e||Lt(!1),e}function a4(t){let e=_9(),n=e.matches[e.matches.length-1];return n.route.id||Lt(!1),n.route.id}function j9(){var t;let e=E.useContext(t4),n=w9(),r=a4();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function S9(){let{router:t}=b9(i4.UseNavigateStable),e=a4(s4.UseNavigateStable),n=E.useRef(!1);return n4(()=>{n.current=!0}),E.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,xd({fromRouteId:e},s)))},[t,e])}const QE={};function E9(t,e,n){QE[t]||(QE[t]=!0)}function N9(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function xl(t){let{to:e,replace:n,state:r,relative:i}=t;_c()||Lt(!1);let{future:s,static:a}=E.useContext(va),{matches:l}=E.useContext(ys),{pathname:c}=To(),u=$t(),d=E1(e,S1(l,s.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return E.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function ot(t){Lt(!1)}function T9(t){let{basename:e="/",children:n=null,location:r,navigationType:i=qs.Pop,navigator:s,static:a=!1,future:l}=t;_c()&&Lt(!1);let c=e.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:c,navigator:s,static:a,future:xd({v7_relativeSplatPath:!1},l)}),[c,l,s,a]);typeof r=="string"&&(r=wc(r));let{pathname:d="/",search:f="",hash:p="",state:v=null,key:g="default"}=r,y=E.useMemo(()=>{let m=j1(d,c);return m==null?null:{location:{pathname:m,search:f,hash:p,state:v,key:g},navigationType:i}},[c,d,f,p,v,g,i]);return y==null?null:E.createElement(va.Provider,{value:u},E.createElement(Eg.Provider,{children:n,value:y}))}function A9(t){let{children:e,location:n}=t;return h9(_x(e),n)}new Promise(()=>{});function _x(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let s=[...e,i];if(r.type===E.Fragment){n.push.apply(n,_x(r.props.children,s));return}r.type!==ot&&Lt(!1),!r.props.index||!r.props.children||Lt(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=_x(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jx(){return jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jx.apply(this,arguments)}function k9(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function P9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function I9(t,e){return t.button===0&&(!e||e==="_self")&&!P9(t)}const C9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],O9="6";try{window.__reactRouterVersion=O9}catch{}const R9="startTransition",JE=N$[R9];function D9(t){let{basename:e,children:n,future:r,window:i}=t,s=E.useRef();s.current==null&&(s.current=MF({window:i,v5Compat:!0}));let a=s.current,[l,c]=E.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=E.useCallback(f=>{u&&JE?JE(()=>c(f)):c(f)},[c,u]);return E.useLayoutEffect(()=>a.listen(d),[a,d]),E.useEffect(()=>N9(r),[r]),E.createElement(T9,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const L9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",M9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xi=E.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,p=k9(e,C9),{basename:v}=E.useContext(va),g,y=!1;if(typeof u=="string"&&M9.test(u)&&(g=u,L9))try{let b=new URL(window.location.href),T=u.startsWith("//")?new URL(b.protocol+u):new URL(u),N=j1(T.pathname,v);T.origin===b.origin&&N!=null?u=N+T.search+T.hash:y=!0}catch{}let m=d9(u,{relative:i}),x=$9(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});function w(b){r&&r(b),b.defaultPrevented||x(b)}return E.createElement("a",jx({},p,{href:g||m,onClick:y||s?r:w,ref:n,target:c}))});var ZE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ZE||(ZE={}));var eN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(eN||(eN={}));function $9(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:l}=e===void 0?{}:e,c=$t(),u=To(),d=r4(t,{relative:a});return E.useCallback(f=>{if(I9(f,n)){f.preventDefault();let p=r!==void 0?r:zp(u)===zp(d);c(t,{replace:p,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[u,c,d,r,i,n,t,s,a,l])}var tN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},F9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},l4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=s>>2,f=(s&3)<<4|l>>4;let p=(l&15)<<2|u>>6,v=u&63;c||(v=64,a||(p=64)),r.push(n[d],n[f],n[p],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):F9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||f==null)throw new U9;const p=s<<2|l>>4;if(r.push(p),u!==64){const v=l<<4&240|u>>2;if(r.push(v),f!==64){const g=u<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class U9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B9=function(t){const e=o4(t);return l4.encodeByteArray(e,!0)},qp=function(t){return B9(t).replace(/\./g,"")},c4=function(t){try{return l4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9=()=>V9().__FIREBASE_DEFAULTS__,q9=()=>{if(typeof process>"u"||typeof tN>"u")return;const t=tN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},W9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&c4(t[1]);return e&&JSON.parse(e)},Tg=()=>{try{return z9()||q9()||W9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},u4=t=>{var e,n;return(n=(e=Tg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},d4=t=>{const e=u4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},f4=()=>{var t;return(t=Tg())===null||t===void 0?void 0:t.config},h4=t=>{var e;return(e=Tg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qp(JSON.stringify(n)),qp(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function K9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dn())}function G9(){var t;const e=(t=Tg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function m4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Y9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Q9(){const t=Dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function J9(){return!G9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function g4(){try{return typeof indexedDB=="object"}catch{return!1}}function y4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function Z9(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU="FirebaseError";class Mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eU,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ao.prototype.create)}}class Ao{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?tU(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new Mr(i,l,r)}}function tU(t,e){return t.replace(nU,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const nU=/\{\$([^}]+)}/g;function rU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(nN(s)&&nN(a)){if(!bd(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function nN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Tu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Au(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function iU(t,e){const n=new sU(t,e);return n.subscribe.bind(n)}class sU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");aU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Cy),i.error===void 0&&(i.error=Cy),i.complete===void 0&&(i.complete=Cy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Cy(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU=1e3,lU=2,cU=4*60*60*1e3,uU=.5;function rN(t,e=oU,n=lU){const r=e*Math.pow(n,t),i=Math.round(uU*r*(Math.random()-.5)*2);return Math.min(cU,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t){return t&&t._delegate?t._delegate:t}class Rr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new H9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hU(e))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Da){return this.instances.has(e)}getOptions(e=Da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Da){return this.component?this.component.multipleInstances?e:Da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fU(t){return t===Da?void 0:t}function hU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const mU={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},gU=Le.INFO,yU={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},vU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=yU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ag{constructor(e){this.name=e,this._logLevel=gU,this._logHandler=vU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const xU=(t,e)=>e.some(n=>t instanceof n);let iN,sN;function bU(){return iN||(iN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wU(){return sN||(sN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const v4=new WeakMap,Sx=new WeakMap,x4=new WeakMap,Oy=new WeakMap,T1=new WeakMap;function _U(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(na(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&v4.set(n,t)}).catch(()=>{}),T1.set(e,t),e}function jU(t){if(Sx.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Sx.set(t,e)}let Ex={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||x4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return na(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function SU(t){Ex=t(Ex)}function EU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ry(this),e,...n);return x4.set(r,e.sort?e.sort():[e]),na(r)}:wU().includes(t)?function(...e){return t.apply(Ry(this),e),na(v4.get(this))}:function(...e){return na(t.apply(Ry(this),e))}}function NU(t){return typeof t=="function"?EU(t):(t instanceof IDBTransaction&&jU(t),xU(t,bU())?new Proxy(t,Ex):t)}function na(t){if(t instanceof IDBRequest)return _U(t);if(Oy.has(t))return Oy.get(t);const e=NU(t);return e!==t&&(Oy.set(t,e),T1.set(e,t)),e}const Ry=t=>T1.get(t);function b4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=na(a);return r&&a.addEventListener("upgradeneeded",c=>{r(na(a.result),c.oldVersion,c.newVersion,na(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const TU=["get","getKey","getAll","getAllKeys","count"],AU=["put","add","delete","clear"],Dy=new Map;function aN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dy.get(e))return Dy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=AU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||TU.includes(n)))return;const s=async function(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&c.done]))[0]};return Dy.set(e,s),s}SU(t=>({...t,get:(e,n,r)=>aN(e,n)||t.get(e,n,r),has:(e,n)=>!!aN(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function PU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nx="@firebase/app",oN="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new Ag("@firebase/app"),IU="@firebase/app-compat",CU="@firebase/analytics-compat",OU="@firebase/analytics",RU="@firebase/app-check-compat",DU="@firebase/app-check",LU="@firebase/auth",MU="@firebase/auth-compat",$U="@firebase/database",FU="@firebase/data-connect",UU="@firebase/database-compat",BU="@firebase/functions",VU="@firebase/functions-compat",zU="@firebase/installations",qU="@firebase/installations-compat",WU="@firebase/messaging",HU="@firebase/messaging-compat",KU="@firebase/performance",GU="@firebase/performance-compat",XU="@firebase/remote-config",YU="@firebase/remote-config-compat",QU="@firebase/storage",JU="@firebase/storage-compat",ZU="@firebase/firestore",e8="@firebase/vertexai-preview",t8="@firebase/firestore-compat",n8="firebase",r8="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="[DEFAULT]",i8={[Nx]:"fire-core",[IU]:"fire-core-compat",[OU]:"fire-analytics",[CU]:"fire-analytics-compat",[DU]:"fire-app-check",[RU]:"fire-app-check-compat",[LU]:"fire-auth",[MU]:"fire-auth-compat",[$U]:"fire-rtdb",[FU]:"fire-data-connect",[UU]:"fire-rtdb-compat",[BU]:"fire-fn",[VU]:"fire-fn-compat",[zU]:"fire-iid",[qU]:"fire-iid-compat",[WU]:"fire-fcm",[HU]:"fire-fcm-compat",[KU]:"fire-perf",[GU]:"fire-perf-compat",[XU]:"fire-rc",[YU]:"fire-rc-compat",[QU]:"fire-gcs",[JU]:"fire-gcs-compat",[ZU]:"fire-fst",[t8]:"fire-fst-compat",[e8]:"fire-vertex","fire-js":"fire-js",[n8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp=new Map,s8=new Map,Ax=new Map;function lN(t,e){try{t.container.addComponent(e)}catch(n){ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ui(t){const e=t.name;if(Ax.has(e))return ls.debug(`There were multiple attempts to register component ${e}.`),!1;Ax.set(e,t);for(const n of Wp.values())lN(n,t);for(const n of s8.values())lN(n,t);return!0}function xa(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ri(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ra=new Ao("app","Firebase",a8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ra.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=r8;function w4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Tx,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ra.create("bad-app-name",{appName:String(i)});if(n||(n=f4()),!n)throw ra.create("no-options");const s=Wp.get(i);if(s){if(bd(n,s.options)&&bd(r,s.config))return s;throw ra.create("duplicate-app",{appName:i})}const a=new pU(i);for(const c of Ax.values())a.addComponent(c);const l=new o8(n,r,a);return Wp.set(i,l),l}function kg(t=Tx){const e=Wp.get(t);if(!e&&t===Tx&&f4())return w4();if(!e)throw ra.create("no-app",{appName:t});return e}function Zn(t,e,n){var r;let i=(r=i8[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ls.warn(l.join(" "));return}ui(new Rr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8="firebase-heartbeat-database",c8=1,wd="firebase-heartbeat-store";let Ly=null;function _4(){return Ly||(Ly=b4(l8,c8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wd)}catch(n){console.warn(n)}}}}).catch(t=>{throw ra.create("idb-open",{originalErrorMessage:t.message})})),Ly}async function u8(t){try{const n=(await _4()).transaction(wd),r=await n.objectStore(wd).get(j4(t));return await n.done,r}catch(e){if(e instanceof Mr)ls.warn(e.message);else{const n=ra.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ls.warn(n.message)}}}async function cN(t,e){try{const r=(await _4()).transaction(wd,"readwrite");await r.objectStore(wd).put(e,j4(t)),await r.done}catch(n){if(n instanceof Mr)ls.warn(n.message);else{const r=ra.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ls.warn(r.message)}}}function j4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8=1024,f8=30*24*60*60*1e3;class h8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new m8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=uN();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=f8}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ls.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=uN(),{heartbeatsToSend:r,unsentEntries:i}=p8(this._heartbeatsCache.heartbeats),s=qp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ls.warn(n),""}}}function uN(){return new Date().toISOString().substring(0,10)}function p8(t,e=d8){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),dN(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class m8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return g4()?y4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await u8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function dN(t){return qp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g8(t){ui(new Rr("platform-logger",e=>new kU(e),"PRIVATE")),ui(new Rr("heartbeat",e=>new h8(e),"PRIVATE")),Zn(Nx,oN,t),Zn(Nx,oN,"esm2017"),Zn("fire-js","")}g8("");function A1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function S4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const E4=S4,N4=new Ao("auth","Firebase",S4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=new Ag("@firebase/auth");function y8(t,...e){Hp.logLevel<=Le.WARN&&Hp.warn(`Auth (${ko}): ${t}`,...e)}function ap(t,...e){Hp.logLevel<=Le.ERROR&&Hp.error(`Auth (${ko}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t,...e){throw P1(t,...e)}function li(t,...e){return P1(t,...e)}function k1(t,e,n){const r=Object.assign(Object.assign({},E4()),{[e]:n});return new Ao("auth","Firebase",r).create(e,{appName:t.name})}function es(t){return k1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function v8(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Dr(t,"argument-error"),k1(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function P1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return N4.create(t,...e)}function _e(t,e,...n){if(!t)throw P1(e,...n)}function Ki(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ap(e),new Error(e)}function cs(t,e){t||Ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function x8(){return fN()==="http:"||fN()==="https:"}function fN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(x8()||m4()||"connection"in navigator)?navigator.onLine:!0}function w8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n){this.shortDelay=e,this.longDelay=n,cs(n>e,"Short delay should be less than long delay!"),this.isMobile=K9()||Y9()}get(){return b8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(t,e){cs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8=new xf(3e4,6e4);function vs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Di(t,e,n,r,i={}){return A4(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const l=vf(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},s);return X9()||(u.referrerPolicy="no-referrer"),T4.fetch()(k4(t,t.config.apiHost,n,l),u)})}async function A4(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},_8),e);try{const i=new E8(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Sh(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sh(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Sh(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Sh(t,"user-disabled",a);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw k1(t,d,u);Dr(t,d)}}catch(i){if(i instanceof Mr)throw i;Dr(t,"network-request-failed",{message:String(i)})}}async function bf(t,e,n,r,i={}){const s=await Di(t,e,n,r,i);return"mfaPendingCredential"in s&&Dr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function k4(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?I1(t.config,i):`${t.config.apiScheme}://${i}`}function S8(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class E8{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(li(this.auth,"network-request-failed")),j8.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=li(t,e,r);return i.customData._tokenResponse=n,i}function hN(t){return t!==void 0&&t.enterprise!==void 0}class N8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return S8(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function T8(t,e){return Di(t,"GET","/v2/recaptchaConfig",vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A8(t,e){return Di(t,"POST","/v1/accounts:delete",e)}async function P4(t,e){return Di(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function I4(t,e=!1){const n=mt(t),r=await n.getIdToken(e),i=C1(r);_e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:zu(My(i.auth_time)),issuedAtTime:zu(My(i.iat)),expirationTime:zu(My(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function My(t){return Number(t)*1e3}function C1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ap("JWT malformed, contained fewer than 3 sections"),null;try{const i=c4(n);return i?JSON.parse(i):(ap("Failed to decode base64 JWT payload"),null)}catch(i){return ap("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function pN(t){const e=C1(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mr&&k8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function k8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zu(this.lastLoginAt),this.creationTime=zu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await $l(t,P4(n,{idToken:r}));_e(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?O4(s.providerUserInfo):[],l=I8(t.providerData,a),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Px(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function C4(t){const e=mt(t);await Kp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function I8(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function O4(t){return t.map(e=>{var{providerId:n}=e,r=A1(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C8(t,e){const n=await A4(t,{},async()=>{const r=vf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=k4(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",T4.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function O8(t,e){return Di(t,"POST","/v2/accounts:revokeToken",vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=pN(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await C8(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new bl;return r&&(_e(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(_e(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bl,this.toJSON())}_performRefresh(){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=A1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new P8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Px(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await $l(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return I4(this,e)}reload(){return C4(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Kp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ri(this.auth.app))return Promise.reject(es(this.auth));const e=await this.getIdToken();return await $l(this,A8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,l,c,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(a=n.photoURL)!==null&&a!==void 0?a:void 0,y=(l=n.tenantId)!==null&&l!==void 0?l:void 0,m=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:b,emailVerified:T,isAnonymous:N,providerData:A,stsTokenManager:_}=n;_e(b&&_,e,"internal-error");const S=bl.fromJSON(this.name,_);_e(typeof b=="string",e,"internal-error"),Cs(f,e.name),Cs(p,e.name),_e(typeof T=="boolean",e,"internal-error"),_e(typeof N=="boolean",e,"internal-error"),Cs(v,e.name),Cs(g,e.name),Cs(y,e.name),Cs(m,e.name),Cs(x,e.name),Cs(w,e.name);const k=new Gi({uid:b,auth:e,email:p,emailVerified:T,displayName:f,isAnonymous:N,photoURL:g,phoneNumber:v,tenantId:y,stsTokenManager:S,createdAt:x,lastLoginAt:w});return A&&Array.isArray(A)&&(k.providerData=A.map(O=>Object.assign({},O))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new bl;i.updateFromServerResponse(n);const s=new Gi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Kp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];_e(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?O4(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new bl;l.updateFromIdToken(r);const c=new Gi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Px(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new Map;function Xi(t){cs(t instanceof Function,"Expected a class definition");let e=mN.get(t);return e?(cs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}R4.type="NONE";const Ix=R4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(t,e,n){return`firebase:${t}:${e}:${n}`}class wl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=op(this.userKey,i.apiKey,s),this.fullPersistenceKey=op("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Gi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wl(Xi(Ix),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Xi(Ix);const a=op(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(a);if(d){const f=Gi._fromJSON(e,d);u!==s&&(l=f),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new wl(s,e,r):(s=c[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new wl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(D4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(U4(e))return"Blackberry";if(B4(e))return"Webos";if(L4(e))return"Safari";if((e.includes("chrome/")||M4(e))&&!e.includes("edge/"))return"Chrome";if(F4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function D4(t=Dn()){return/firefox\//i.test(t)}function L4(t=Dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function M4(t=Dn()){return/crios\//i.test(t)}function $4(t=Dn()){return/iemobile/i.test(t)}function F4(t=Dn()){return/android/i.test(t)}function U4(t=Dn()){return/blackberry/i.test(t)}function B4(t=Dn()){return/webos/i.test(t)}function O1(t=Dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function R8(t=Dn()){var e;return O1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function D8(){return Q9()&&document.documentMode===10}function V4(t=Dn()){return O1(t)||F4(t)||B4(t)||U4(t)||/windows phone/i.test(t)||$4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(t,e=[]){let n;switch(t){case"Browser":n=gN(Dn());break;case"Worker":n=`${gN(Dn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ko}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,l)=>{try{const c=e(s);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M8(t,e={}){return Di(t,"GET","/v2/passwordPolicy",vs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8=6;class F8{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:$8,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yN(this),this.idTokenSubscription=new yN(this),this.beforeStateQueue=new L8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=N4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await wl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await P4(this,{idToken:e}),r=await Gi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ri(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Kp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=w8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ri(this.app))return Promise.reject(es(this));const n=e?mt(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ri(this.app)?Promise.reject(es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ri(this.app)?Promise.reject(es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await M8(this),n=new F8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ao("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await O8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xi(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await wl.create(this,[Xi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=z4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&y8(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function xs(t){return mt(t)}class yN{constructor(e){this.auth=e,this.observer=null,this.addObserver=iU(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function B8(t){Pg=t}function q4(t){return Pg.loadJS(t)}function V8(){return Pg.recaptchaEnterpriseScript}function z8(){return Pg.gapiScript}function q8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const W8="recaptcha-enterprise",H8="NO_RECAPTCHA";class K8{constructor(e){this.type=W8,this.auth=xs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{T8(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new N8(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,a(u.siteKey)}}).catch(c=>{l(c)})})}function i(s,a,l){const c=window.grecaptcha;hN(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{a(u)}).catch(()=>{a(H8)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(l=>{if(!n&&hN(window.grecaptcha))i(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=V8();c.length!==0&&(c+=l),q4(c).then(()=>{i(l,s,a)}).catch(u=>{a(u)})}}).catch(l=>{a(l)})})}}async function vN(t,e,n,r=!1){const i=new K8(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Gp(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await vN(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await vN(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t,e){const n=xa(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(bd(s,e??{}))return i;Dr(i,"already-initialized")}return n.initialize({options:e})}function G8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function H4(t,e,n){const r=xs(t);_e(r._canInitEmulator,r,"emulator-config-failed"),_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=K4(e),{host:a,port:l}=X8(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),Y8()}function K4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function X8(t){const e=K4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:xN(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:xN(a)}}}function xN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Y8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ki("not implemented")}_getIdTokenResponse(e){return Ki("not implemented")}_linkToIdToken(e,n){return Ki("not implemented")}_getReauthenticationResolver(e){return Ki("not implemented")}}async function Q8(t,e){return Di(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J8(t,e){return bf(t,"POST","/v1/accounts:signInWithPassword",vs(t,e))}async function Z8(t,e){return Di(t,"POST","/v1/accounts:sendOobCode",vs(t,e))}async function eB(t,e){return Z8(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tB(t,e){return bf(t,"POST","/v1/accounts:signInWithEmailLink",vs(t,e))}async function nB(t,e){return bf(t,"POST","/v1/accounts:signInWithEmailLink",vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends Ig{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Fl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Fl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gp(e,n,"signInWithPassword",J8);case"emailLink":return tB(e,{email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gp(e,r,"signUpPassword",Q8);case"emailLink":return nB(e,{idToken:n,email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(t,e){return bf(t,"POST","/v1/accounts:signInWithIdp",vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rB="http://localhost";class da extends Ig{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=A1(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new da(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return _l(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,_l(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_l(e,n)}buildRequest(){const e={requestUri:rB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sB(t){const e=Tu(Au(t)).link,n=e?Tu(Au(e)).deep_link_id:null,r=Tu(Au(t)).deep_link_id;return(r?Tu(Au(r)).link:null)||r||n||e||t}class Cg{constructor(e){var n,r,i,s,a,l;const c=Tu(Au(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,f=iB((i=c.mode)!==null&&i!==void 0?i:null);_e(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=sB(e);try{return new Cg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.providerId=Po.PROVIDER_ID}static credential(e,n){return Fl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Cg.parseLink(n);return _e(r,"argument-error"),Fl._fromEmailAndCode(e,r.code,r.tenantId)}}Po.PROVIDER_ID="password";Po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf extends R1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends wf{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends wf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return da._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ei.credential(n,r)}catch{return null}}}ei.GOOGLE_SIGN_IN_METHOD="google.com";ei.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends wf{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ti.credential(e.oauthAccessToken)}catch{return null}}}ti.GITHUB_SIGN_IN_METHOD="github.com";ti.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends wf{constructor(){super("twitter.com")}static credential(e,n){return da._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return zi.credential(n,r)}catch{return null}}}zi.TWITTER_SIGN_IN_METHOD="twitter.com";zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aB(t,e){return bf(t,"POST","/v1/accounts:signUp",vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Gi._fromIdTokenResponse(e,r,i),a=bN(r);return new uo({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=bN(r);return new uo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function bN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp extends Mr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Xp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Xp(e,n,r,i)}}function G4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Xp._fromErrorAndOperation(t,s,e,r):s})}async function oB(t,e,n=!1){const r=await $l(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return uo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lB(t,e,n=!1){const{auth:r}=t;if(ri(r.app))return Promise.reject(es(r));const i="reauthenticate";try{const s=await $l(t,G4(r,i,e,t),n);_e(s.idToken,r,"internal-error");const a=C1(s.idToken);_e(a,r,"internal-error");const{sub:l}=a;return _e(t.uid===l,r,"user-mismatch"),uo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Dr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X4(t,e,n=!1){if(ri(t.app))return Promise.reject(es(t));const r="signIn",i=await G4(t,r,e),s=await uo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Y4(t,e){return X4(xs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q4(t){const e=xs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function J4(t,e,n){const r=xs(t);await Gp(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",eB)}async function Z4(t,e,n){if(ri(t.app))return Promise.reject(es(t));const r=xs(t),a=await Gp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aB).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Q4(t),c}),l=await uo._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function D1(t,e,n){return ri(t.app)?Promise.reject(es(t)):Y4(mt(t),Po.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Q4(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cB(t,e){return Di(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eO(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=mt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await $l(r,cB(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function tO(t,e,n,r){return mt(t).onIdTokenChanged(e,n,r)}function nO(t,e,n){return mt(t).beforeAuthStateChanged(e,n)}function L1(t,e,n,r){return mt(t).onAuthStateChanged(e,n,r)}function rO(t){return mt(t).signOut()}const Yp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yp,"1"),this.storage.removeItem(Yp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB=1e3,dB=10;class sO extends iO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=V4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);D8()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,dB):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},uB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sO.type="LOCAL";const aO=sO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO extends iO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}oO.type="SESSION";const M1=oO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Og(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(a).map(async u=>u(n.origin,s)),c=await fB(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Og.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((l,c)=>{const u=$1("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(p.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(){return window}function pB(t){Ei().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(){return typeof Ei().WorkerGlobalScope<"u"&&typeof Ei().importScripts=="function"}async function mB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function yB(){return lO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO="firebaseLocalStorageDb",vB=1,Qp="firebaseLocalStorage",uO="fbase_key";class _f{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rg(t,e){return t.transaction([Qp],e?"readwrite":"readonly").objectStore(Qp)}function xB(){const t=indexedDB.deleteDatabase(cO);return new _f(t).toPromise()}function Cx(){const t=indexedDB.open(cO,vB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Qp,{keyPath:uO})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Qp)?e(r):(r.close(),await xB(),e(await Cx()))})})}async function wN(t,e,n){const r=Rg(t,!0).put({[uO]:e,value:n});return new _f(r).toPromise()}async function bB(t,e){const n=Rg(t,!1).get(e),r=await new _f(n).toPromise();return r===void 0?null:r.value}function _N(t,e){const n=Rg(t,!0).delete(e);return new _f(n).toPromise()}const wB=800,_B=3;class dO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>_B)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Og._getInstance(yB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await mB(),!this.activeServiceWorker)return;this.sender=new hB(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cx();return await wN(e,Yp,"1"),await _N(e,Yp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>wN(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>bB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_N(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Rg(i,!1).getAll();return new _f(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dO.type="LOCAL";const fO=dO;new xf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(t,e){return e?Xi(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1 extends Ig{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _l(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _l(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _l(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jB(t){return X4(t.auth,new F1(t),t.bypassAuthState)}function SB(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),lB(n,new F1(t),t.bypassAuthState)}async function EB(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),oB(n,new F1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jB;case"linkViaPopup":case"linkViaRedirect":return EB;case"reauthViaPopup":case"reauthViaRedirect":return SB;default:Dr(this.auth,"internal-error")}}resolve(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB=new xf(2e3,1e4);async function _d(t,e,n){if(ri(t.app))return Promise.reject(li(t,"operation-not-supported-in-this-environment"));const r=xs(t);v8(t,e,R1);const i=hO(r,n);return new za(r,"signInViaPopup",e,i).executeNotNull()}class za extends pO{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,za.currentPopupAction&&za.currentPopupAction.cancel(),za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){cs(this.filter.length===1,"Popup operations only handle one event");const e=$1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,za.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NB.get())};e()}}za.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TB="pendingRedirect",lp=new Map;class AB extends pO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=lp.get(this.auth._key());if(!e){try{const r=await kB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}lp.set(this.auth._key(),e)}return this.bypassAuthState||lp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kB(t,e){const n=CB(e),r=IB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function PB(t,e){lp.set(t._key(),e)}function IB(t){return Xi(t._redirectPersistence)}function CB(t){return op(TB,t.config.apiKey,t.name)}async function OB(t,e,n=!1){if(ri(t.app))return Promise.reject(es(t));const r=xs(t),i=hO(r,e),a=await new AB(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB=10*60*1e3;class DB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!mO(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(li(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RB&&this.cachedEventUids.clear(),this.cachedEventUids.has(jN(e))}saveEventToCache(e){this.cachedEventUids.add(jN(e)),this.lastProcessedEventTime=Date.now()}}function jN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mO({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function LB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MB(t,e={}){return Di(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FB=/^https?/;async function UB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await MB(t);for(const n of e)try{if(BB(n))return}catch{}Dr(t,"unauthorized-domain")}function BB(t){const e=kx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!FB.test(n))return!1;if($B.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB=new xf(3e4,6e4);function SN(){const t=Ei().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function zB(t){return new Promise((e,n)=>{var r,i,s;function a(){SN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{SN(),n(li(t,"network-request-failed"))},timeout:VB.get()})}if(!((i=(r=Ei().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ei().gapi)===null||s===void 0)&&s.load)a();else{const l=q8("iframefcb");return Ei()[l]=()=>{gapi.load?a():n(li(t,"network-request-failed"))},q4(`${z8()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw cp=null,e})}let cp=null;function qB(t){return cp=cp||zB(t),cp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB=new xf(5e3,15e3),HB="__/auth/iframe",KB="emulator/auth/iframe",GB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YB(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?I1(e,KB):`https://${t.config.authDomain}/${HB}`,r={apiKey:e.apiKey,appName:t.name,v:ko},i=XB.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${vf(r).slice(1)}`}async function QB(t){const e=await qB(t),n=Ei().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:YB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GB,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=li(t,"network-request-failed"),l=Ei().setTimeout(()=>{s(a)},WB.get());function c(){Ei().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZB=500,eV=600,tV="_blank",nV="http://localhost";class EN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rV(t,e,n,r=ZB,i=eV){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},JB),{width:r.toString(),height:i.toString(),top:s,left:a}),u=Dn().toLowerCase();n&&(l=M4(u)?tV:n),D4(u)&&(e=e||nV,c.scrollbars="yes");const d=Object.entries(c).reduce((p,[v,g])=>`${p}${v}=${g},`,"");if(R8(u)&&l!=="_self")return iV(e||"",l),new EN(null);const f=window.open(e||"",l,d);_e(f,t,"popup-blocked");try{f.focus()}catch{}return new EN(f)}function iV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV="__/auth/handler",aV="emulator/auth/handler",oV=encodeURIComponent("fac");async function NN(t,e,n,r,i,s){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ko,eventId:i};if(e instanceof R1){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",rU(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))a[d]=f}if(e instanceof wf){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${oV}=${encodeURIComponent(c)}`:"";return`${lV(t)}?${vf(l).slice(1)}${u}`}function lV({config:t}){return t.emulator?I1(t,aV):`https://${t.authDomain}/${sV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="webStorageSupport";class cV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=M1,this._completeRedirectFn=OB,this._overrideRedirectResult=PB}async _openPopup(e,n,r,i){var s;cs((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await NN(e,n,r,kx(),i);return rV(e,a,$1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await NN(e,n,r,kx(),i);return pB(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(cs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await QB(e),r=new DB(e);return n.register("authEvent",i=>(_e(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($y,{type:$y},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[$y];a!==void 0&&n(!!a),Dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=UB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return V4()||L4()||O1()}}const gO=cV;var TN="@firebase/auth",AN="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fV(t){ui(new Rr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;_e(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:z4(t)},u=new U8(r,i,s,c);return G8(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ui(new Rr("auth-internal",e=>{const n=xs(e.getProvider("auth").getImmediate());return(r=>new uV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zn(TN,AN,dV(t)),Zn(TN,AN,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=5*60,pV=h4("authIdTokenMaxAge")||hV;let kN=null;const mV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>pV)return;const i=n==null?void 0:n.token;kN!==i&&(kN=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function U1(t=kg()){const e=xa(t,"auth");if(e.isInitialized())return e.getImmediate();const n=W4(t,{popupRedirectResolver:gO,persistence:[fO,aO,M1]}),r=h4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=mV(s.toString());nO(n,a,()=>a(n.currentUser)),tO(n,l=>a(l))}}const i=u4("auth");return i&&H4(n,`http://${i}`),n}function gV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}B8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=li("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",gV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fV("Browser");const ba=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:Cg,AuthCredential:Ig,EmailAuthCredential:Fl,EmailAuthProvider:Po,FacebookAuthProvider:Vi,GithubAuthProvider:ti,GoogleAuthProvider:ei,OAuthCredential:da,TwitterAuthProvider:zi,beforeAuthStateChanged:nO,browserLocalPersistence:aO,browserPopupRedirectResolver:gO,browserSessionPersistence:M1,connectAuthEmulator:H4,createUserWithEmailAndPassword:Z4,getAuth:U1,getIdTokenResult:I4,inMemoryPersistence:Ix,indexedDBLocalPersistence:fO,initializeAuth:W4,onAuthStateChanged:L1,onIdTokenChanged:tO,prodErrorMap:E4,reload:C4,sendPasswordResetEmail:J4,signInWithCredential:Y4,signInWithEmailAndPassword:D1,signInWithPopup:_d,signOut:rO,updateProfile:eO},Symbol.toStringTag,{value:"Module"}));var yV="firebase",vV="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zn(yV,vV,"app");const yO="@firebase/installations",B1="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=1e4,xO=`w:${B1}`,bO="FIS_v2",xV="https://firebaseinstallations.googleapis.com/v1",bV=60*60*1e3,wV="installations",_V="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},fo=new Ao(wV,_V,jV);function wO(t){return t instanceof Mr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O({projectId:t}){return`${xV}/projects/${t}/installations`}function jO(t){return{token:t.token,requestStatus:2,expiresIn:EV(t.expiresIn),creationTime:Date.now()}}async function SO(t,e){const r=(await e.json()).error;return fo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function EO({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function SV(t,{refreshToken:e}){const n=EO(t);return n.append("Authorization",NV(e)),n}async function NO(t){const e=await t();return e.status>=500&&e.status<600?t():e}function EV(t){return Number(t.replace("s","000"))}function NV(t){return`${bO} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TV({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=_O(t),i=EO(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={fid:n,authVersion:bO,appId:t.appId,sdkVersion:xO},l={method:"POST",headers:i,body:JSON.stringify(a)},c=await NO(()=>fetch(r,l));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:jO(u.authToken)}}else throw await SO("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV=/^[cdef][\w-]{21}$/,Ox="";function PV(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=IV(t);return kV.test(n)?n:Ox}catch{return Ox}}function IV(t){return AV(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=new Map;function kO(t,e){const n=Dg(t);PO(n,e),CV(n,e)}function PO(t,e){const n=AO.get(t);if(n)for(const r of n)r(e)}function CV(t,e){const n=OV();n&&n.postMessage({key:t,fid:e}),RV()}let qa=null;function OV(){return!qa&&"BroadcastChannel"in self&&(qa=new BroadcastChannel("[Firebase] FID Change"),qa.onmessage=t=>{PO(t.data.key,t.data.fid)}),qa}function RV(){AO.size===0&&qa&&(qa.close(),qa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV="firebase-installations-database",LV=1,ho="firebase-installations-store";let Fy=null;function V1(){return Fy||(Fy=b4(DV,LV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ho)}}})),Fy}async function Jp(t,e){const n=Dg(t),i=(await V1()).transaction(ho,"readwrite"),s=i.objectStore(ho),a=await s.get(n);return await s.put(e,n),await i.done,(!a||a.fid!==e.fid)&&kO(t,e.fid),e}async function IO(t){const e=Dg(t),r=(await V1()).transaction(ho,"readwrite");await r.objectStore(ho).delete(e),await r.done}async function Lg(t,e){const n=Dg(t),i=(await V1()).transaction(ho,"readwrite"),s=i.objectStore(ho),a=await s.get(n),l=e(a);return l===void 0?await s.delete(n):await s.put(l,n),await i.done,l&&(!a||a.fid!==l.fid)&&kO(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z1(t){let e;const n=await Lg(t.appConfig,r=>{const i=MV(r),s=$V(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Ox?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function MV(t){const e=t||{fid:PV(),registrationStatus:0};return CO(e)}function $V(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(fo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=FV(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:UV(t)}:{installationEntry:e}}async function FV(t,e){try{const n=await TV(t,e);return Jp(t.appConfig,n)}catch(n){throw wO(n)&&n.customData.serverCode===409?await IO(t.appConfig):await Jp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function UV(t){let e=await PN(t.appConfig);for(;e.registrationStatus===1;)await TO(100),e=await PN(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await z1(t);return r||n}return e}function PN(t){return Lg(t,e=>{if(!e)throw fo.create("installation-not-found");return CO(e)})}function CO(t){return BV(t)?{fid:t.fid,registrationStatus:0}:t}function BV(t){return t.registrationStatus===1&&t.registrationTime+vO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VV({appConfig:t,heartbeatServiceProvider:e},n){const r=zV(t,n),i=SV(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={installation:{sdkVersion:xO,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(a)},c=await NO(()=>fetch(r,l));if(c.ok){const u=await c.json();return jO(u)}else throw await SO("Generate Auth Token",c)}function zV(t,{fid:e}){return`${_O(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q1(t,e=!1){let n;const r=await Lg(t.appConfig,s=>{if(!OO(s))throw fo.create("not-registered");const a=s.authToken;if(!e&&HV(a))return s;if(a.requestStatus===1)return n=qV(t,e),s;{if(!navigator.onLine)throw fo.create("app-offline");const l=GV(s);return n=WV(t,l),l}});return n?await n:r.authToken}async function qV(t,e){let n=await IN(t.appConfig);for(;n.authToken.requestStatus===1;)await TO(100),n=await IN(t.appConfig);const r=n.authToken;return r.requestStatus===0?q1(t,e):r}function IN(t){return Lg(t,e=>{if(!OO(e))throw fo.create("not-registered");const n=e.authToken;return XV(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function WV(t,e){try{const n=await VV(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Jp(t.appConfig,r),n}catch(n){if(wO(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await IO(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Jp(t.appConfig,r)}throw n}}function OO(t){return t!==void 0&&t.registrationStatus===2}function HV(t){return t.requestStatus===2&&!KV(t)}function KV(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+bV}function GV(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function XV(t){return t.requestStatus===1&&t.requestTime+vO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YV(t){const e=t,{installationEntry:n,registrationPromise:r}=await z1(e);return r?r.catch(console.error):q1(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QV(t,e=!1){const n=t;return await JV(n),(await q1(n,e)).token}async function JV(t){const{registrationPromise:e}=await z1(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t){if(!t||!t.options)throw Uy("App Configuration");if(!t.name)throw Uy("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Uy(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Uy(t){return fo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO="installations",e7="installations-internal",t7=t=>{const e=t.getProvider("app").getImmediate(),n=ZV(e),r=xa(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},n7=t=>{const e=t.getProvider("app").getImmediate(),n=xa(e,RO).getImmediate();return{getId:()=>YV(n),getToken:i=>QV(n,i)}};function r7(){ui(new Rr(RO,t7,"PUBLIC")),ui(new Rr(e7,n7,"PRIVATE"))}r7();Zn(yO,B1);Zn(yO,B1,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="analytics",i7="firebase_id",s7="origin",a7=60*1e3,o7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",W1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er=new Ag("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l7={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},pr=new Ao("analytics","Analytics",l7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c7(t){if(!t.startsWith(W1)){const e=pr.create("invalid-gtag-resource",{gtagURL:t});return er.warn(e.message),""}return t}function DO(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function u7(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function d7(t,e){const n=u7("firebase-js-sdk-policy",{createScriptURL:c7}),r=document.createElement("script"),i=`${W1}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function f7(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function h7(t,e,n,r,i,s){const a=r[i];try{if(a)await e[a];else{const c=(await DO(n)).find(u=>u.measurementId===i);c&&await e[c.appId]}}catch(l){er.error(l)}t("config",i,s)}async function p7(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const l=await DO(n);for(const c of a){const u=l.find(f=>f.measurementId===c),d=u&&e[u.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){er.error(s)}}function m7(t,e,n,r){async function i(s,...a){try{if(s==="event"){const[l,c]=a;await p7(t,e,n,l,c)}else if(s==="config"){const[l,c]=a;await h7(t,e,n,r,l,c)}else if(s==="consent"){const[l,c]=a;t("consent",l,c)}else if(s==="get"){const[l,c,u]=a;t("get",l,c,u)}else if(s==="set"){const[l]=a;t("set",l)}else t(s,...a)}catch(l){er.error(l)}}return i}function g7(t,e,n,r,i){let s=function(...a){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=m7(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function y7(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(W1)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v7=30,x7=1e3;class b7{constructor(e={},n=x7){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const LO=new b7;function w7(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function _7(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:w7(r)},s=o7.replace("{app-id}",n),a=await fetch(s,i);if(a.status!==200&&a.status!==304){let l="";try{const c=await a.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw pr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function j7(t,e=LO,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw pr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw pr.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new N7;return setTimeout(async()=>{l.abort()},a7),MO({appId:r,apiKey:i,measurementId:s},a,l,e)}async function MO(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=LO){var s;const{appId:a,measurementId:l}=t;try{await S7(r,e)}catch(c){if(l)return er.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:l};throw c}try{const c=await _7(t);return i.deleteThrottleMetadata(a),c}catch(c){const u=c;if(!E7(u)){if(i.deleteThrottleMetadata(a),l)return er.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:l};throw c}const d=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?rN(n,i.intervalMillis,v7):rN(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(a,f),er.debug(`Calling attemptFetch again in ${d} millis`),MO(t,f,r,i)}}function S7(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(pr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function E7(t){if(!(t instanceof Mr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class N7{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function T7(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,a=Object.assign(Object.assign({},r),{send_to:s});t("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A7(){if(g4())try{await y4()}catch(t){return er.warn(pr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return er.warn(pr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function k7(t,e,n,r,i,s,a){var l;const c=j7(t);c.then(v=>{n[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&er.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>er.error(v)),e.push(c);const u=A7().then(v=>{if(v)return r.getId()}),[d,f]=await Promise.all([c,u]);y7(s)||d7(s,d.measurementId),i("js",new Date);const p=(l=a==null?void 0:a.config)!==null&&l!==void 0?l:{};return p[s7]="firebase",p.update=!0,f!=null&&(p[i7]=f),i("config",d.measurementId,p),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(e){this.app=e}_delete(){return delete qu[this.app.options.appId],Promise.resolve()}}let qu={},CN=[];const ON={};let By="dataLayer",I7="gtag",RN,$O,DN=!1;function C7(){const t=[];if(m4()&&t.push("This is a browser extension environment."),Z9()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=pr.create("invalid-analytics-context",{errorInfo:e});er.warn(n.message)}}function O7(t,e,n){C7();const r=t.options.appId;if(!r)throw pr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)er.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw pr.create("no-api-key");if(qu[r]!=null)throw pr.create("already-exists",{id:r});if(!DN){f7(By);const{wrappedGtag:s,gtagCore:a}=g7(qu,CN,ON,By,I7);$O=s,RN=a,DN=!0}return qu[r]=k7(t,CN,ON,e,RN,By,n),new P7(t)}function R7(t=kg()){t=mt(t);const e=xa(t,Zp);return e.isInitialized()?e.getImmediate():D7(t)}function D7(t,e={}){const n=xa(t,Zp);if(n.isInitialized()){const i=n.getImmediate();if(bd(e,n.getOptions()))return i;throw pr.create("already-initialized")}return n.initialize({options:e})}function L7(t,e,n,r){t=mt(t),T7($O,qu[t.app.options.appId],e,n,r).catch(i=>er.error(i))}const LN="@firebase/analytics",MN="0.10.8";function M7(){ui(new Rr(Zp,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return O7(r,i,n)},"PUBLIC")),ui(new Rr("analytics-internal",t,"PRIVATE")),Zn(LN,MN),Zn(LN,MN,"esm2017");function t(e){try{const n=e.getProvider(Zp).getImmediate();return{logEvent:(r,i,s)=>L7(n,r,i,s)}}catch(n){throw pr.create("interop-component-reg-failed",{reason:n})}}}M7();var $N=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Za,FO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,S){function k(){}k.prototype=S.prototype,_.D=S.prototype,_.prototype=new k,_.prototype.constructor=_,_.C=function(O,P,R){for(var C=Array(arguments.length-2),V=2;V<arguments.length;V++)C[V-2]=arguments[V];return S.prototype[P].apply(O,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,S,k){k||(k=0);var O=Array(16);if(typeof S=="string")for(var P=0;16>P;++P)O[P]=S.charCodeAt(k++)|S.charCodeAt(k++)<<8|S.charCodeAt(k++)<<16|S.charCodeAt(k++)<<24;else for(P=0;16>P;++P)O[P]=S[k++]|S[k++]<<8|S[k++]<<16|S[k++]<<24;S=_.g[0],k=_.g[1],P=_.g[2];var R=_.g[3],C=S+(R^k&(P^R))+O[0]+3614090360&4294967295;S=k+(C<<7&4294967295|C>>>25),C=R+(P^S&(k^P))+O[1]+3905402710&4294967295,R=S+(C<<12&4294967295|C>>>20),C=P+(k^R&(S^k))+O[2]+606105819&4294967295,P=R+(C<<17&4294967295|C>>>15),C=k+(S^P&(R^S))+O[3]+3250441966&4294967295,k=P+(C<<22&4294967295|C>>>10),C=S+(R^k&(P^R))+O[4]+4118548399&4294967295,S=k+(C<<7&4294967295|C>>>25),C=R+(P^S&(k^P))+O[5]+1200080426&4294967295,R=S+(C<<12&4294967295|C>>>20),C=P+(k^R&(S^k))+O[6]+2821735955&4294967295,P=R+(C<<17&4294967295|C>>>15),C=k+(S^P&(R^S))+O[7]+4249261313&4294967295,k=P+(C<<22&4294967295|C>>>10),C=S+(R^k&(P^R))+O[8]+1770035416&4294967295,S=k+(C<<7&4294967295|C>>>25),C=R+(P^S&(k^P))+O[9]+2336552879&4294967295,R=S+(C<<12&4294967295|C>>>20),C=P+(k^R&(S^k))+O[10]+4294925233&4294967295,P=R+(C<<17&4294967295|C>>>15),C=k+(S^P&(R^S))+O[11]+2304563134&4294967295,k=P+(C<<22&4294967295|C>>>10),C=S+(R^k&(P^R))+O[12]+1804603682&4294967295,S=k+(C<<7&4294967295|C>>>25),C=R+(P^S&(k^P))+O[13]+4254626195&4294967295,R=S+(C<<12&4294967295|C>>>20),C=P+(k^R&(S^k))+O[14]+2792965006&4294967295,P=R+(C<<17&4294967295|C>>>15),C=k+(S^P&(R^S))+O[15]+1236535329&4294967295,k=P+(C<<22&4294967295|C>>>10),C=S+(P^R&(k^P))+O[1]+4129170786&4294967295,S=k+(C<<5&4294967295|C>>>27),C=R+(k^P&(S^k))+O[6]+3225465664&4294967295,R=S+(C<<9&4294967295|C>>>23),C=P+(S^k&(R^S))+O[11]+643717713&4294967295,P=R+(C<<14&4294967295|C>>>18),C=k+(R^S&(P^R))+O[0]+3921069994&4294967295,k=P+(C<<20&4294967295|C>>>12),C=S+(P^R&(k^P))+O[5]+3593408605&4294967295,S=k+(C<<5&4294967295|C>>>27),C=R+(k^P&(S^k))+O[10]+38016083&4294967295,R=S+(C<<9&4294967295|C>>>23),C=P+(S^k&(R^S))+O[15]+3634488961&4294967295,P=R+(C<<14&4294967295|C>>>18),C=k+(R^S&(P^R))+O[4]+3889429448&4294967295,k=P+(C<<20&4294967295|C>>>12),C=S+(P^R&(k^P))+O[9]+568446438&4294967295,S=k+(C<<5&4294967295|C>>>27),C=R+(k^P&(S^k))+O[14]+3275163606&4294967295,R=S+(C<<9&4294967295|C>>>23),C=P+(S^k&(R^S))+O[3]+4107603335&4294967295,P=R+(C<<14&4294967295|C>>>18),C=k+(R^S&(P^R))+O[8]+1163531501&4294967295,k=P+(C<<20&4294967295|C>>>12),C=S+(P^R&(k^P))+O[13]+2850285829&4294967295,S=k+(C<<5&4294967295|C>>>27),C=R+(k^P&(S^k))+O[2]+4243563512&4294967295,R=S+(C<<9&4294967295|C>>>23),C=P+(S^k&(R^S))+O[7]+1735328473&4294967295,P=R+(C<<14&4294967295|C>>>18),C=k+(R^S&(P^R))+O[12]+2368359562&4294967295,k=P+(C<<20&4294967295|C>>>12),C=S+(k^P^R)+O[5]+4294588738&4294967295,S=k+(C<<4&4294967295|C>>>28),C=R+(S^k^P)+O[8]+2272392833&4294967295,R=S+(C<<11&4294967295|C>>>21),C=P+(R^S^k)+O[11]+1839030562&4294967295,P=R+(C<<16&4294967295|C>>>16),C=k+(P^R^S)+O[14]+4259657740&4294967295,k=P+(C<<23&4294967295|C>>>9),C=S+(k^P^R)+O[1]+2763975236&4294967295,S=k+(C<<4&4294967295|C>>>28),C=R+(S^k^P)+O[4]+1272893353&4294967295,R=S+(C<<11&4294967295|C>>>21),C=P+(R^S^k)+O[7]+4139469664&4294967295,P=R+(C<<16&4294967295|C>>>16),C=k+(P^R^S)+O[10]+3200236656&4294967295,k=P+(C<<23&4294967295|C>>>9),C=S+(k^P^R)+O[13]+681279174&4294967295,S=k+(C<<4&4294967295|C>>>28),C=R+(S^k^P)+O[0]+3936430074&4294967295,R=S+(C<<11&4294967295|C>>>21),C=P+(R^S^k)+O[3]+3572445317&4294967295,P=R+(C<<16&4294967295|C>>>16),C=k+(P^R^S)+O[6]+76029189&4294967295,k=P+(C<<23&4294967295|C>>>9),C=S+(k^P^R)+O[9]+3654602809&4294967295,S=k+(C<<4&4294967295|C>>>28),C=R+(S^k^P)+O[12]+3873151461&4294967295,R=S+(C<<11&4294967295|C>>>21),C=P+(R^S^k)+O[15]+530742520&4294967295,P=R+(C<<16&4294967295|C>>>16),C=k+(P^R^S)+O[2]+3299628645&4294967295,k=P+(C<<23&4294967295|C>>>9),C=S+(P^(k|~R))+O[0]+4096336452&4294967295,S=k+(C<<6&4294967295|C>>>26),C=R+(k^(S|~P))+O[7]+1126891415&4294967295,R=S+(C<<10&4294967295|C>>>22),C=P+(S^(R|~k))+O[14]+2878612391&4294967295,P=R+(C<<15&4294967295|C>>>17),C=k+(R^(P|~S))+O[5]+4237533241&4294967295,k=P+(C<<21&4294967295|C>>>11),C=S+(P^(k|~R))+O[12]+1700485571&4294967295,S=k+(C<<6&4294967295|C>>>26),C=R+(k^(S|~P))+O[3]+2399980690&4294967295,R=S+(C<<10&4294967295|C>>>22),C=P+(S^(R|~k))+O[10]+4293915773&4294967295,P=R+(C<<15&4294967295|C>>>17),C=k+(R^(P|~S))+O[1]+2240044497&4294967295,k=P+(C<<21&4294967295|C>>>11),C=S+(P^(k|~R))+O[8]+1873313359&4294967295,S=k+(C<<6&4294967295|C>>>26),C=R+(k^(S|~P))+O[15]+4264355552&4294967295,R=S+(C<<10&4294967295|C>>>22),C=P+(S^(R|~k))+O[6]+2734768916&4294967295,P=R+(C<<15&4294967295|C>>>17),C=k+(R^(P|~S))+O[13]+1309151649&4294967295,k=P+(C<<21&4294967295|C>>>11),C=S+(P^(k|~R))+O[4]+4149444226&4294967295,S=k+(C<<6&4294967295|C>>>26),C=R+(k^(S|~P))+O[11]+3174756917&4294967295,R=S+(C<<10&4294967295|C>>>22),C=P+(S^(R|~k))+O[2]+718787259&4294967295,P=R+(C<<15&4294967295|C>>>17),C=k+(R^(P|~S))+O[9]+3951481745&4294967295,_.g[0]=_.g[0]+S&4294967295,_.g[1]=_.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,_.g[2]=_.g[2]+P&4294967295,_.g[3]=_.g[3]+R&4294967295}r.prototype.u=function(_,S){S===void 0&&(S=_.length);for(var k=S-this.blockSize,O=this.B,P=this.h,R=0;R<S;){if(P==0)for(;R<=k;)i(this,_,R),R+=this.blockSize;if(typeof _=="string"){for(;R<S;)if(O[P++]=_.charCodeAt(R++),P==this.blockSize){i(this,O),P=0;break}}else for(;R<S;)if(O[P++]=_[R++],P==this.blockSize){i(this,O),P=0;break}}this.h=P,this.o+=S},r.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var S=1;S<_.length-8;++S)_[S]=0;var k=8*this.o;for(S=_.length-8;S<_.length;++S)_[S]=k&255,k/=256;for(this.u(_),_=Array(16),S=k=0;4>S;++S)for(var O=0;32>O;O+=8)_[k++]=this.g[S]>>>O&255;return _};function s(_,S){var k=l;return Object.prototype.hasOwnProperty.call(k,_)?k[_]:k[_]=S(_)}function a(_,S){this.h=S;for(var k=[],O=!0,P=_.length-1;0<=P;P--){var R=_[P]|0;O&&R==S||(k[P]=R,O=!1)}this.g=k}var l={};function c(_){return-128<=_&&128>_?s(_,function(S){return new a([S|0],0>S?-1:0)}):new a([_|0],0>_?-1:0)}function u(_){if(isNaN(_)||!isFinite(_))return f;if(0>_)return m(u(-_));for(var S=[],k=1,O=0;_>=k;O++)S[O]=_/k|0,k*=4294967296;return new a(S,0)}function d(_,S){if(_.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(_.charAt(0)=="-")return m(d(_.substring(1),S));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=u(Math.pow(S,8)),O=f,P=0;P<_.length;P+=8){var R=Math.min(8,_.length-P),C=parseInt(_.substring(P,P+R),S);8>R?(R=u(Math.pow(S,R)),O=O.j(R).add(u(C))):(O=O.j(k),O=O.add(u(C)))}return O}var f=c(0),p=c(1),v=c(16777216);t=a.prototype,t.m=function(){if(y(this))return-m(this).m();for(var _=0,S=1,k=0;k<this.g.length;k++){var O=this.i(k);_+=(0<=O?O:4294967296+O)*S,S*=4294967296}return _},t.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(g(this))return"0";if(y(this))return"-"+m(this).toString(_);for(var S=u(Math.pow(_,6)),k=this,O="";;){var P=T(k,S).g;k=x(k,P.j(S));var R=((0<k.g.length?k.g[0]:k.h)>>>0).toString(_);if(k=P,g(k))return R+O;for(;6>R.length;)R="0"+R;O=R+O}},t.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function g(_){if(_.h!=0)return!1;for(var S=0;S<_.g.length;S++)if(_.g[S]!=0)return!1;return!0}function y(_){return _.h==-1}t.l=function(_){return _=x(this,_),y(_)?-1:g(_)?0:1};function m(_){for(var S=_.g.length,k=[],O=0;O<S;O++)k[O]=~_.g[O];return new a(k,~_.h).add(p)}t.abs=function(){return y(this)?m(this):this},t.add=function(_){for(var S=Math.max(this.g.length,_.g.length),k=[],O=0,P=0;P<=S;P++){var R=O+(this.i(P)&65535)+(_.i(P)&65535),C=(R>>>16)+(this.i(P)>>>16)+(_.i(P)>>>16);O=C>>>16,R&=65535,C&=65535,k[P]=C<<16|R}return new a(k,k[k.length-1]&-2147483648?-1:0)};function x(_,S){return _.add(m(S))}t.j=function(_){if(g(this)||g(_))return f;if(y(this))return y(_)?m(this).j(m(_)):m(m(this).j(_));if(y(_))return m(this.j(m(_)));if(0>this.l(v)&&0>_.l(v))return u(this.m()*_.m());for(var S=this.g.length+_.g.length,k=[],O=0;O<2*S;O++)k[O]=0;for(O=0;O<this.g.length;O++)for(var P=0;P<_.g.length;P++){var R=this.i(O)>>>16,C=this.i(O)&65535,V=_.i(P)>>>16,U=_.i(P)&65535;k[2*O+2*P]+=C*U,w(k,2*O+2*P),k[2*O+2*P+1]+=R*U,w(k,2*O+2*P+1),k[2*O+2*P+1]+=C*V,w(k,2*O+2*P+1),k[2*O+2*P+2]+=R*V,w(k,2*O+2*P+2)}for(O=0;O<S;O++)k[O]=k[2*O+1]<<16|k[2*O];for(O=S;O<2*S;O++)k[O]=0;return new a(k,0)};function w(_,S){for(;(_[S]&65535)!=_[S];)_[S+1]+=_[S]>>>16,_[S]&=65535,S++}function b(_,S){this.g=_,this.h=S}function T(_,S){if(g(S))throw Error("division by zero");if(g(_))return new b(f,f);if(y(_))return S=T(m(_),S),new b(m(S.g),m(S.h));if(y(S))return S=T(_,m(S)),new b(m(S.g),S.h);if(30<_.g.length){if(y(_)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var k=p,O=S;0>=O.l(_);)k=N(k),O=N(O);var P=A(k,1),R=A(O,1);for(O=A(O,2),k=A(k,2);!g(O);){var C=R.add(O);0>=C.l(_)&&(P=P.add(k),R=C),O=A(O,1),k=A(k,1)}return S=x(_,P.j(S)),new b(P,S)}for(P=f;0<=_.l(S);){for(k=Math.max(1,Math.floor(_.m()/S.m())),O=Math.ceil(Math.log(k)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),R=u(k),C=R.j(S);y(C)||0<C.l(_);)k-=O,R=u(k),C=R.j(S);g(R)&&(R=p),P=P.add(R),_=x(_,C)}return new b(P,_)}t.A=function(_){return T(this,_).h},t.and=function(_){for(var S=Math.max(this.g.length,_.g.length),k=[],O=0;O<S;O++)k[O]=this.i(O)&_.i(O);return new a(k,this.h&_.h)},t.or=function(_){for(var S=Math.max(this.g.length,_.g.length),k=[],O=0;O<S;O++)k[O]=this.i(O)|_.i(O);return new a(k,this.h|_.h)},t.xor=function(_){for(var S=Math.max(this.g.length,_.g.length),k=[],O=0;O<S;O++)k[O]=this.i(O)^_.i(O);return new a(k,this.h^_.h)};function N(_){for(var S=_.g.length+1,k=[],O=0;O<S;O++)k[O]=_.i(O)<<1|_.i(O-1)>>>31;return new a(k,_.h)}function A(_,S){var k=S>>5;S%=32;for(var O=_.g.length-k,P=[],R=0;R<O;R++)P[R]=0<S?_.i(R+k)>>>S|_.i(R+k+1)<<32-S:_.i(R+k);return new a(P,_.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,FO=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,Za=a}).apply(typeof $N<"u"?$N:typeof self<"u"?self:typeof window<"u"?window:{});var Eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var UO,ku,BO,up,Rx,VO,zO,qO;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,j,I){return h==Array.prototype||h==Object.prototype||(h[j]=I.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eh=="object"&&Eh];for(var j=0;j<h.length;++j){var I=h[j];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(h,j){if(j)e:{var I=r;h=h.split(".");for(var D=0;D<h.length-1;D++){var q=h[D];if(!(q in I))break e;I=I[q]}h=h[h.length-1],D=I[h],j=j(D),j!=D&&j!=null&&e(I,h,{configurable:!0,writable:!0,value:j})}}function s(h,j){h instanceof String&&(h+="");var I=0,D=!1,q={next:function(){if(!D&&I<h.length){var X=I++;return{value:j(X,h[X]),done:!1}}return D=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}i("Array.prototype.values",function(h){return h||function(){return s(this,function(j,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(h){var j=typeof h;return j=j!="object"?j:h?Array.isArray(h)?"array":j:"null",j=="array"||j=="object"&&typeof h.length=="number"}function u(h){var j=typeof h;return j=="object"&&h!=null||j=="function"}function d(h,j,I){return h.call.apply(h.bind,arguments)}function f(h,j,I){if(!h)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,D),h.apply(j,q)}}return function(){return h.apply(j,arguments)}}function p(h,j,I){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function v(h,j){var I=Array.prototype.slice.call(arguments,1);return function(){var D=I.slice();return D.push.apply(D,arguments),h.apply(this,D)}}function g(h,j){function I(){}I.prototype=j.prototype,h.aa=j.prototype,h.prototype=new I,h.prototype.constructor=h,h.Qb=function(D,q,X){for(var se=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)se[rt-2]=arguments[rt];return j.prototype[q].apply(D,se)}}function y(h){const j=h.length;if(0<j){const I=Array(j);for(let D=0;D<j;D++)I[D]=h[D];return I}return[]}function m(h,j){for(let I=1;I<arguments.length;I++){const D=arguments[I];if(c(D)){const q=h.length||0,X=D.length||0;h.length=q+X;for(let se=0;se<X;se++)h[q+se]=D[se]}else h.push(D)}}class x{constructor(j,I){this.i=j,this.j=I,this.h=0,this.g=null}get(){let j;return 0<this.h?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function w(h){return/^[\s\xa0]*$/.test(h)}function b(){var h=l.navigator;return h&&(h=h.userAgent)?h:""}function T(h){return T[" "](h),h}T[" "]=function(){};var N=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function A(h,j,I){for(const D in h)j.call(I,h[D],D,h)}function _(h,j){for(const I in h)j.call(void 0,h[I],I,h)}function S(h){const j={};for(const I in h)j[I]=h[I];return j}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(h,j){let I,D;for(let q=1;q<arguments.length;q++){D=arguments[q];for(I in D)h[I]=D[I];for(let X=0;X<k.length;X++)I=k[X],Object.prototype.hasOwnProperty.call(D,I)&&(h[I]=D[I])}}function P(h){var j=1;h=h.split(":");const I=[];for(;0<j&&h.length;)I.push(h.shift()),j--;return h.length&&I.push(h.join(":")),I}function R(h){l.setTimeout(()=>{throw h},0)}function C(){var h=F;let j=null;return h.g&&(j=h.g,h.g=h.g.next,h.g||(h.h=null),j.next=null),j}class V{constructor(){this.h=this.g=null}add(j,I){const D=U.get();D.set(j,I),this.h?this.h.next=D:this.g=D,this.h=D}}var U=new x(()=>new $,h=>h.reset());class ${constructor(){this.next=this.g=this.h=null}set(j,I){this.h=j,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let M,L=!1,F=new V,W=()=>{const h=l.Promise.resolve(void 0);M=()=>{h.then(K)}};var K=()=>{for(var h;h=C();){try{h.h.call(h.g)}catch(I){R(I)}var j=U;j.j(h),100>j.h&&(j.h++,h.next=j.g,j.g=h)}L=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(h,j){this.type=h,this.g=this.target=j,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var h=!1,j=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const I=()=>{};l.addEventListener("test",I,j),l.removeEventListener("test",I,j)}catch{}return h}();function je(h,j){if(z.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var I=this.type=h.type,D=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=j,j=h.relatedTarget){if(N){e:{try{T(j.nodeName);var q=!0;break e}catch{}q=!1}q||(j=null)}}else I=="mouseover"?j=h.fromElement:I=="mouseout"&&(j=h.toElement);this.relatedTarget=j,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Pe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&je.aa.h.call(this)}}g(je,z);var Pe={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Ye=0;function re(h,j,I,D,q){this.listener=h,this.proxy=null,this.src=j,this.type=I,this.capture=!!D,this.ha=q,this.key=++Ye,this.da=this.fa=!1}function ye(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ve(h){this.src=h,this.g={},this.h=0}ve.prototype.add=function(h,j,I,D,q){var X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);var se=Ue(h,j,D,q);return-1<se?(j=h[se],I||(j.fa=!1)):(j=new re(j,this.src,X,!!D,q),j.fa=I,h.push(j)),j};function J(h,j){var I=j.type;if(I in h.g){var D=h.g[I],q=Array.prototype.indexOf.call(D,j,void 0),X;(X=0<=q)&&Array.prototype.splice.call(D,q,1),X&&(ye(j),h.g[I].length==0&&(delete h.g[I],h.h--))}}function Ue(h,j,I,D){for(var q=0;q<h.length;++q){var X=h[q];if(!X.da&&X.listener==j&&X.capture==!!I&&X.ha==D)return q}return-1}var Te="closure_lm_"+(1e6*Math.random()|0),nt={};function at(h,j,I,D,q){if(Array.isArray(j)){for(var X=0;X<j.length;X++)at(h,j[X],I,D,q);return null}return I=de(I),h&&h[Oe]?h.K(j,I,u(D)?!!D.capture:!1,q):ie(h,j,I,!1,D,q)}function ie(h,j,I,D,q,X){if(!j)throw Error("Invalid event type");var se=u(q)?!!q.capture:!!q,rt=H(h);if(rt||(h[Te]=rt=new ve(h)),I=rt.add(j,I,D,se,X),I.proxy)return I;if(D=ge(),I.proxy=D,D.src=h,D.listener=I,h.addEventListener)oe||(q=se),q===void 0&&(q=!1),h.addEventListener(j.toString(),D,q);else if(h.attachEvent)h.attachEvent(Et(j.toString()),D);else if(h.addListener&&h.removeListener)h.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return I}function ge(){function h(I){return j.call(h.src,h.listener,I)}const j=Zt;return h}function De(h,j,I,D,q){if(Array.isArray(j))for(var X=0;X<j.length;X++)De(h,j[X],I,D,q);else D=u(D)?!!D.capture:!!D,I=de(I),h&&h[Oe]?(h=h.i,j=String(j).toString(),j in h.g&&(X=h.g[j],I=Ue(X,I,D,q),-1<I&&(ye(X[I]),Array.prototype.splice.call(X,I,1),X.length==0&&(delete h.g[j],h.h--)))):h&&(h=H(h))&&(j=h.g[j.toString()],h=-1,j&&(h=Ue(j,I,D,q)),(I=-1<h?j[h]:null)&&gt(I))}function gt(h){if(typeof h!="number"&&h&&!h.da){var j=h.src;if(j&&j[Oe])J(j.i,h);else{var I=h.type,D=h.proxy;j.removeEventListener?j.removeEventListener(I,D,h.capture):j.detachEvent?j.detachEvent(Et(I),D):j.addListener&&j.removeListener&&j.removeListener(D),(I=H(j))?(J(I,h),I.h==0&&(I.src=null,j[Te]=null)):ye(h)}}}function Et(h){return h in nt?nt[h]:nt[h]="on"+h}function Zt(h,j){if(h.da)h=!0;else{j=new je(j,this);var I=h.listener,D=h.ha||h.src;h.fa&&gt(h),h=I.call(D,j)}return h}function H(h){return h=h[Te],h instanceof ve?h:null}var me="__closure_events_fn_"+(1e9*Math.random()>>>0);function de(h){return typeof h=="function"?h:(h[me]||(h[me]=function(j){return h.handleEvent(j)}),h[me])}function le(){Y.call(this),this.i=new ve(this),this.M=this,this.F=null}g(le,Y),le.prototype[Oe]=!0,le.prototype.removeEventListener=function(h,j,I,D){De(this,h,j,I,D)};function Ge(h,j){var I,D=h.F;if(D)for(I=[];D;D=D.F)I.push(D);if(h=h.M,D=j.type||j,typeof j=="string")j=new z(j,h);else if(j instanceof z)j.target=j.target||h;else{var q=j;j=new z(D,h),O(j,q)}if(q=!0,I)for(var X=I.length-1;0<=X;X--){var se=j.g=I[X];q=Nt(se,D,!0,j)&&q}if(se=j.g=h,q=Nt(se,D,!0,j)&&q,q=Nt(se,D,!1,j)&&q,I)for(X=0;X<I.length;X++)se=j.g=I[X],q=Nt(se,D,!1,j)&&q}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var h=this.i,j;for(j in h.g){for(var I=h.g[j],D=0;D<I.length;D++)ye(I[D]);delete h.g[j],h.h--}}this.F=null},le.prototype.K=function(h,j,I,D){return this.i.add(String(h),j,!1,I,D)},le.prototype.L=function(h,j,I,D){return this.i.add(String(h),j,!0,I,D)};function Nt(h,j,I,D){if(j=h.i.g[String(j)],!j)return!0;j=j.concat();for(var q=!0,X=0;X<j.length;++X){var se=j[X];if(se&&!se.da&&se.capture==I){var rt=se.listener,cn=se.ha||se.src;se.fa&&J(h.i,se),q=rt.call(cn,D)!==!1&&q}}return q&&!D.defaultPrevented}function qe(h,j,I){if(typeof h=="function")I&&(h=p(h,I));else if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(j)?-1:l.setTimeout(h,j||0)}function qn(h){h.g=qe(()=>{h.g=null,h.i&&(h.i=!1,qn(h))},h.l);const j=h.h;h.h=null,h.m.apply(null,j)}class ln extends Y{constructor(j,I){super(),this.m=j,this.l=I,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:qn(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function br(h){Y.call(this),this.h=h,this.g={}}g(br,Y);var bn=[];function Wf(h){A(h.g,function(j,I){this.g.hasOwnProperty(I)&&gt(j)},h),h.g={}}br.prototype.N=function(){br.aa.N.call(this),Wf(this)},br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mo=l.JSON.stringify,Hf=l.JSON.parse,Kf=class{stringify(h){return l.JSON.stringify(h,void 0)}parse(h){return l.JSON.parse(h,void 0)}};function $o(){}$o.prototype.h=null;function Vc(h){return h.h||(h.h=h.i())}function zc(){}var Ss={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fo(){z.call(this,"d")}g(Fo,z);function Uo(){z.call(this,"c")}g(Uo,z);var hi={},qc=null;function Ta(){return qc=qc||new le}hi.La="serverreachability";function Wc(h){z.call(this,hi.La,h)}g(Wc,z);function Es(h){const j=Ta();Ge(j,new Wc(j))}hi.STAT_EVENT="statevent";function Hc(h,j){z.call(this,hi.STAT_EVENT,h),this.stat=j}g(Hc,z);function en(h){const j=Ta();Ge(j,new Hc(j,h))}hi.Ma="timingevent";function Kc(h,j){z.call(this,hi.Ma,h),this.size=j}g(Kc,z);function Ns(h,j){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){h()},j)}function Ts(){this.g=!0}Ts.prototype.xa=function(){this.g=!1};function Ft(h,j,I,D,q,X){h.info(function(){if(h.g)if(X)for(var se="",rt=X.split("&"),cn=0;cn<rt.length;cn++){var We=rt[cn].split("=");if(1<We.length){var wn=We[0];We=We[1];var _n=wn.split("_");se=2<=_n.length&&_n[1]=="type"?se+(wn+"="+We+"&"):se+(wn+"=redacted&")}}else se=null;else se=X;return"XMLHTTP REQ ("+D+") [attempt "+q+"]: "+j+`
`+I+`
`+se})}function Ln(h,j,I,D,q,X,se){h.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+q+"]: "+j+`
`+I+`
`+X+" "+se})}function Tt(h,j,I,D){h.info(function(){return"XMLHTTP TEXT ("+j+"): "+Be(h,I)+(D?" "+D:"")})}function Wn(h,j){h.info(function(){return"TIMEOUT: "+j})}Ts.prototype.info=function(){};function Be(h,j){if(!h.g)return j;if(!j)return null;try{var I=JSON.parse(j);if(I){for(h=0;h<I.length;h++)if(Array.isArray(I[h])){var D=I[h];if(!(2>D.length)){var q=D[1];if(Array.isArray(q)&&!(1>q.length)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var se=1;se<q.length;se++)q[se]=""}}}}return Mo(I)}catch{return j}}var he={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},be={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Br;function Aa(){}g(Aa,$o),Aa.prototype.g=function(){return new XMLHttpRequest},Aa.prototype.i=function(){return{}},Br=new Aa;function As(h,j,I,D){this.j=h,this.i=j,this.l=I,this.R=D||1,this.U=new br(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zj}function Zj(){this.i=null,this.g="",this.h=!1}var eS={},G0={};function X0(h,j,I){h.L=1,h.v=Qf(Mi(j)),h.m=I,h.P=!0,tS(h,null)}function tS(h,j){h.F=Date.now(),Gf(h),h.A=Mi(h.v);var I=h.A,D=h.R;Array.isArray(D)||(D=[String(D)]),mS(I.i,"t",D),h.C=0,I=h.j.J,h.h=new Zj,h.g=OS(h.j,I?j:null,!h.m),0<h.O&&(h.M=new ln(p(h.Y,h,h.g),h.O)),j=h.U,I=h.g,D=h.ca;var q="readystatechange";Array.isArray(q)||(q&&(bn[0]=q.toString()),q=bn);for(var X=0;X<q.length;X++){var se=at(I,q[X],D||j.handleEvent,!1,j.h||j);if(!se)break;j.g[se.key]=se}j=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),j["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,j)):(h.u="GET",h.g.ea(h.A,h.u,null,j)),Es(),Ft(h.i,h.u,h.A,h.l,h.R,h.m)}As.prototype.ca=function(h){h=h.target;const j=this.M;j&&$i(h)==3?j.j():this.Y(h)},As.prototype.Y=function(h){try{if(h==this.g)e:{const _n=$i(this.g);var j=this.g.Ba();const zo=this.g.Z();if(!(3>_n)&&(_n!=3||this.g&&(this.h.h||this.g.oa()||_S(this.g)))){this.J||_n!=4||j==7||(j==8||0>=zo?Es(3):Es(2)),Y0(this);var I=this.g.Z();this.X=I;t:if(nS(this)){var D=_S(this.g);h="";var q=D.length,X=$i(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ka(this),Gc(this);var se="";break t}this.h.i=new l.TextDecoder}for(j=0;j<q;j++)this.h.h=!0,h+=this.h.i.decode(D[j],{stream:!(X&&j==q-1)});D.length=0,this.h.g+=h,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=I==200,Ln(this.i,this.u,this.A,this.l,this.R,_n,I),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,cn=this.g;if((rt=cn.g?cn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(rt)){var We=rt;break t}}We=null}if(I=We)Tt(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Q0(this,I);else{this.o=!1,this.s=3,en(12),ka(this),Gc(this);break e}}if(this.P){I=!0;let Vr;for(;!this.J&&this.C<se.length;)if(Vr=zM(this,se),Vr==G0){_n==4&&(this.s=4,en(14),I=!1),Tt(this.i,this.l,null,"[Incomplete Response]");break}else if(Vr==eS){this.s=4,en(15),Tt(this.i,this.l,se,"[Invalid Chunk]"),I=!1;break}else Tt(this.i,this.l,Vr,null),Q0(this,Vr);if(nS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_n!=4||se.length!=0||this.h.h||(this.s=1,en(16),I=!1),this.o=this.o&&I,!I)Tt(this.i,this.l,se,"[Invalid Chunked Response]"),ka(this),Gc(this);else if(0<se.length&&!this.W){this.W=!0;var wn=this.j;wn.g==this&&wn.ba&&!wn.M&&(wn.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),ry(wn),wn.M=!0,en(11))}}else Tt(this.i,this.l,se,null),Q0(this,se);_n==4&&ka(this),this.o&&!this.J&&(_n==4?kS(this.j,this):(this.o=!1,Gf(this)))}else a$(this.g),I==400&&0<se.indexOf("Unknown SID")?(this.s=3,en(12)):(this.s=0,en(13)),ka(this),Gc(this)}}}catch{}finally{}};function nS(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function zM(h,j){var I=h.C,D=j.indexOf(`
`,I);return D==-1?G0:(I=Number(j.substring(I,D)),isNaN(I)?eS:(D+=1,D+I>j.length?G0:(j=j.slice(D,D+I),h.C=D+I,j)))}As.prototype.cancel=function(){this.J=!0,ka(this)};function Gf(h){h.S=Date.now()+h.I,rS(h,h.I)}function rS(h,j){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ns(p(h.ba,h),j)}function Y0(h){h.B&&(l.clearTimeout(h.B),h.B=null)}As.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Wn(this.i,this.A),this.L!=2&&(Es(),en(17)),ka(this),this.s=2,Gc(this)):rS(this,this.S-h)};function Gc(h){h.j.G==0||h.J||kS(h.j,h)}function ka(h){Y0(h);var j=h.M;j&&typeof j.ma=="function"&&j.ma(),h.M=null,Wf(h.U),h.g&&(j=h.g,h.g=null,j.abort(),j.ma())}function Q0(h,j){try{var I=h.j;if(I.G!=0&&(I.g==h||J0(I.h,h))){if(!h.K&&J0(I.h,h)&&I.G==3){try{var D=I.Da.g.parse(j)}catch{D=null}if(Array.isArray(D)&&D.length==3){var q=D;if(q[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<h.F)rh(I),th(I);else break e;ny(I),en(18)}}else I.za=q[1],0<I.za-I.T&&37500>q[2]&&I.F&&I.v==0&&!I.C&&(I.C=Ns(p(I.Za,I),6e3));if(1>=aS(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else Ia(I,11)}else if((h.K||I.g==h)&&rh(I),!w(j))for(q=I.Da.g.parse(j),j=0;j<q.length;j++){let We=q[j];if(I.T=We[0],We=We[1],I.G==2)if(We[0]=="c"){I.K=We[1],I.ia=We[2];const wn=We[3];wn!=null&&(I.la=wn,I.j.info("VER="+I.la));const _n=We[4];_n!=null&&(I.Aa=_n,I.j.info("SVER="+I.Aa));const zo=We[5];zo!=null&&typeof zo=="number"&&0<zo&&(D=1.5*zo,I.L=D,I.j.info("backChannelRequestTimeoutMs_="+D)),D=I;const Vr=h.g;if(Vr){const sh=Vr.g?Vr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sh){var X=D.h;X.g||sh.indexOf("spdy")==-1&&sh.indexOf("quic")==-1&&sh.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Z0(X,X.h),X.h=null))}if(D.D){const iy=Vr.g?Vr.g.getResponseHeader("X-HTTP-Session-Id"):null;iy&&(D.ya=iy,ut(D.I,D.D,iy))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-h.F,I.j.info("Handshake RTT: "+I.R+"ms")),D=I;var se=h;if(D.qa=CS(D,D.J?D.ia:null,D.W),se.K){oS(D.h,se);var rt=se,cn=D.L;cn&&(rt.I=cn),rt.B&&(Y0(rt),Gf(rt)),D.g=se}else TS(D);0<I.i.length&&nh(I)}else We[0]!="stop"&&We[0]!="close"||Ia(I,7);else I.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Ia(I,7):ty(I):We[0]!="noop"&&I.l&&I.l.ta(We),I.v=0)}}Es(4)}catch{}}var qM=class{constructor(h,j){this.g=h,this.map=j}};function iS(h){this.l=h||10,l.PerformanceNavigationTiming?(h=l.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sS(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function aS(h){return h.h?1:h.g?h.g.size:0}function J0(h,j){return h.h?h.h==j:h.g?h.g.has(j):!1}function Z0(h,j){h.g?h.g.add(j):h.h=j}function oS(h,j){h.h&&h.h==j?h.h=null:h.g&&h.g.has(j)&&h.g.delete(j)}iS.prototype.cancel=function(){if(this.i=lS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function lS(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let j=h.i;for(const I of h.g.values())j=j.concat(I.D);return j}return y(h.i)}function WM(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(c(h)){for(var j=[],I=h.length,D=0;D<I;D++)j.push(h[D]);return j}j=[],I=0;for(D in h)j[I++]=h[D];return j}function HM(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(c(h)||typeof h=="string"){var j=[];h=h.length;for(var I=0;I<h;I++)j.push(I);return j}j=[],I=0;for(const D in h)j[I++]=D;return j}}}function cS(h,j){if(h.forEach&&typeof h.forEach=="function")h.forEach(j,void 0);else if(c(h)||typeof h=="string")Array.prototype.forEach.call(h,j,void 0);else for(var I=HM(h),D=WM(h),q=D.length,X=0;X<q;X++)j.call(void 0,D[X],I&&I[X],h)}var uS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function KM(h,j){if(h){h=h.split("&");for(var I=0;I<h.length;I++){var D=h[I].indexOf("="),q=null;if(0<=D){var X=h[I].substring(0,D);q=h[I].substring(D+1)}else X=h[I];j(X,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Pa(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Pa){this.h=h.h,Xf(this,h.j),this.o=h.o,this.g=h.g,Yf(this,h.s),this.l=h.l;var j=h.i,I=new Qc;I.i=j.i,j.g&&(I.g=new Map(j.g),I.h=j.h),dS(this,I),this.m=h.m}else h&&(j=String(h).match(uS))?(this.h=!1,Xf(this,j[1]||"",!0),this.o=Xc(j[2]||""),this.g=Xc(j[3]||"",!0),Yf(this,j[4]),this.l=Xc(j[5]||"",!0),dS(this,j[6]||"",!0),this.m=Xc(j[7]||"")):(this.h=!1,this.i=new Qc(null,this.h))}Pa.prototype.toString=function(){var h=[],j=this.j;j&&h.push(Yc(j,fS,!0),":");var I=this.g;return(I||j=="file")&&(h.push("//"),(j=this.o)&&h.push(Yc(j,fS,!0),"@"),h.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&h.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&h.push("/"),h.push(Yc(I,I.charAt(0)=="/"?YM:XM,!0))),(I=this.i.toString())&&h.push("?",I),(I=this.m)&&h.push("#",Yc(I,JM)),h.join("")};function Mi(h){return new Pa(h)}function Xf(h,j,I){h.j=I?Xc(j,!0):j,h.j&&(h.j=h.j.replace(/:$/,""))}function Yf(h,j){if(j){if(j=Number(j),isNaN(j)||0>j)throw Error("Bad port number "+j);h.s=j}else h.s=null}function dS(h,j,I){j instanceof Qc?(h.i=j,ZM(h.i,h.h)):(I||(j=Yc(j,QM)),h.i=new Qc(j,h.h))}function ut(h,j,I){h.i.set(j,I)}function Qf(h){return ut(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Xc(h,j){return h?j?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Yc(h,j,I){return typeof h=="string"?(h=encodeURI(h).replace(j,GM),I&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function GM(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var fS=/[#\/\?@]/g,XM=/[#\?:]/g,YM=/[#\?]/g,QM=/[#\?@]/g,JM=/#/g;function Qc(h,j){this.h=this.g=null,this.i=h||null,this.j=!!j}function ks(h){h.g||(h.g=new Map,h.h=0,h.i&&KM(h.i,function(j,I){h.add(decodeURIComponent(j.replace(/\+/g," ")),I)}))}t=Qc.prototype,t.add=function(h,j){ks(this),this.i=null,h=Bo(this,h);var I=this.g.get(h);return I||this.g.set(h,I=[]),I.push(j),this.h+=1,this};function hS(h,j){ks(h),j=Bo(h,j),h.g.has(j)&&(h.i=null,h.h-=h.g.get(j).length,h.g.delete(j))}function pS(h,j){return ks(h),j=Bo(h,j),h.g.has(j)}t.forEach=function(h,j){ks(this),this.g.forEach(function(I,D){I.forEach(function(q){h.call(j,q,D,this)},this)},this)},t.na=function(){ks(this);const h=Array.from(this.g.values()),j=Array.from(this.g.keys()),I=[];for(let D=0;D<j.length;D++){const q=h[D];for(let X=0;X<q.length;X++)I.push(j[D])}return I},t.V=function(h){ks(this);let j=[];if(typeof h=="string")pS(this,h)&&(j=j.concat(this.g.get(Bo(this,h))));else{h=Array.from(this.g.values());for(let I=0;I<h.length;I++)j=j.concat(h[I])}return j},t.set=function(h,j){return ks(this),this.i=null,h=Bo(this,h),pS(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[j]),this.h+=1,this},t.get=function(h,j){return h?(h=this.V(h),0<h.length?String(h[0]):j):j};function mS(h,j,I){hS(h,j),0<I.length&&(h.i=null,h.g.set(Bo(h,j),y(I)),h.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],j=Array.from(this.g.keys());for(var I=0;I<j.length;I++){var D=j[I];const X=encodeURIComponent(String(D)),se=this.V(D);for(D=0;D<se.length;D++){var q=X;se[D]!==""&&(q+="="+encodeURIComponent(String(se[D]))),h.push(q)}}return this.i=h.join("&")};function Bo(h,j){return j=String(j),h.j&&(j=j.toLowerCase()),j}function ZM(h,j){j&&!h.j&&(ks(h),h.i=null,h.g.forEach(function(I,D){var q=D.toLowerCase();D!=q&&(hS(this,D),mS(this,q,I))},h)),h.j=j}function e$(h,j){const I=new Ts;if(l.Image){const D=new Image;D.onload=v(Ps,I,"TestLoadImage: loaded",!0,j,D),D.onerror=v(Ps,I,"TestLoadImage: error",!1,j,D),D.onabort=v(Ps,I,"TestLoadImage: abort",!1,j,D),D.ontimeout=v(Ps,I,"TestLoadImage: timeout",!1,j,D),l.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=h}else j(!1)}function t$(h,j){const I=new Ts,D=new AbortController,q=setTimeout(()=>{D.abort(),Ps(I,"TestPingServer: timeout",!1,j)},1e4);fetch(h,{signal:D.signal}).then(X=>{clearTimeout(q),X.ok?Ps(I,"TestPingServer: ok",!0,j):Ps(I,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(q),Ps(I,"TestPingServer: error",!1,j)})}function Ps(h,j,I,D,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),D(I)}catch{}}function n$(){this.g=new Kf}function r$(h,j,I){const D=I||"";try{cS(h,function(q,X){let se=q;u(q)&&(se=Mo(q)),j.push(D+X+"="+encodeURIComponent(se))})}catch(q){throw j.push(D+"type="+encodeURIComponent("_badmap")),q}}function Jf(h){this.l=h.Ub||null,this.j=h.eb||!1}g(Jf,$o),Jf.prototype.g=function(){return new Zf(this.l,this.j)},Jf.prototype.i=function(h){return function(){return h}}({});function Zf(h,j){le.call(this),this.D=h,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Zf,le),t=Zf.prototype,t.open=function(h,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=j,this.readyState=1,Zc(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const j={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(j.body=h),(this.D||l).fetch(new Request(this.A,j)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jc(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Zc(this)),this.g&&(this.readyState=3,Zc(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gS(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function gS(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var j=h.value?h.value:new Uint8Array(0);(j=this.v.decode(j,{stream:!h.done}))&&(this.response=this.responseText+=j)}h.done?Jc(this):Zc(this),this.readyState==3&&gS(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Jc(this))},t.Qa=function(h){this.g&&(this.response=h,Jc(this))},t.ga=function(){this.g&&Jc(this)};function Jc(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Zc(h)}t.setRequestHeader=function(h,j){this.u.append(h,j)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],j=this.h.entries();for(var I=j.next();!I.done;)I=I.value,h.push(I[0]+": "+I[1]),I=j.next();return h.join(`\r
`)};function Zc(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Zf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function yS(h){let j="";return A(h,function(I,D){j+=D,j+=":",j+=I,j+=`\r
`}),j}function ey(h,j,I){e:{for(D in I){var D=!1;break e}D=!0}D||(I=yS(I),typeof h=="string"?I!=null&&encodeURIComponent(String(I)):ut(h,j,I))}function At(h){le.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(At,le);var i$=/^https?$/i,s$=["POST","PUT"];t=At.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,j,I,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);j=j?j.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Br.g(),this.v=this.o?Vc(this.o):Vc(Br),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(j,String(h),!0),this.B=!1}catch(X){vS(this,X);return}if(h=I||"",I=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var q in D)I.set(q,D[q]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const X of D.keys())I.set(X,D.get(X));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(I.keys()).find(X=>X.toLowerCase()=="content-type"),q=l.FormData&&h instanceof l.FormData,!(0<=Array.prototype.indexOf.call(s$,j,void 0))||D||q||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,se]of I)this.g.setRequestHeader(X,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wS(this),this.u=!0,this.g.send(h),this.u=!1}catch(X){vS(this,X)}};function vS(h,j){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=j,h.m=5,xS(h),eh(h)}function xS(h){h.A||(h.A=!0,Ge(h,"complete"),Ge(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ge(this,"complete"),Ge(this,"abort"),eh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),eh(this,!0)),At.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?bS(this):this.bb())},t.bb=function(){bS(this)};function bS(h){if(h.h&&typeof a<"u"&&(!h.v[1]||$i(h)!=4||h.Z()!=2)){if(h.u&&$i(h)==4)qe(h.Ea,0,h);else if(Ge(h,"readystatechange"),$i(h)==4){h.h=!1;try{const se=h.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var I;if(!(I=j)){var D;if(D=se===0){var q=String(h.D).match(uS)[1]||null;!q&&l.self&&l.self.location&&(q=l.self.location.protocol.slice(0,-1)),D=!i$.test(q?q.toLowerCase():"")}I=D}if(I)Ge(h,"complete"),Ge(h,"success");else{h.m=6;try{var X=2<$i(h)?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.Z()+"]",xS(h)}}finally{eh(h)}}}}function eh(h,j){if(h.g){wS(h);const I=h.g,D=h.v[0]?()=>{}:null;h.g=null,h.v=null,j||Ge(h,"ready");try{I.onreadystatechange=D}catch{}}}function wS(h){h.I&&(l.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function $i(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<$i(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var j=this.g.responseText;return h&&j.indexOf(h)==0&&(j=j.substring(h.length)),Hf(j)}};function _S(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function a$(h){const j={};h=(h.g&&2<=$i(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<h.length;D++){if(w(h[D]))continue;var I=P(h[D]);const q=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const X=j[q]||[];j[q]=X,X.push(I)}_(j,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function eu(h,j,I){return I&&I.internalChannelParams&&I.internalChannelParams[h]||j}function jS(h){this.Aa=0,this.i=[],this.j=new Ts,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=eu("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=eu("baseRetryDelayMs",5e3,h),this.cb=eu("retryDelaySeedMs",1e4,h),this.Wa=eu("forwardChannelMaxRetries",2,h),this.wa=eu("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new iS(h&&h.concurrentRequestLimit),this.Da=new n$,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=jS.prototype,t.la=8,t.G=1,t.connect=function(h,j,I,D){en(0),this.W=h,this.H=j||{},I&&D!==void 0&&(this.H.OSID=I,this.H.OAID=D),this.F=this.X,this.I=CS(this,null,this.W),nh(this)};function ty(h){if(SS(h),h.G==3){var j=h.U++,I=Mi(h.I);if(ut(I,"SID",h.K),ut(I,"RID",j),ut(I,"TYPE","terminate"),tu(h,I),j=new As(h,h.j,j),j.L=2,j.v=Qf(Mi(I)),I=!1,l.navigator&&l.navigator.sendBeacon)try{I=l.navigator.sendBeacon(j.v.toString(),"")}catch{}!I&&l.Image&&(new Image().src=j.v,I=!0),I||(j.g=OS(j.j,null),j.g.ea(j.v)),j.F=Date.now(),Gf(j)}IS(h)}function th(h){h.g&&(ry(h),h.g.cancel(),h.g=null)}function SS(h){th(h),h.u&&(l.clearTimeout(h.u),h.u=null),rh(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&l.clearTimeout(h.s),h.s=null)}function nh(h){if(!sS(h.h)&&!h.s){h.s=!0;var j=h.Ga;M||W(),L||(M(),L=!0),F.add(j,h),h.B=0}}function o$(h,j){return aS(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=j.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ns(p(h.Ga,h,j),PS(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const q=new As(this,this.j,h);let X=this.o;if(this.S&&(X?(X=S(X),O(X,this.S)):X=this.S),this.m!==null||this.O||(q.H=X,X=null),this.P)e:{for(var j=0,I=0;I<this.i.length;I++){t:{var D=this.i[I];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(j+=D,4096<j){j=I;break e}if(j===4096||I===this.i.length-1){j=I+1;break e}}j=1e3}else j=1e3;j=NS(this,q,j),I=Mi(this.I),ut(I,"RID",h),ut(I,"CVER",22),this.D&&ut(I,"X-HTTP-Session-Id",this.D),tu(this,I),X&&(this.O?j="headers="+encodeURIComponent(String(yS(X)))+"&"+j:this.m&&ey(I,this.m,X)),Z0(this.h,q),this.Ua&&ut(I,"TYPE","init"),this.P?(ut(I,"$req",j),ut(I,"SID","null"),q.T=!0,X0(q,I,null)):X0(q,I,j),this.G=2}}else this.G==3&&(h?ES(this,h):this.i.length==0||sS(this.h)||ES(this))};function ES(h,j){var I;j?I=j.l:I=h.U++;const D=Mi(h.I);ut(D,"SID",h.K),ut(D,"RID",I),ut(D,"AID",h.T),tu(h,D),h.m&&h.o&&ey(D,h.m,h.o),I=new As(h,h.j,I,h.B+1),h.m===null&&(I.H=h.o),j&&(h.i=j.D.concat(h.i)),j=NS(h,I,1e3),I.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Z0(h.h,I),X0(I,D,j)}function tu(h,j){h.H&&A(h.H,function(I,D){ut(j,D,I)}),h.l&&cS({},function(I,D){ut(j,D,I)})}function NS(h,j,I){I=Math.min(h.i.length,I);var D=h.l?p(h.l.Na,h.l,h):null;e:{var q=h.i;let X=-1;for(;;){const se=["count="+I];X==-1?0<I?(X=q[0].g,se.push("ofs="+X)):X=0:se.push("ofs="+X);let rt=!0;for(let cn=0;cn<I;cn++){let We=q[cn].g;const wn=q[cn].map;if(We-=X,0>We)X=Math.max(0,q[cn].g-100),rt=!1;else try{r$(wn,se,"req"+We+"_")}catch{D&&D(wn)}}if(rt){D=se.join("&");break e}}}return h=h.i.splice(0,I),j.D=h,D}function TS(h){if(!h.g&&!h.u){h.Y=1;var j=h.Fa;M||W(),L||(M(),L=!0),F.add(j,h),h.v=0}}function ny(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ns(p(h.Fa,h),PS(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,AS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ns(p(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,en(10),th(this),AS(this))};function ry(h){h.A!=null&&(l.clearTimeout(h.A),h.A=null)}function AS(h){h.g=new As(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var j=Mi(h.qa);ut(j,"RID","rpc"),ut(j,"SID",h.K),ut(j,"AID",h.T),ut(j,"CI",h.F?"0":"1"),!h.F&&h.ja&&ut(j,"TO",h.ja),ut(j,"TYPE","xmlhttp"),tu(h,j),h.m&&h.o&&ey(j,h.m,h.o),h.L&&(h.g.I=h.L);var I=h.g;h=h.ia,I.L=1,I.v=Qf(Mi(j)),I.m=null,I.P=!0,tS(I,h)}t.Za=function(){this.C!=null&&(this.C=null,th(this),ny(this),en(19))};function rh(h){h.C!=null&&(l.clearTimeout(h.C),h.C=null)}function kS(h,j){var I=null;if(h.g==j){rh(h),ry(h),h.g=null;var D=2}else if(J0(h.h,j))I=j.D,oS(h.h,j),D=1;else return;if(h.G!=0){if(j.o)if(D==1){I=j.m?j.m.length:0,j=Date.now()-j.F;var q=h.B;D=Ta(),Ge(D,new Kc(D,I)),nh(h)}else TS(h);else if(q=j.s,q==3||q==0&&0<j.X||!(D==1&&o$(h,j)||D==2&&ny(h)))switch(I&&0<I.length&&(j=h.h,j.i=j.i.concat(I)),q){case 1:Ia(h,5);break;case 4:Ia(h,10);break;case 3:Ia(h,6);break;default:Ia(h,2)}}}function PS(h,j){let I=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(I*=2),I*j}function Ia(h,j){if(h.j.info("Error code "+j),j==2){var I=p(h.fb,h),D=h.Xa;const q=!D;D=new Pa(D||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Xf(D,"https"),Qf(D),q?e$(D.toString(),I):t$(D.toString(),I)}else en(2);h.G=0,h.l&&h.l.sa(j),IS(h),SS(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),en(2)):(this.j.info("Failed to ping google.com"),en(1))};function IS(h){if(h.G=0,h.ka=[],h.l){const j=lS(h.h);(j.length!=0||h.i.length!=0)&&(m(h.ka,j),m(h.ka,h.i),h.h.i.length=0,y(h.i),h.i.length=0),h.l.ra()}}function CS(h,j,I){var D=I instanceof Pa?Mi(I):new Pa(I);if(D.g!="")j&&(D.g=j+"."+D.g),Yf(D,D.s);else{var q=l.location;D=q.protocol,j=j?j+"."+q.hostname:q.hostname,q=+q.port;var X=new Pa(null);D&&Xf(X,D),j&&(X.g=j),q&&Yf(X,q),I&&(X.l=I),D=X}return I=h.D,j=h.ya,I&&j&&ut(D,I,j),ut(D,"VER",h.la),tu(h,D),D}function OS(h,j,I){if(j&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return j=h.Ca&&!h.pa?new At(new Jf({eb:I})):new At(h.pa),j.Ha(h.J),j}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function RS(){}t=RS.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ih(){}ih.prototype.g=function(h,j){return new ir(h,j)};function ir(h,j){le.call(this),this.g=new jS(j),this.l=h,this.h=j&&j.messageUrlParams||null,h=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(h?h["X-WebChannel-Content-Type"]=j.messageContentType:h={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.va&&(h?h["X-WebChannel-Client-Profile"]=j.va:h={"X-WebChannel-Client-Profile":j.va}),this.g.S=h,(h=j&&j.Sb)&&!w(h)&&(this.g.m=h),this.v=j&&j.supportsCrossDomainXhr||!1,this.u=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!w(j)&&(this.g.D=j,h=this.h,h!==null&&j in h&&(h=this.h,j in h&&delete h[j])),this.j=new Vo(this)}g(ir,le),ir.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ir.prototype.close=function(){ty(this.g)},ir.prototype.o=function(h){var j=this.g;if(typeof h=="string"){var I={};I.__data__=h,h=I}else this.u&&(I={},I.__data__=Mo(h),h=I);j.i.push(new qM(j.Ya++,h)),j.G==3&&nh(j)},ir.prototype.N=function(){this.g.l=null,delete this.j,ty(this.g),delete this.g,ir.aa.N.call(this)};function DS(h){Fo.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var j=h.__sm__;if(j){e:{for(const I in j){h=I;break e}h=void 0}(this.i=h)&&(h=this.i,j=j!==null&&h in j?j[h]:void 0),this.data=j}else this.data=h}g(DS,Fo);function LS(){Uo.call(this),this.status=1}g(LS,Uo);function Vo(h){this.g=h}g(Vo,RS),Vo.prototype.ua=function(){Ge(this.g,"a")},Vo.prototype.ta=function(h){Ge(this.g,new DS(h))},Vo.prototype.sa=function(h){Ge(this.g,new LS)},Vo.prototype.ra=function(){Ge(this.g,"b")},ih.prototype.createWebChannel=ih.prototype.g,ir.prototype.send=ir.prototype.o,ir.prototype.open=ir.prototype.m,ir.prototype.close=ir.prototype.close,qO=function(){return new ih},zO=function(){return Ta()},VO=hi,Rx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},he.NO_ERROR=0,he.TIMEOUT=8,he.HTTP_ERROR=6,up=he,be.COMPLETE="complete",BO=be,zc.EventType=Ss,Ss.OPEN="a",Ss.CLOSE="b",Ss.ERROR="c",Ss.MESSAGE="d",le.prototype.listen=le.prototype.K,ku=zc,At.prototype.listenOnce=At.prototype.L,At.prototype.getLastError=At.prototype.Ka,At.prototype.getLastErrorCode=At.prototype.Ba,At.prototype.getStatus=At.prototype.Z,At.prototype.getResponseJson=At.prototype.Oa,At.prototype.getResponseText=At.prototype.oa,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Ha,UO=At}).apply(typeof Eh<"u"?Eh:typeof self<"u"?self:typeof window<"u"?window:{});const FN="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=new Ag("@firebase/firestore");function uu(){return po.logLevel}function fe(t,...e){if(po.logLevel<=Le.DEBUG){const n=e.map(H1);po.debug(`Firestore (${jc}): ${t}`,...n)}}function us(t,...e){if(po.logLevel<=Le.ERROR){const n=e.map(H1);po.error(`Firestore (${jc}): ${t}`,...n)}}function Ul(t,...e){if(po.logLevel<=Le.WARN){const n=e.map(H1);po.warn(`Firestore (${jc}): ${t}`,...n)}}function H1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t="Unexpected state"){const e=`FIRESTORE (${jc}) INTERNAL ASSERTION FAILED: `+t;throw us(e),new Error(e)}function Je(t,e){t||Se()}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tn.UNAUTHENTICATED))}shutdown(){}}class F7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class U7{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new ia;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ia,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ia)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string"),new WO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string"),new Tn(e)}}class B7{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class V7{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new B7(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class z7{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q7{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Je(this.o===void 0);const r=s=>{s.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,fe("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Je(typeof n.token=="string"),this.R=n.token,new z7(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=W7(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function He(t,e){return t<e?-1:t>e?1:0}function Bl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new pe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Yt.fromMillis(Date.now())}static fromDate(e){return Yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Yt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new Yt(0,0))}static max(){return new Ee(new Yt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(),r===void 0?r=e.length-n:r>e.length-n&&Se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return jd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof jd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class vt extends jd{construct(e,n,r){return new vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new vt(n)}static emptyPath(){return new vt([])}}const H7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends jd{construct(e,n,r){return new hn(e,n,r)}static isValidIdentifier(e){return H7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new hn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new pe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new pe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new pe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(s(),i++)}if(s(),a)throw new pe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(n)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(vt.fromString(e))}static fromName(e){return new xe(vt.fromString(e).popFirst(5))}static empty(){return new xe(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new vt(e.slice()))}}function K7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ee.fromTimestamp(r===1e9?new Yt(n+1,0):new Yt(n,r));return new fa(i,xe.empty(),e)}function G7(t){return new fa(t.readTime,t.key,-1)}class fa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fa(Ee.min(),xe.empty(),-1)}static max(){return new fa(Ee.max(),xe.empty(),-1)}}function X7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Q7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jf(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==Y7)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,r)=>{n(e)})}static reject(e){return new te((n,r)=>{r(e)})}static waitFor(e){return new te((n,r)=>{let i=0,s=0,a=!1;e.forEach(l=>{++i,l.next(()=>{++s,a&&s===i&&n()},c=>r(c))}),a=!0,s===i&&n()})}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next(i=>i?te.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new te((r,i)=>{const s=e.length,a=new Array(s);let l=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(d=>{a[u]=d,++l,l===s&&r(a)},d=>i(d))}})}static doWhile(e,n){return new te((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function J7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Sf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}K1.oe=-1;function Mg(t){return t==null}function em(t){return t===0&&1/t==-1/0}function Z7(t){return typeof t=="number"&&Number.isInteger(t)&&!em(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Io(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function KO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){this.comparator=e,this.root=n||fn.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nh(this.root,e,this.comparator,!0)}}class Nh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??fn.RED,this.left=i??fn.EMPTY,this.right=s??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new fn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return fn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,n,r,i,s){return this}insert(e,n,r){return new fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new BN(this.data.getIterator())}getIteratorFrom(e){return new BN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof yn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new yn(this.comparator);return n.data=e,n}}class BN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new dr([])}unionWith(e){let n=new yn(hn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new dr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new GO("Invalid base64 string: "+s):s}}(e);return new xn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new xn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const ez=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ha(t){if(Je(!!t),typeof t=="string"){let e=0;const n=ez.exec(t);if(Je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ot(t.seconds),nanos:Ot(t.nanos)}}function Ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function mo(t){return typeof t=="string"?xn.fromBase64String(t):xn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function X1(t){const e=t.mapValue.fields.__previous_value__;return G1(e)?X1(e):e}function Sd(t){const e=ha(t.mapValue.fields.__local_write_time__.timestampValue);return new Yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e,n,r,i,s,a,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}class Ed{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ed("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ed&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th={mapValue:{}};function go(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?G1(t)?4:rz(t)?9007199254740991:nz(t)?10:11:Se()}function Ci(t,e){if(t===e)return!0;const n=go(t);if(n!==go(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sd(t).isEqual(Sd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=ha(i.timestampValue),l=ha(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return mo(i.bytesValue).isEqual(mo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ot(i.geoPointValue.latitude)===Ot(s.geoPointValue.latitude)&&Ot(i.geoPointValue.longitude)===Ot(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ot(i.integerValue)===Ot(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Ot(i.doubleValue),l=Ot(s.doubleValue);return a===l?em(a)===em(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Bl(t.arrayValue.values||[],e.arrayValue.values||[],Ci);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},l=s.mapValue.fields||{};if(UN(a)!==UN(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Ci(a[c],l[c])))return!1;return!0}(t,e);default:return Se()}}function Nd(t,e){return(t.values||[]).find(n=>Ci(n,e))!==void 0}function Vl(t,e){if(t===e)return 0;const n=go(t),r=go(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return function(s,a){const l=Ot(s.integerValue||s.doubleValue),c=Ot(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return VN(t.timestampValue,e.timestampValue);case 4:return VN(Sd(t),Sd(e));case 5:return He(t.stringValue,e.stringValue);case 6:return function(s,a){const l=mo(s),c=mo(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),c=a.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=He(l[u],c[u]);if(d!==0)return d}return He(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const l=He(Ot(s.latitude),Ot(a.latitude));return l!==0?l:He(Ot(s.longitude),Ot(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return zN(t.arrayValue,e.arrayValue);case 10:return function(s,a){var l,c,u,d;const f=s.fields||{},p=a.fields||{},v=(l=f.value)===null||l===void 0?void 0:l.arrayValue,g=(c=p.value)===null||c===void 0?void 0:c.arrayValue,y=He(((u=v==null?void 0:v.values)===null||u===void 0?void 0:u.length)||0,((d=g==null?void 0:g.values)===null||d===void 0?void 0:d.length)||0);return y!==0?y:zN(v,g)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Th.mapValue&&a===Th.mapValue)return 0;if(s===Th.mapValue)return 1;if(a===Th.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),u=a.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const p=He(c[f],d[f]);if(p!==0)return p;const v=Vl(l[c[f]],u[d[f]]);if(v!==0)return v}return He(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Se()}}function VN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=ha(t),r=ha(e),i=He(n.seconds,r.seconds);return i!==0?i:He(n.nanos,r.nanos)}function zN(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Vl(n[i],r[i]);if(s)return s}return He(n.length,r.length)}function zl(t){return Dx(t)}function Dx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ha(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return mo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return xe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Dx(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${Dx(n.fields[a])}`;return i+"}"}(t.mapValue):Se()}function Lx(t){return!!t&&"integerValue"in t}function Y1(t){return!!t&&"arrayValue"in t}function qN(t){return!!t&&"nullValue"in t}function WN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dp(t){return!!t&&"mapValue"in t}function nz(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Wu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Io(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Wu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function rz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.value=e}static empty(){return new Kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!dp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wu(n)}setAll(e){let n=hn.emptyPath(),r={},i=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=Wu(a):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());dp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ci(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];dp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Io(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Kn(Wu(this.value))}}function XO(t){const e=[];return Io(t.fields,(n,r)=>{const i=new hn([n]);if(dp(r)){const s=XO(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new dr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e,n,r,i,s,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new kn(e,0,Ee.min(),Ee.min(),Ee.min(),Kn.empty(),0)}static newFoundDocument(e,n,r,i){return new kn(e,1,n,Ee.min(),r,i,0)}static newNoDocument(e,n){return new kn(e,2,n,Ee.min(),Ee.min(),Kn.empty(),0)}static newUnknownDocument(e,n){return new kn(e,3,n,Ee.min(),Ee.min(),Kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n){this.position=e,this.inclusive=n}}function HN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=xe.comparator(xe.fromName(a.referenceValue),n.key):r=Vl(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function KN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ci(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n="asc"){this.field=e,this.dir=n}}function iz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{}class Kt extends YO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new az(e,n,r):n==="array-contains"?new cz(e,r):n==="in"?new uz(e,r):n==="not-in"?new dz(e,r):n==="array-contains-any"?new fz(e,r):new Kt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new oz(e,r):new lz(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Vl(n,this.value)):n!==null&&go(this.value)===go(n)&&this.matchesComparison(Vl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oi extends YO{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Oi(e,n)}matches(e){return QO(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function QO(t){return t.op==="and"}function JO(t){return sz(t)&&QO(t)}function sz(t){for(const e of t.filters)if(e instanceof Oi)return!1;return!0}function Mx(t){if(t instanceof Kt)return t.field.canonicalString()+t.op.toString()+zl(t.value);if(JO(t))return t.filters.map(e=>Mx(e)).join(",");{const e=t.filters.map(n=>Mx(n)).join(",");return`${t.op}(${e})`}}function ZO(t,e){return t instanceof Kt?function(r,i){return i instanceof Kt&&r.op===i.op&&r.field.isEqual(i.field)&&Ci(r.value,i.value)}(t,e):t instanceof Oi?function(r,i){return i instanceof Oi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,l)=>s&&ZO(a,i.filters[l]),!0):!1}(t,e):void Se()}function eR(t){return t instanceof Kt?function(n){return`${n.field.canonicalString()} ${n.op} ${zl(n.value)}`}(t):t instanceof Oi?function(n){return n.op.toString()+" {"+n.getFilters().map(eR).join(" ,")+"}"}(t):"Filter"}class az extends Kt{constructor(e,n,r){super(e,n,r),this.key=xe.fromName(r.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class oz extends Kt{constructor(e,n){super(e,"in",n),this.keys=tR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class lz extends Kt{constructor(e,n){super(e,"not-in",n),this.keys=tR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>xe.fromName(r.referenceValue))}class cz extends Kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Y1(n)&&Nd(n.arrayValue,this.value)}}class uz extends Kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nd(this.value.arrayValue,n)}}class dz extends Kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Nd(this.value.arrayValue,n)}}class fz extends Kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Y1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Nd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e,n=null,r=[],i=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.ue=null}}function GN(t,e=null,n=[],r=[],i=null,s=null,a=null){return new hz(t,e,n,r,i,s,a)}function Q1(t){const e=Ne(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Mx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Mg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>zl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>zl(r)).join(",")),e.ue=n}return e.ue}function J1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!iz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!KN(t.startAt,e.startAt)&&KN(t.endAt,e.endAt)}function $x(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n=null,r=[],i=[],s=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function pz(t,e,n,r,i,s,a,l){return new $g(t,e,n,r,i,s,a,l)}function Fg(t){return new $g(t)}function XN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mz(t){return t.collectionGroup!==null}function Hu(t){const e=Ne(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new yn(hn.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new nm(s,r))}),n.has(hn.keyField().canonicalString())||e.ce.push(new nm(hn.keyField(),r))}return e.ce}function Ni(t){const e=Ne(t);return e.le||(e.le=gz(e,Hu(t))),e.le}function gz(t,e){if(t.limitType==="F")return GN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new nm(i.field,s)});const n=t.endAt?new tm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new tm(t.startAt.position,t.startAt.inclusive):null;return GN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Fx(t,e,n){return new $g(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ug(t,e){return J1(Ni(t),Ni(e))&&t.limitType===e.limitType}function nR(t){return`${Q1(Ni(t))}|lt:${t.limitType}`}function Xo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>eR(i)).join(", ")}]`),Mg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>zl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>zl(i)).join(",")),`Target(${r})`}(Ni(t))}; limitType=${t.limitType})`}function Bg(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):xe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Hu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,l,c){const u=HN(a,l,c);return a.inclusive?u<=0:u<0}(r.startAt,Hu(r),i)||r.endAt&&!function(a,l,c){const u=HN(a,l,c);return a.inclusive?u>=0:u>0}(r.endAt,Hu(r),i))}(t,e)}function yz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function rR(t){return(e,n)=>{let r=!1;for(const i of Hu(t)){const s=vz(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function vz(t,e,n){const r=t.field.isKeyField()?xe.comparator(e.key,n.key):function(s,a,l){const c=a.data.field(s),u=l.data.field(s);return c!==null&&u!==null?Vl(c,u):Se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Io(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return KO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz=new St(xe.comparator);function ds(){return xz}const iR=new St(xe.comparator);function Pu(...t){let e=iR;for(const n of t)e=e.insert(n.key,n);return e}function sR(t){let e=iR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wa(){return Ku()}function aR(){return Ku()}function Ku(){return new Sc(t=>t.toString(),(t,e)=>t.isEqual(e))}const bz=new St(xe.comparator),wz=new yn(xe.comparator);function Re(...t){let e=wz;for(const n of t)e=e.add(n);return e}const _z=new yn(He);function jz(){return _z}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:em(e)?"-0":e}}function oR(t){return{integerValue:""+t}}function Sz(t,e){return Z7(e)?oR(e):Z1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(){this._=void 0}}function Ez(t,e,n){return t instanceof rm?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&G1(s)&&(s=X1(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof Td?cR(t,e):t instanceof Ad?uR(t,e):function(i,s){const a=lR(i,s),l=YN(a)+YN(i.Pe);return Lx(a)&&Lx(i.Pe)?oR(l):Z1(i.serializer,l)}(t,e)}function Nz(t,e,n){return t instanceof Td?cR(t,e):t instanceof Ad?uR(t,e):n}function lR(t,e){return t instanceof im?function(r){return Lx(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class rm extends Vg{}class Td extends Vg{constructor(e){super(),this.elements=e}}function cR(t,e){const n=dR(e);for(const r of t.elements)n.some(i=>Ci(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ad extends Vg{constructor(e){super(),this.elements=e}}function uR(t,e){let n=dR(e);for(const r of t.elements)n=n.filter(i=>!Ci(i,r));return{arrayValue:{values:n}}}class im extends Vg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function YN(t){return Ot(t.integerValue||t.doubleValue)}function dR(t){return Y1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Tz(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Td&&i instanceof Td||r instanceof Ad&&i instanceof Ad?Bl(r.elements,i.elements,Ci):r instanceof im&&i instanceof im?Ci(r.Pe,i.Pe):r instanceof rm&&i instanceof rm}(t.transform,e.transform)}class Az{constructor(e,n){this.version=e,this.transformResults=n}}class Ti{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ti}static exists(e){return new Ti(void 0,e)}static updateTime(e){return new Ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zg{}function fR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new pR(t.key,Ti.none()):new Ef(t.key,t.data,Ti.none());{const n=t.data,r=Kn.empty();let i=new yn(hn.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new wa(t.key,r,new dr(i.toArray()),Ti.none())}}function kz(t,e,n){t instanceof Ef?function(i,s,a){const l=i.value.clone(),c=JN(i.fieldTransforms,s,a.transformResults);l.setAll(c),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof wa?function(i,s,a){if(!fp(i.precondition,s))return void s.convertToUnknownDocument(a.version);const l=JN(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(hR(i)),c.setAll(l),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Gu(t,e,n,r){return t instanceof Ef?function(s,a,l,c){if(!fp(s.precondition,a))return l;const u=s.value.clone(),d=ZN(s.fieldTransforms,c,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof wa?function(s,a,l,c){if(!fp(s.precondition,a))return l;const u=ZN(s.fieldTransforms,c,a),d=a.data;return d.setAll(hR(s)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,a,l){return fp(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function Pz(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=lR(r.transform,i||null);s!=null&&(n===null&&(n=Kn.empty()),n.set(r.field,s))}return n||null}function QN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Bl(r,i,(s,a)=>Tz(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ef extends zg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wa extends zg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function hR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function JN(t,e,n){const r=new Map;Je(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,l=e.data.field(s.field);r.set(s.field,Nz(a,l,n[i]))}return r}function ZN(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,Ez(s,a,e))}return r}class pR extends zg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Iz extends zg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&kz(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Gu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=aR();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(i.key)?null:l;const c=fR(a,l);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(Ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&Bl(this.mutations,e.mutations,(n,r)=>QN(n,r))&&Bl(this.baseMutations,e.baseMutations,(n,r)=>QN(n,r))}}class e_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Je(e.mutations.length===r.length);let i=function(){return bz}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new e_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,Fe;function Dz(t){switch(t){default:return Se();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function mR(t){if(t===void 0)return us("GRPC error has no .code"),ee.UNKNOWN;switch(t){case Ut.OK:return ee.OK;case Ut.CANCELLED:return ee.CANCELLED;case Ut.UNKNOWN:return ee.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return ee.INTERNAL;case Ut.UNAVAILABLE:return ee.UNAVAILABLE;case Ut.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Ut.NOT_FOUND:return ee.NOT_FOUND;case Ut.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Ut.ABORTED:return ee.ABORTED;case Ut.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Ut.DATA_LOSS:return ee.DATA_LOSS;default:return Se()}}(Fe=Ut||(Ut={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz=new Za([4294967295,4294967295],0);function e2(t){const e=Lz().encode(t),n=new FO;return n.update(e),new Uint8Array(n.digest())}function t2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Za([n,r],0),new Za([i,s],0)]}class t_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Iu(`Invalid padding: ${n}`);if(r<0)throw new Iu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Iu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Iu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Za.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Za.fromNumber(r)));return i.compare(Mz)===1&&(i=new Za([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=e2(e),[r,i]=t2(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new t_(s,i,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.Ie===0)return;const n=e2(e),[r,i]=t2(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Nf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new qg(Ee.min(),i,new St(He),ds(),Re())}}class Nf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Nf(r,n,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class gR{constructor(e,n){this.targetId=e,this.me=n}}class yR{constructor(e,n,r=xn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class n2{constructor(){this.fe=0,this.ge=i2(),this.pe=xn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Re(),n=Re(),r=Re();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Se()}}),new Nf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=i2()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class $z{constructor(e){this.Le=e,this.Be=new Map,this.ke=ds(),this.qe=r2(),this.Qe=new St(He)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if($x(s))if(r===0){const a=new xe(s.path);this.Ue(n,a,kn.newNoDocument(a,Ee.min()))}else Je(r===1);else{const a=this.Ye(n);if(a!==r){const l=this.Ze(e),c=l?this.Xe(l,e,a):1;if(c!==0){this.je(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,l;try{a=mo(r).toUint8Array()}catch(c){if(c instanceof GO)return Ul("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new t_(a,i,s)}catch(c){return Ul(c instanceof Iu?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Le.tt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,a)=>{const l=this.Je(a);if(l){if(s.current&&$x(l.target)){const c=new xe(l.target.path);this.ke.get(c)!==null||this.it(a,c)||this.Ue(a,c,kn.newNoDocument(c,e))}s.be&&(n.set(a,s.ve()),s.Ce())}});let r=Re();this.qe.forEach((s,a)=>{let l=!0;a.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new qg(e,n,this.Qe,this.ke,r);return this.ke=ds(),this.qe=r2(),this.Qe=new St(He),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new n2,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new yn(He),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new n2),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function r2(){return new St(xe.comparator)}function i2(){return new St(xe.comparator)}const Fz={asc:"ASCENDING",desc:"DESCENDING"},Uz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bz={and:"AND",or:"OR"};class Vz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ux(t,e){return t.useProto3Json||Mg(e)?e:{value:e}}function sm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zz(t,e){return sm(t,e.toTimestamp())}function Ai(t){return Je(!!t),Ee.fromTimestamp(function(n){const r=ha(n);return new Yt(r.seconds,r.nanos)}(t))}function n_(t,e){return Bx(t,e).canonicalString()}function Bx(t,e){const n=function(i){return new vt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function xR(t){const e=vt.fromString(t);return Je(SR(e)),e}function Vx(t,e){return n_(t.databaseId,e.path)}function Vy(t,e){const n=xR(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(wR(n))}function bR(t,e){return n_(t.databaseId,e)}function qz(t){const e=xR(t);return e.length===4?vt.emptyPath():wR(e)}function zx(t){return new vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wR(t){return Je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function s2(t,e,n){return{name:Vx(t,e),fields:n.value.mapValue.fields}}function Wz(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Je(d===void 0||typeof d=="string"),xn.fromBase64String(d||"")):(Je(d===void 0||d instanceof Buffer||d instanceof Uint8Array),xn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(u){const d=u.code===void 0?ee.UNKNOWN:mR(u.code);return new pe(d,u.message||"")}(a);n=new yR(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Vy(t,r.document.name),s=Ai(r.document.updateTime),a=r.document.createTime?Ai(r.document.createTime):Ee.min(),l=new Kn({mapValue:{fields:r.document.fields}}),c=kn.newFoundDocument(i,s,a,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new hp(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Vy(t,r.document),s=r.readTime?Ai(r.readTime):Ee.min(),a=kn.newNoDocument(i,s),l=r.removedTargetIds||[];n=new hp([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Vy(t,r.document),s=r.removedTargetIds||[];n=new hp([],s,i,null)}else{if(!("filter"in e))return Se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new Rz(i,s),l=r.targetId;n=new gR(l,a)}}return n}function Hz(t,e){let n;if(e instanceof Ef)n={update:s2(t,e.key,e.value)};else if(e instanceof pR)n={delete:Vx(t,e.key)};else if(e instanceof wa)n={update:s2(t,e.key,e.data),updateMask:tq(e.fieldMask)};else{if(!(e instanceof Iz))return Se();n={verify:Vx(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const l=a.transform;if(l instanceof rm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Td)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ad)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof im)return{fieldPath:a.field.canonicalString(),increment:l.Pe};throw Se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:zz(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Se()}(t,e.precondition)),n}function Kz(t,e){return t&&t.length>0?(Je(e!==void 0),t.map(n=>function(i,s){let a=i.updateTime?Ai(i.updateTime):Ai(s);return a.isEqual(Ee.min())&&(a=Ai(s)),new Az(a,i.transformResults||[])}(n,e))):[]}function Gz(t,e){return{documents:[bR(t,e.path)]}}function Xz(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=bR(t,i);const s=function(u){if(u.length!==0)return jR(Oi.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:Yo(p.field),direction:Jz(p.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Ux(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function Yz(t){let e=qz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Je(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const p=_R(f);return p instanceof Oi&&JO(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(p=>function(g){return new nm(Qo(g.field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(f){let p;return p=typeof f=="object"?f.value:f,Mg(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,v=f.values||[];return new tm(v,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,v=f.values||[];return new tm(v,p)}(n.endAt)),pz(e,i,a,s,l,"F",c,u)}function Qz(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _R(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Qo(n.unaryFilter.field);return Kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Qo(n.unaryFilter.field);return Kt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Qo(n.unaryFilter.field);return Kt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Qo(n.unaryFilter.field);return Kt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(t):t.fieldFilter!==void 0?function(n){return Kt.create(Qo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Oi.create(n.compositeFilter.filters.map(r=>_R(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Se()}}(n.compositeFilter.op))}(t):Se()}function Jz(t){return Fz[t]}function Zz(t){return Uz[t]}function eq(t){return Bz[t]}function Yo(t){return{fieldPath:t.canonicalString()}}function Qo(t){return hn.fromServerFormat(t.fieldPath)}function jR(t){return t instanceof Kt?function(n){if(n.op==="=="){if(WN(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NAN"}};if(qN(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(WN(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NOT_NAN"}};if(qN(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yo(n.field),op:Zz(n.op),value:n.value}}}(t):t instanceof Oi?function(n){const r=n.getFilters().map(i=>jR(i));return r.length===1?r[0]:{compositeFilter:{op:eq(n.op),filters:r}}}(t):Se()}function tq(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function SR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n,r,i,s=Ee.min(),a=Ee.min(),l=xn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq{constructor(e){this.ct=e}}function rq(t){const e=Yz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iq{constructor(){this.un=new sq}addToCollectionParentIndex(e,n){return this.un.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(fa.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(fa.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class sq{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new yn(vt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yn(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ql(0)}static kn(){return new ql(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(){this.changes=new Sc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Gu(r.mutation,i,dr.empty(),Yt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Re()){const i=Wa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=Pu();return s.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Wa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Re()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,i){let s=ds();const a=Ku(),l=function(){return Ku()}();return n.forEach((c,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof wa)?s=s.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),Gu(d.mutation,u,d.mutation.getFieldMask(),Yt.now())):a.set(u.key,dr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>{var f;return l.set(u,new oq(d,(f=a.get(u))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Ku();let i=new St((a,l)=>a-l),s=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||dr.empty();d=l.applyToLocalView(u,d),r.set(c,d);const f=(i.get(l.batchId)||Re()).add(c);i=i.insert(l.batchId,f)})}).next(()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,f=aR();d.forEach(p=>{if(!s.has(p)){const v=fR(n.get(p),r.get(p));v!==null&&f.set(p,v),s=s.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return te.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return xe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mz(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):te.resolve(Wa());let l=-1,c=s;return a.next(u=>te.forEach(u,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),s.get(d)?te.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{c=c.insert(d,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Re())).next(d=>({batchId:l,changes:sR(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next(r=>{let i=Pu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=Pu();return this.indexManager.getCollectionParents(e,s).next(l=>te.forEach(l,c=>{const u=function(f,p){return new $g(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,p)=>{a=a.insert(f,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((c,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,kn.newInvalidDocument(d)))});let l=Pu();return a.forEach((c,u)=>{const d=s.get(c);d!==void 0&&Gu(d.mutation,u,dr.empty(),Yt.now()),Bg(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return te.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ai(i.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:rq(i.bundledQuery),readTime:Ai(i.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(){this.overlays=new St(xe.comparator),this.Ir=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wa();return te.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const i=Wa(),s=n.length+1,a=new xe(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new St((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Wa(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=Wa(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=i)););return te.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new Oz(n,r));let s=this.Ir.get(n);s===void 0&&(s=Re(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(){this.Tr=new yn(tn.Er),this.dr=new yn(tn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new tn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new tn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new xe(new vt([])),r=new tn(n,e),i=new tn(n,e+1),s=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new xe(new vt([])),r=new tn(n,e),i=new tn(n,e+1);let s=Re();return this.dr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new tn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class tn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return xe.comparator(e.key,n.key)||He(e.wr,n.wr)}static Ar(e,n){return He(e.wr,n.wr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new yn(tn.Er)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Cz(s,n,r,i);this.mutationQueue.push(a);for(const l of i)this.br=this.br.add(new tn(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return te.resolve(a)}lookupMutationBatch(e,n){return te.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return te.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new tn(n,0),i=new tn(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],a=>{const l=this.Dr(a.wr);s.push(l)}),te.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yn(He);return n.forEach(i=>{const s=new tn(i,0),a=new tn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],l=>{r=r.add(l.wr)})}),te.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;xe.isDocumentKey(s)||(s=s.child(""));const a=new tn(new xe(s),0);let l=new yn(He);return this.br.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.wr)),!0)},a),te.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Je(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return te.forEach(n.mutations,i=>{const s=new tn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new tn(n,0),i=this.br.firstAfterOrEqual(r);return te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(e){this.Mr=e,this.docs=function(){return new St(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():kn.newInvalidDocument(n))}getEntries(e,n){let r=ds();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():kn.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ds();const a=n.path,l=new xe(a.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||X7(G7(d),r)<=0||(i.has(d.key)||Bg(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return te.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Se()}Or(e,n){return te.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new pq(this)}getSize(e){return te.resolve(this.size)}}class pq extends aq{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),te.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{constructor(e){this.persistence=e,this.Nr=new Sc(n=>Q1(n),J1),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.Lr=0,this.Br=new r_,this.targetCount=0,this.kr=ql.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),te.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ql(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Kn(n),te.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),te.waitFor(s).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),te.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{constructor(e,n){this.qr={},this.overlays={},this.Qr=new K1(0),this.Kr=!1,this.Kr=!0,this.$r=new dq,this.referenceDelegate=e(this),this.Ur=new mq(this),this.indexManager=new iq,this.remoteDocumentCache=function(i){return new hq(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new nq(n),this.Gr=new cq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new fq(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const i=new yq(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return te.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class yq extends Q7{constructor(e){super(),this.currentSequenceNumber=e}}class i_{constructor(e){this.persistence=e,this.Jr=new r_,this.Yr=null}static Zr(e){return new i_(e)}get Xr(){if(this.Yr)return this.Yr;throw Se()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),te.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Xr,r=>{const i=xe.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Ee.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return te.or([()=>te.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Re(),i=Re();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new s_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return J9()?8:J7(Dn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new vq;return this.Xi(e,n,a).next(l=>{if(s.result=l,this.zi)return this.es(e,n,a,l.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(uu()<=Le.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Xo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),te.resolve()):(uu()<=Le.DEBUG&&fe("QueryEngine","Query:",Xo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(uu()<=Le.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Xo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ni(n))):te.resolve())}Yi(e,n){if(XN(n))return te.resolve(null);let r=Ni(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Fx(n,null,"F"),r=Ni(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=Re(...s);return this.Ji.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ts(n,l);return this.ns(n,u,a,c.readTime)?this.Yi(e,Fx(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,r,i){return XN(n)||i.isEqual(Ee.min())?te.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const a=this.ts(n,s);return this.ns(n,a,r,i)?te.resolve(null):(uu()<=Le.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xo(n)),this.rs(e,a,n,K7(i,-1)).next(l=>l))})}ts(e,n){let r=new yn(rR(e));return n.forEach((i,s)=>{Bg(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return uu()<=Le.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Xo(n)),this.Ji.getDocumentsMatchingQuery(e,n,fa.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new St(He),this._s=new Sc(s=>Q1(s),J1),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lq(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function wq(t,e,n,r){return new bq(t,e,n,r)}async function ER(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],l=[];let c=Re();for(const u of i){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of s){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:l}))})})}function _q(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const f=u.batch,p=f.keys();let v=te.resolve();return p.forEach(g=>{v=v.next(()=>d.getEntry(c,g)).next(y=>{const m=u.docVersions.get(g);Je(m!==null),y.version.compareTo(m)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),d.addEntry(y)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Re();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function NR(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function jq(t,e){const n=Ne(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((d,f)=>{const p=i.get(f);if(!p)return;l.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,f)));let v=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(xn.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),i=i.insert(f,v),function(y,m,x){return y.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,v,d)&&l.push(n.Ur.updateTargetData(s,v))});let c=ds(),u=Re();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(Sq(s,a,e.documentUpdates).next(d=>{c=d.Ps,u=d.Is})),!r.isEqual(Ee.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(f=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(d)}return te.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.os=i,s))}function Sq(t,e,n){let r=Re(),i=Re();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=ds();return n.forEach((l,c)=>{const u=s.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Ee.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):fe("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{Ps:a,Is:i}})}function Eq(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Nq(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,te.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new Ws(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function qx(t,e,n){const r=Ne(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Sf(a))throw a;fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function a2(t,e,n){const r=Ne(t);let i=Ee.min(),s=Re();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,d){const f=Ne(c),p=f._s.get(d);return p!==void 0?te.resolve(f.os.get(p)):f.Ur.getTargetData(u,d)}(r,a,Ni(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,l.targetId).next(c=>{s=c})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:Ee.min(),n?s:Re())).next(l=>(Tq(r,yz(e),l),{documents:l,Ts:s})))}function Tq(t,e,n){let r=t.us.get(e)||Ee.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class o2{constructor(){this.activeTargetIds=jz()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Aq{constructor(){this.so=new o2,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new o2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kq{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ah=null;function zy(){return Ah===null?Ah=function(){return 268435456+Math.round(2147483648*Math.random())}():Ah++,"0x"+Ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iq{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En="WebChannelConnection";class Cq extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,a){const l=zy(),c=this.xo(n,r.toUriEncodedString());fe("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,a),this.No(n,c,u,i).then(d=>(fe("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw Ul("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",c,"request:",i),d})}Lo(n,r,i,s,a,l){return this.Mo(n,r,i,s,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>n[a]=s),i&&i.headers.forEach((s,a)=>n[a]=s)}xo(n,r){const i=Pq[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=zy();return new Promise((a,l)=>{const c=new UO;c.setWithCredentials(!0),c.listenOnce(BO.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case up.NO_ERROR:const d=c.getResponseJson();fe(En,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),a(d);break;case up.TIMEOUT:fe(En,`RPC '${e}' ${s} timed out`),l(new pe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case up.HTTP_ERROR:const f=c.getStatus();if(fe(En,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const v=p==null?void 0:p.error;if(v&&v.status&&v.message){const g=function(m){const x=m.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(x)>=0?x:ee.UNKNOWN}(v.status);l(new pe(g,v.message))}else l(new pe(ee.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new pe(ee.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{fe(En,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);fe(En,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=zy(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=qO(),l=zO(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=s.join("");fe(En,`Creating RPC '${e}' stream ${i}: ${d}`,c);const f=a.createWebChannel(d,c);let p=!1,v=!1;const g=new Iq({Io:m=>{v?fe(En,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(p||(fe(En,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),fe(En,`RPC '${e}' stream ${i} sending:`,m),f.send(m))},To:()=>f.close()}),y=(m,x,w)=>{m.listen(x,b=>{try{w(b)}catch(T){setTimeout(()=>{throw T},0)}})};return y(f,ku.EventType.OPEN,()=>{v||(fe(En,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),y(f,ku.EventType.CLOSE,()=>{v||(v=!0,fe(En,`RPC '${e}' stream ${i} transport closed`),g.So())}),y(f,ku.EventType.ERROR,m=>{v||(v=!0,Ul(En,`RPC '${e}' stream ${i} transport errored:`,m),g.So(new pe(ee.UNAVAILABLE,"The operation could not be completed")))}),y(f,ku.EventType.MESSAGE,m=>{var x;if(!v){const w=m.data[0];Je(!!w);const b=w,T=b.error||((x=b[0])===null||x===void 0?void 0:x.error);if(T){fe(En,`RPC '${e}' stream ${i} received error:`,T);const N=T.status;let A=function(k){const O=Ut[k];if(O!==void 0)return mR(O)}(N),_=T.message;A===void 0&&(A=ee.INTERNAL,_="Unknown error status: "+N+" with message "+T.message),v=!0,g.So(new pe(A,_)),f.close()}else fe(En,`RPC '${e}' stream ${i} received:`,w),g.bo(w)}}),y(l,VO.STAT_EVENT,m=>{m.stat===Rx.PROXY?fe(En,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===Rx.NOPROXY&&fe(En,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function qy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(t){return new Vz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,n,r,i,s,a,l,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new TR(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(us(n.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new pe(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Oq extends AR{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Wz(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ee.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Ee.min():a.readTime?Ai(a.readTime):Ee.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=zx(this.serializer),n.addTarget=function(s,a){let l;const c=a.target;if(l=$x(c)?{documents:Gz(s,c)}:{query:Xz(s,c)._t},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=vR(s,a.resumeToken);const u=Ux(s,a.expectedCount);u!==null&&(l.expectedCount=u)}else if(a.snapshotVersion.compareTo(Ee.min())>0){l.readTime=sm(s,a.snapshotVersion.toTimestamp());const u=Ux(s,a.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=Qz(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=zx(this.serializer),n.removeTarget=e,this.a_(n)}}class Rq extends AR{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Je(!!e.streamToken),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Kz(e.writeResults,e.commitTime),r=Ai(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=zx(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Hz(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new pe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,Bx(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new pe(ee.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Lo(e,Bx(n,r),i,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(ee.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Lq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(us(n),this.D_=!1):fe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mq{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{r.enqueueAndForget(async()=>{Co(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=Ne(c);u.L_.add(4),await Tf(u),u.q_.set("Unknown"),u.L_.delete(4),await Hg(u)}(this))})}),this.q_=new Lq(r,i)}}async function Hg(t){if(Co(t))for(const e of t.B_)await e(!0)}async function Tf(t){for(const e of t.B_)await e(!1)}function kR(t,e){const n=Ne(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),c_(n)?l_(n):Ec(n).r_()&&o_(n,e))}function a_(t,e){const n=Ne(t),r=Ec(n);n.N_.delete(e),r.r_()&&PR(n,e),n.N_.size===0&&(r.r_()?r.o_():Co(n)&&n.q_.set("Unknown"))}function o_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ec(t).A_(e)}function PR(t,e){t.Q_.xe(e),Ec(t).R_(e)}function l_(t){t.Q_=new $z({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ec(t).start(),t.q_.v_()}function c_(t){return Co(t)&&!Ec(t).n_()&&t.N_.size>0}function Co(t){return Ne(t).L_.size===0}function IR(t){t.Q_=void 0}async function $q(t){t.q_.set("Online")}async function Fq(t){t.N_.forEach((e,n)=>{o_(t,e)})}async function Uq(t,e){IR(t),c_(t)?(t.q_.M_(e),l_(t)):t.q_.set("Unknown")}async function Bq(t,e,n){if(t.q_.set("Online"),e instanceof yR&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const l of s.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await am(t,r)}else if(e instanceof hp?t.Q_.Ke(e):e instanceof gR?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ee.min()))try{const r=await NR(t.localStore);n.compareTo(r)>=0&&await function(s,a){const l=s.Q_.rt(a);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,u)=>{const d=s.N_.get(c);if(!d)return;s.N_.set(c,d.withResumeToken(xn.EMPTY_BYTE_STRING,d.snapshotVersion)),PR(s,c);const f=new Ws(d.target,c,u,d.sequenceNumber);o_(s,f)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){fe("RemoteStore","Failed to raise snapshot:",r),await am(t,r)}}async function am(t,e,n){if(!Sf(e))throw e;t.L_.add(1),await Tf(t),t.q_.set("Offline"),n||(n=()=>NR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Hg(t)})}function CR(t,e){return e().catch(n=>am(t,n,e))}async function Kg(t){const e=Ne(t),n=pa(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Vq(e);)try{const i=await Eq(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,zq(e,i)}catch(i){await am(e,i)}OR(e)&&RR(e)}function Vq(t){return Co(t)&&t.O_.length<10}function zq(t,e){t.O_.push(e);const n=pa(t);n.r_()&&n.V_&&n.m_(e.mutations)}function OR(t){return Co(t)&&!pa(t).n_()&&t.O_.length>0}function RR(t){pa(t).start()}async function qq(t){pa(t).p_()}async function Wq(t){const e=pa(t);for(const n of t.O_)e.m_(n.mutations)}async function Hq(t,e,n){const r=t.O_.shift(),i=e_.from(r,e,n);await CR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Kg(t)}async function Kq(t,e){e&&pa(t).V_&&await async function(r,i){if(function(a){return Dz(a)&&a!==ee.ABORTED}(i.code)){const s=r.O_.shift();pa(r).s_(),await CR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Kg(r)}}(t,e),OR(t)&&RR(t)}async function c2(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const r=Co(n);n.L_.add(3),await Tf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Hg(n)}async function Gq(t,e){const n=Ne(t);e?(n.L_.delete(2),await Hg(n)):e||(n.L_.add(2),await Tf(n),n.q_.set("Unknown"))}function Ec(t){return t.K_||(t.K_=function(n,r,i){const s=Ne(n);return s.w_(),new Oq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:$q.bind(null,t),Ro:Fq.bind(null,t),mo:Uq.bind(null,t),d_:Bq.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),c_(t)?l_(t):t.q_.set("Unknown")):(await t.K_.stop(),IR(t))})),t.K_}function pa(t){return t.U_||(t.U_=function(n,r,i){const s=Ne(n);return s.w_(),new Rq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:qq.bind(null,t),mo:Kq.bind(null,t),f_:Wq.bind(null,t),g_:Hq.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Kg(t)):(await t.U_.stop(),t.O_.length>0&&(fe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,l=new u_(e,n,a,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function d_(t,e){if(us("AsyncQueue",`${e}: ${t}`),Sf(t))return new pe(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||xe.comparator(n.key,r.key):(n,r)=>xe.comparator(n.key,r.key),this.keyedMap=Pu(),this.sortedSet=new St(this.comparator)}static emptySet(e){return new jl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof jl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new jl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.W_=new St(xe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Se():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Wl{constructor(e,n,r,i,s,a,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Wl(e,n,jl.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ug(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Yq{constructor(){this.queries=d2(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ne(n),s=i.queries;i.queries=d2(),s.forEach((a,l)=>{for(const c of l.j_)c.onError(r)})})(this,new pe(ee.ABORTED,"Firestore shutting down"))}}function d2(){return new Sc(t=>nR(t),Ug)}async function DR(t,e){const n=Ne(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Xq,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=d_(a,`Initialization of query '${Xo(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&f_(n)}async function LR(t,e){const n=Ne(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Qq(t,e){const n=Ne(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const l of a.j_)l.X_(i)&&(r=!0);a.z_=i}}r&&f_(n)}function Jq(t,e,n){const r=Ne(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function f_(t){t.Y_.forEach(e=>{e.next()})}var Wx,f2;(f2=Wx||(Wx={})).ea="default",f2.Cache="cache";class MR{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Wl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Wl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Wx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.key=e}}class FR{constructor(e){this.key=e}}class Zq{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Re(),this.mutatedKeys=Re(),this.Aa=rR(e),this.Ra=new jl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new u2,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const p=i.get(d),v=Bg(this.query,f)?f:null,g=!!p&&this.mutatedKeys.has(p.key),y=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let m=!1;p&&v?p.data.isEqual(v.data)?g!==y&&(r.track({type:3,doc:v}),m=!0):this.ga(p,v)||(r.track({type:2,doc:v}),m=!0,(c&&this.Aa(v,c)>0||u&&this.Aa(v,u)<0)&&(l=!0)):!p&&v?(r.track({type:0,doc:v}),m=!0):p&&!v&&(r.track({type:1,doc:p}),m=!0,(c||u)&&(l=!0)),m&&(v?(a=a.add(v),s=y?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:a,fa:r,ns:l,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((d,f)=>function(v,g){const y=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return y(v)-y(g)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,a.length!==0||u?{snapshot:new Wl(this.query,e.Ra,s,a,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new u2,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Re(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new FR(r))}),this.da.forEach(r=>{e.has(r)||n.push(new $R(r))}),n}ba(e){this.Ta=e.Ts,this.da=Re();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Wl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class eW{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class tW{constructor(e){this.key=e,this.va=!1}}class nW{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Sc(l=>nR(l),Ug),this.Ma=new Map,this.xa=new Set,this.Oa=new St(xe.comparator),this.Na=new Map,this.La=new r_,this.Ba={},this.ka=new Map,this.qa=ql.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function rW(t,e,n=!0){const r=WR(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await UR(r,e,n,!0),i}async function iW(t,e){const n=WR(t);await UR(n,e,!0,!1)}async function UR(t,e,n,r){const i=await Nq(t.localStore,Ni(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await sW(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&kR(t.remoteStore,i),l}async function sW(t,e,n,r,i){t.Ka=(f,p,v)=>async function(y,m,x,w){let b=m.view.ma(x);b.ns&&(b=await a2(y.localStore,m.query,!1).then(({documents:_})=>m.view.ma(_,b)));const T=w&&w.targetChanges.get(m.targetId),N=w&&w.targetMismatches.get(m.targetId)!=null,A=m.view.applyChanges(b,y.isPrimaryClient,T,N);return p2(y,m.targetId,A.wa),A.snapshot}(t,f,p,v);const s=await a2(t.localStore,e,!0),a=new Zq(e,s.Ts),l=a.ma(s.documents),c=Nf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(l,t.isPrimaryClient,c);p2(t,n,u.wa);const d=new eW(e,n,a);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function aW(t,e,n){const r=Ne(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(a=>!Ug(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await qx(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&a_(r.remoteStore,i.targetId),Hx(r,i.targetId)}).catch(jf)):(Hx(r,i.targetId),await qx(r.localStore,i.targetId,!0))}async function oW(t,e){const n=Ne(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),a_(n.remoteStore,r.targetId))}async function lW(t,e,n){const r=mW(t);try{const i=await function(a,l){const c=Ne(a),u=Yt.now(),d=l.reduce((v,g)=>v.add(g.key),Re());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let g=ds(),y=Re();return c.cs.getEntries(v,d).next(m=>{g=m,g.forEach((x,w)=>{w.isValidDocument()||(y=y.add(x))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,g)).next(m=>{f=m;const x=[];for(const w of l){const b=Pz(w,f.get(w.key).overlayedDocument);b!=null&&x.push(new wa(w.key,b,XO(b.value.mapValue),Ti.exists(!0)))}return c.mutationQueue.addMutationBatch(v,u,x,l)}).next(m=>{p=m;const x=m.applyToLocalDocumentSet(f,y);return c.documentOverlayCache.saveOverlays(v,m.batchId,x)})}).then(()=>({batchId:p.batchId,changes:sR(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,c){let u=a.Ba[a.currentUser.toKey()];u||(u=new St(He)),u=u.insert(l,c),a.Ba[a.currentUser.toKey()]=u}(r,i.batchId,n),await Af(r,i.changes),await Kg(r.remoteStore)}catch(i){const s=d_(i,"Failed to persist write");n.reject(s)}}async function BR(t,e){const n=Ne(t);try{const r=await jq(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Na.get(s);a&&(Je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Je(a.va):i.removedDocuments.size>0&&(Je(a.va),a.va=!1))}),await Af(n,r,e)}catch(r){await jf(r)}}function h2(t,e,n){const r=Ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,a)=>{const l=a.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(a,l){const c=Ne(a);c.onlineState=l;let u=!1;c.queries.forEach((d,f)=>{for(const p of f.j_)p.Z_(l)&&(u=!0)}),u&&f_(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cW(t,e,n){const r=Ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let a=new St(xe.comparator);a=a.insert(s,kn.newNoDocument(s,Ee.min()));const l=Re().add(s),c=new qg(Ee.min(),new Map,new St(He),a,l);await BR(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(e),h_(r)}else await qx(r.localStore,e,!1).then(()=>Hx(r,e,n)).catch(jf)}async function uW(t,e){const n=Ne(t),r=e.batch.batchId;try{const i=await _q(n.localStore,e);zR(n,r,null),VR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Af(n,i)}catch(i){await jf(i)}}async function dW(t,e,n){const r=Ne(t);try{const i=await function(a,l){const c=Ne(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(Je(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);zR(r,e,n),VR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Af(r,i)}catch(i){await jf(i)}}function VR(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function zR(t,e,n){const r=Ne(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Hx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||qR(t,r)})}function qR(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(a_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),h_(t))}function p2(t,e,n){for(const r of n)r instanceof $R?(t.La.addReference(r.key,e),fW(t,r)):r instanceof FR?(fe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||qR(t,r.key)):Se()}function fW(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(fe("SyncEngine","New document in limbo: "+n),t.xa.add(r),h_(t))}function h_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new xe(vt.fromString(e)),r=t.qa.next();t.Na.set(r,new tW(n)),t.Oa=t.Oa.insert(n,r),kR(t.remoteStore,new Ws(Ni(Fg(n.path)),r,"TargetPurposeLimboResolution",K1.oe))}}async function Af(t,e,n){const r=Ne(t),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((l,c)=>{a.push(r.Ka(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=s_.Wi(c.targetId,u);s.push(f)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(c,u){const d=Ne(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>te.forEach(u,p=>te.forEach(p.$i,v=>d.persistence.referenceDelegate.addReference(f,p.targetId,v)).next(()=>te.forEach(p.Ui,v=>d.persistence.referenceDelegate.removeReference(f,p.targetId,v)))))}catch(f){if(!Sf(f))throw f;fe("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const v=d.os.get(p),g=v.snapshotVersion,y=v.withLastLimboFreeSnapshotVersion(g);d.os=d.os.insert(p,y)}}}(r.localStore,s))}async function hW(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){fe("SyncEngine","User change. New user:",e.toKey());const r=await ER(n.localStore,e);n.currentUser=e,function(s,a){s.ka.forEach(l=>{l.forEach(c=>{c.reject(new pe(ee.CANCELLED,a))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Af(n,r.hs)}}function pW(t,e){const n=Ne(t),r=n.Na.get(e);if(r&&r.va)return Re().add(r.key);{let i=Re();const s=n.Ma.get(e);if(!s)return i;for(const a of s){const l=n.Fa.get(a);i=i.unionWith(l.view.Va)}return i}}function WR(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cW.bind(null,e),e.Ca.d_=Qq.bind(null,e.eventManager),e.Ca.$a=Jq.bind(null,e.eventManager),e}function mW(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dW.bind(null,e),e}class om{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return wq(this.persistence,new xq,e.initialUser,this.serializer)}Ga(e){return new gq(i_.Zr,this.serializer)}Wa(e){return new Aq}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}om.provider={build:()=>new om};class Kx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>h2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hW.bind(null,this.syncEngine),await Gq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Yq}()}createDatastore(e){const n=Wg(e.databaseInfo.databaseId),r=function(s){return new Cq(s)}(e.databaseInfo);return function(s,a,l,c){return new Dq(s,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,l){return new Mq(r,i,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>h2(this.syncEngine,n,0),function(){return l2.D()?new l2:new kq}())}createSyncEngine(e,n){return function(i,s,a,l,c,u,d){const f=new nW(i,s,a,l,c,u);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ne(i);fe("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Tf(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Kx.provider={build:()=>new Kx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):us("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gW{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Tn.UNAUTHENTICATED,this.clientId=HO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{fe("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(fe("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=d_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Wy(t,e){t.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await ER(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function m2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await yW(t);fe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>c2(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>c2(e.remoteStore,i)),t._onlineComponents=e}async function yW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Wy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ee.FAILED_PRECONDITION||i.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ul("Error using user provided cache. Falling back to memory cache: "+n),await Wy(t,new om)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),await Wy(t,new om);return t._offlineComponents}async function KR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),await m2(t,t._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),await m2(t,new Kx))),t._onlineComponents}function vW(t){return KR(t).then(e=>e.syncEngine)}async function Gx(t){const e=await KR(t),n=e.eventManager;return n.onListen=rW.bind(null,e.syncEngine),n.onUnlisten=aW.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=iW.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=oW.bind(null,e.syncEngine),n}function xW(t,e,n={}){const r=new ia;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,c,u){const d=new HR({next:p=>{d.Za(),a.enqueueAndForget(()=>LR(s,f));const v=p.docs.has(l);!v&&p.fromCache?u.reject(new pe(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&p.fromCache&&c&&c.source==="server"?u.reject(new pe(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new MR(Fg(l.path),d,{includeMetadataChanges:!0,_a:!0});return DR(s,f)}(await Gx(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(t,e,n){if(!n)throw new pe(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bW(t,e,n,r){if(e===!0&&r===!0)throw new pe(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function y2(t){if(!xe.isDocumentKey(t))throw new pe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function v2(t){if(xe.isDocumentKey(t))throw new pe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function p_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se()}function ki(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=p_(t);throw new pe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new pe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new pe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new pe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new pe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x2({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x2(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $7;switch(r.type){case"firstParty":return new V7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=g2.get(n);r&&(fe("ComponentProvider","Removing Datastore"),g2.delete(n),r.terminate())}(this),Promise.resolve()}}function wW(t,e,n,r={}){var i;const s=(t=ki(t,Gg))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=Tn.MOCK_USER;else{l=p4(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new pe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Tn(u)}t._authCredentials=new F7(new WO(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xg(this.firestore,e,this._query)}}class Bn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bn(this.firestore,e,this._key)}}class sa extends Xg{constructor(e,n,r){super(e,n,Fg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bn(this.firestore,null,new xe(e))}withConverter(e){return new sa(this.firestore,e,this._path)}}function _W(t,e,...n){if(t=mt(t),XR("collection","path",e),t instanceof Gg){const r=vt.fromString(e,...n);return v2(r),new sa(t,null,r)}{if(!(t instanceof Bn||t instanceof sa))throw new pe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return v2(r),new sa(t.firestore,null,r)}}function On(t,e,...n){if(t=mt(t),arguments.length===1&&(e=HO.newId()),XR("doc","path",e),t instanceof Gg){const r=vt.fromString(e,...n);return y2(r),new Bn(t,null,new xe(r))}{if(!(t instanceof Bn||t instanceof sa))throw new pe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return y2(r),new Bn(t.firestore,t instanceof sa?t.converter:null,new xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new TR(this,"async_queue_retry"),this.Vu=()=>{const r=qy();r&&fe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=qy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=qy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ia;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Sf(e))throw e;fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw us("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=u_.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Se()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function w2(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Hl extends Gg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new b2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new b2(e),this._firestoreClient=void 0,await e}}}function jW(t,e){const n=typeof t=="object"?t:kg(),r=typeof t=="string"?t:"(default)",i=xa(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=d4("firestore");s&&wW(i,...s)}return i}function m_(t){if(t._terminated)throw new pe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||SW(t),t._firestoreClient}function SW(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,u,d){return new tz(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,GR(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new gW(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kl(xn.fromBase64String(e))}catch(n){throw new pe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Kl(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EW=/^__.*__$/;class NW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ef(e,this.data,n,this.fieldTransforms)}}class YR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function QR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class x_{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new x_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return lm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(QR(this.Cu)&&EW.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class TW{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wg(e)}Qu(e,n,r,i=!1){return new x_({Cu:e,methodName:n,qu:r,path:hn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function JR(t){const e=t._freezeSettings(),n=Wg(t._databaseId);return new TW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function AW(t,e,n,r,i,s={}){const a=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);b_("Data must be an object, but it was:",a,r);const l=ZR(r,a);let c,u;if(s.merge)c=new dr(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const p=Xx(e,f,n);if(!a.contains(p))throw new pe(ee.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);t5(d,p)||d.push(p)}c=new dr(d),u=a.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=a.fieldTransforms;return new NW(new Kn(l),c,u)}class Qg extends g_{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qg}}function kW(t,e,n,r){const i=t.Qu(1,e,n);b_("Data must be an object, but it was:",i,r);const s=[],a=Kn.empty();Io(r,(c,u)=>{const d=w_(e,c,n);u=mt(u);const f=i.Nu(d);if(u instanceof Qg)s.push(d);else{const p=Jg(u,f);p!=null&&(s.push(d),a.set(d,p))}});const l=new dr(s);return new YR(a,l,i.fieldTransforms)}function PW(t,e,n,r,i,s){const a=t.Qu(1,e,n),l=[Xx(e,r,n)],c=[i];if(s.length%2!=0)throw new pe(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)l.push(Xx(e,s[p])),c.push(s[p+1]);const u=[],d=Kn.empty();for(let p=l.length-1;p>=0;--p)if(!t5(u,l[p])){const v=l[p];let g=c[p];g=mt(g);const y=a.Nu(v);if(g instanceof Qg)u.push(v);else{const m=Jg(g,y);m!=null&&(u.push(v),d.set(v,m))}}const f=new dr(u);return new YR(d,f,a.fieldTransforms)}function Jg(t,e){if(e5(t=mt(t)))return b_("Unsupported field value:",e,t),ZR(t,e);if(t instanceof g_)return function(r,i){if(!QR(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const l of r){let c=Jg(l,i.Lu(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Sz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Yt.fromDate(r);return{timestampValue:sm(i.serializer,s)}}if(r instanceof Yt){const s=new Yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sm(i.serializer,s)}}if(r instanceof y_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Kl)return{bytesValue:vR(i.serializer,r._byteString)};if(r instanceof Bn){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:n_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof v_)return function(a,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return Z1(l.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${p_(r)}`)}(t,e)}function ZR(t,e){const n={};return KO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Io(t,(r,i)=>{const s=Jg(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function e5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Yt||t instanceof y_||t instanceof Kl||t instanceof Bn||t instanceof g_||t instanceof v_)}function b_(t,e,n){if(!e5(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=p_(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Xx(t,e,n){if((e=mt(e))instanceof Yg)return e._internalPath;if(typeof e=="string")return w_(t,e);throw lm("Field path arguments must be of type string or ",t,!1,void 0,n)}const IW=new RegExp("[~\\*/\\[\\]]");function w_(t,e,n){if(e.search(IW)>=0)throw lm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Yg(...e.split("."))._internalPath}catch{throw lm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lm(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new pe(ee.INVALID_ARGUMENT,l+t+c)}function t5(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(r5("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class CW extends n5{data(){return super.data()}}function r5(t,e){return typeof e=="string"?w_(t,e):e instanceof Yg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OW(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class RW{convertValue(e,n="none"){switch(go(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(mo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Io(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Ot(a.doubleValue));return new v_(s)}convertGeoPoint(e){return new y_(Ot(e.latitude),Ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=X1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Sd(e));default:return null}}convertTimestamp(e){const n=ha(e);return new Yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=vt.fromString(e);Je(SR(r));const i=new Ed(r.get(1),r.get(3)),s=new xe(r.popFirst(5));return i.isEqual(n)||us(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DW(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class i5 extends n5{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(r5("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class pp extends i5{data(e={}){return super.data(e)}}class LW{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Cu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new pp(this._firestore,this._userDataWriter,r.key,r,new Cu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(l=>{const c=new pp(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Cu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new pp(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Cu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return l.type!==0&&(u=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:MW(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function MW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(t){t=ki(t,Bn);const e=ki(t.firestore,Hl);return xW(m_(e),t._key).then(n=>l5(e,t,n))}class s5 extends RW{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bn(this.firestore,null,n)}}function a5(t,e,n){t=ki(t,Bn);const r=ki(t.firestore,Hl),i=DW(t.converter,e,n);return o5(r,[AW(JR(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ti.none())])}function $W(t,e,n,...r){t=ki(t,Bn);const i=ki(t.firestore,Hl),s=JR(i);let a;return a=typeof(e=mt(e))=="string"||e instanceof Yg?PW(s,"updateDoc",t._key,e,n,r):kW(s,"updateDoc",t._key,e),o5(i,[a.toMutation(t._key,Ti.exists(!0))])}function FW(t,...e){var n,r,i;t=mt(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||w2(e[a])||(s=e[a],a++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(w2(e[a])){const f=e[a];e[a]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[a+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[a+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,u,d;if(t instanceof Bn)u=ki(t.firestore,Hl),d=Fg(t._key.path),c={next:f=>{e[a]&&e[a](l5(u,t,f))},error:e[a+1],complete:e[a+2]};else{const f=ki(t,Xg);u=ki(f.firestore,Hl),d=f._query;const p=new s5(u);c={next:v=>{e[a]&&e[a](new LW(u,p,f,v))},error:e[a+1],complete:e[a+2]},OW(t._query)}return function(p,v,g,y){const m=new HR(y),x=new MR(v,m,g);return p.asyncQueue.enqueueAndForget(async()=>DR(await Gx(p),x)),()=>{m.Za(),p.asyncQueue.enqueueAndForget(async()=>LR(await Gx(p),x))}}(m_(u),d,l,c)}function o5(t,e){return function(r,i){const s=new ia;return r.asyncQueue.enqueueAndForget(async()=>lW(await vW(r),i,s)),s.promise}(m_(t),e)}function l5(t,e,n){const r=n.docs.get(e._key),i=new s5(t);return new i5(t,i,e._key,r,new Cu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){jc=i})(ko),ui(new Rr("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),l=new Hl(new U7(r.getProvider("auth-internal")),new q7(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new pe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ed(u.options.projectId,d)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Zn(FN,"4.7.3",e),Zn(FN,"4.7.3","esm2017")})();const UW={apiKey:"AIzaSyAiImG-UYlHy79ayanN-GX42o--CO_q43M",authDomain:"dlx-trading.firebaseapp.com",projectId:"dlx-trading",storageBucket:"dlx-trading.firebasestorage.app",messagingSenderId:"561570439242",appId:"1:561570439242:web:ab2153be757828ec1f46b3",measurementId:"G-WDVHXT9N5T"},__=w4(UW),sn=U1(__);typeof window<"u"&&R7(__);const pn=jW(__),bs=Object.freeze(Object.defineProperty({__proto__:null,auth:sn,db:pn},Symbol.toStringTag,{value:"Module"})),BW="modulepreload",VW=function(t){return"/"+t},_2={},Qt=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=VW(c),c in _2)return;_2[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":BW,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((p,v)=>{f.addEventListener("load",p),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};class zW{constructor(){zr(this,"ws",null);zr(this,"handlers",new Map);zr(this,"status",{connected:!1,authenticated:!1,reconnecting:!1,fallbackMode:!1});zr(this,"reconnectAttempts",0);zr(this,"maxReconnectAttempts",5);zr(this,"reconnectDelay",3e3);zr(this,"pollingInterval",null);zr(this,"pollingFallback",!1)}async connect(){const e="wss://dlxtrade-ws-1.onrender.com/ws";console.log("Attempting WebSocket connection to:",e),this.status.reconnecting=!0,this.status.lastError=void 0;try{this.ws=new WebSocket(e),this.ws.onopen=()=>{console.log("WebSocket connected successfully"),this.status.connected=!0,this.status.reconnecting=!1,this.status.authenticated=!1,this.reconnectAttempts=0,this.pollingFallback&&this.disablePollingFallback(),console.log(" WebSocket connection successful to:",e)},this.ws.onmessage=n=>{try{const r=JSON.parse(n.data);if(r.type==="welcome")this.status.authenticated=!0,console.log(" WebSocket authenticated");else if(r.type==="unauthenticated"){this.status.authenticated=!1,console.log(" WebSocket unauthenticated, falling back to polling"),this.enablePollingFallback();return}this.handleMessage(r)}catch(r){console.error("Error parsing WebSocket message:",r)}},this.ws.onerror=n=>{var s;const r=(n==null?void 0:n.message)||(n==null?void 0:n.type)||"Unknown WebSocket error",i={message:r,readyState:(s=this.ws)==null?void 0:s.readyState,url:e,code:n==null?void 0:n.code};console.error(" WebSocket error:",i),this.status.lastError=r,this.ws.lastError=i},this.ws.onclose=n=>{this.status.connected=!1,this.status.authenticated=!1;const r={code:n.code,reason:n.reason||"Unknown reason",wasClean:n.wasClean,url:e};if(console.log("WebSocket disconnected:",r),n.code!==1e3&&this.reconnectAttempts<this.maxReconnectAttempts){this.reconnectAttempts++;const i=this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1);console.log(`Reconnecting WebSocket in ${i}ms (attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts})...`),setTimeout(()=>this.connect(),i)}else this.reconnectAttempts>=this.maxReconnectAttempts&&(console.log("Max reconnection attempts reached, falling back to polling"),this.enablePollingFallback())}}catch(n){const r={message:(n==null?void 0:n.message)||"Unknown error",stack:n==null?void 0:n.stack,url:e};console.error(" Error connecting WebSocket:",r),this.status.lastError=r.message,this.reconnectAttempts<this.maxReconnectAttempts?(this.reconnectAttempts++,setTimeout(()=>this.connect(),this.reconnectDelay)):this.enablePollingFallback()}}handleMessage(e){const n=e.type||"default",r=this.handlers.get(n)||this.handlers.get("*");r&&r.forEach(i=>i(e))}enablePollingFallback(){this.pollingFallback||(console.log(" Enabling polling fallback for real-time updates"),this.pollingFallback=!0,this.status.fallbackMode=!0,this.pollingInterval=setInterval(async()=>{try{const{researchApi:e}=await Qt(async()=>{const{researchApi:r}=await Promise.resolve().then(()=>QK);return{researchApi:r}},void 0),n=await e.getLogs({limit:10});if(n.data&&Array.isArray(n.data)){const r=n.data.filter(i=>{var s;return i.researchType==="manual"||((s=i.autoTradeDecision)==null?void 0:s.triggered)});r.length>0&&r.forEach(i=>{this.handleMessage({type:"research:update",data:{result:i}})})}}catch(e){console.error("Polling fallback error:",e)}},3e4))}disablePollingFallback(){this.pollingFallback&&(console.log(" Disabling polling fallback"),this.pollingFallback=!1,this.status.fallbackMode=!1,this.pollingInterval&&(clearInterval(this.pollingInterval),this.pollingInterval=null))}getStatus(){return{...this.status}}subscribe(e,n){return this.handlers.has(e)||this.handlers.set(e,new Set),this.handlers.get(e).add(n),()=>{const r=this.handlers.get(e);r&&(r.delete(n),r.size===0&&this.handlers.delete(e))}}send(e){this.ws&&this.ws.readyState===WebSocket.OPEN?this.ws.send(JSON.stringify(e)):console.warn("WebSocket not connected")}disconnect(){this.status.connected=!1,this.status.authenticated=!1,this.status.reconnecting=!1,this.ws&&(this.ws.close(),this.ws=null),this.disablePollingFallback(),this.handlers.clear()}}const yo=new zW;function bt({message:t,type:e}){return o.jsx("div",{className:"fixed bottom-4 right-4 z-50 animate-fade-in",children:o.jsx("div",{className:`px-4 py-3 rounded-lg shadow-2xl backdrop-blur-xl border ${e==="success"?"bg-green-500/20 border-green-400/30 text-green-300":"bg-red-500/20 border-red-400/30 text-red-300"}`,children:t})})}function qW({title:t,titleId:e,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Zg=E.forwardRef(qW);function WW({title:t,titleId:e,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const HW=E.forwardRef(WW);function KW({title:t,titleId:e,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const GW=E.forwardRef(KW);function XW({title:t,titleId:e,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const aa=E.forwardRef(XW);function YW({title:t,titleId:e,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const c5=E.forwardRef(YW);function QW({title:t,titleId:e,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const JW=E.forwardRef(QW);function ZW({title:t,titleId:e,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const eH=E.forwardRef(ZW);function tH({title:t,titleId:e,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const nH=E.forwardRef(tH);function rH({title:t,titleId:e,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const kd=E.forwardRef(rH);function iH({title:t,titleId:e,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const Yx=E.forwardRef(iH);function sH({title:t,titleId:e,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const Gl=E.forwardRef(sH);function aH({title:t,titleId:e,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const Qx=E.forwardRef(aH);function oH({title:t,titleId:e,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const lH=E.forwardRef(oH);function cH({title:t,titleId:e,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const u5=E.forwardRef(cH);function uH({title:t,titleId:e,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m0-10.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.75c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.25-8.25-3.286Zm0 13.036h.008v.008H12v-.008Z"}))}const j2=E.forwardRef(uH);function dH({title:t,titleId:e,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const fH=E.forwardRef(dH);function hH({title:t,titleId:e,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const pH=E.forwardRef(hH);function mH({title:t,titleId:e,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const bi=E.forwardRef(mH);function gH({title:t,titleId:e,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const j_=E.forwardRef(gH);function yH({message:t,type:e="error",onClose:n,duration:r=4e3}){const[i,s]=E.useState(!0),[a,l]=E.useState(!1);if(E.useEffect(()=>{const f=setTimeout(()=>{l(!0),setTimeout(()=>{s(!1),n()},300)},r);return()=>clearTimeout(f)},[r,n]),!i)return null;const u=(()=>{switch(e){case"auth":return{icon:j2,title:"Authentication Error",gradient:"from-red-500/20 via-orange-500/20 to-red-500/20",border:"border-red-500/50",text:"text-red-300",iconColor:"text-red-400",glow:"shadow-red-500/50"};case"api":return{icon:bi,title:"API Error",gradient:"from-orange-500/20 via-red-500/20 to-orange-500/20",border:"border-orange-500/50",text:"text-orange-300",iconColor:"text-orange-400",glow:"shadow-orange-500/50"};case"network":return{icon:bi,title:"Network Error",gradient:"from-yellow-500/20 via-orange-500/20 to-yellow-500/20",border:"border-yellow-500/50",text:"text-yellow-300",iconColor:"text-yellow-400",glow:"shadow-yellow-500/50"};case"validation":return{icon:kd,title:"Validation Error",gradient:"from-blue-500/20 via-cyan-500/20 to-blue-500/20",border:"border-blue-500/50",text:"text-blue-300",iconColor:"text-blue-400",glow:"shadow-blue-500/50"};case"exchange":return{icon:bi,title:"Exchange Error",gradient:"from-purple-500/20 via-pink-500/20 to-purple-500/20",border:"border-purple-500/50",text:"text-purple-300",iconColor:"text-purple-400",glow:"shadow-purple-500/50"};case"research":return{icon:Yx,title:"Research Info",gradient:"from-indigo-500/20 via-blue-500/20 to-indigo-500/20",border:"border-indigo-500/50",text:"text-indigo-300",iconColor:"text-indigo-400",glow:"shadow-indigo-500/50"};case"warning":return{icon:kd,title:"Warning",gradient:"from-yellow-500/20 via-amber-500/20 to-yellow-500/20",border:"border-yellow-500/50",text:"text-yellow-300",iconColor:"text-yellow-400",glow:"shadow-yellow-500/50"};case"critical":return{icon:j2,title:"Critical Error",gradient:"from-red-500/20 via-rose-500/20 to-red-500/20",border:"border-red-500/50",text:"text-red-300",iconColor:"text-red-400",glow:"shadow-red-500/50"};case"info":default:return{icon:Yx,title:"Information",gradient:"from-blue-500/20 via-cyan-500/20 to-blue-500/20",border:"border-blue-500/50",text:"text-blue-300",iconColor:"text-blue-400",glow:"shadow-blue-500/50"}}})(),d=u.icon;return o.jsx("div",{className:`fixed top-4 right-4 z-[9999] max-w-md w-full sm:w-96 animate-slide-in-right ${a?"animate-fade-out":""}`,children:o.jsx("div",{className:`relative bg-gradient-to-br ${u.gradient} backdrop-blur-xl rounded-2xl border-2 ${u.border} shadow-2xl ${u.glow} p-4 sm:p-5`,children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:`flex-shrink-0 ${u.iconColor}`,children:o.jsx(d,{className:"w-6 h-6"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:`text-sm font-semibold ${u.text} mb-1`,children:u.title}),o.jsx("p",{className:`text-sm ${u.text} break-words`,children:t})]}),o.jsx("button",{onClick:()=>{l(!0),setTimeout(()=>{s(!1),n()},300)},className:`flex-shrink-0 ${u.text} hover:opacity-70 transition-opacity`,children:o.jsx(bi,{className:"w-5 h-5"})})]})})})}const d5=E.createContext(void 0);function vH({children:t}){const[e,n]=E.useState(null),r=E.useCallback((a,l="info")=>{n({message:a,type:l})},[]),i=E.useCallback(a=>{n({message:a,type:"info"})},[]),s=E.useCallback(()=>{n(null)},[]);return E.useEffect(()=>{const a=l=>{const{message:c,status:u}=l.detail;let d="api";u===401||u===403?d="auth":u===404?d="api":u===429?d="warning":u>=500?d="critical":u||(d="network"),r(c||"Unknown error occurred",d)};return window.addEventListener("apiError",a),()=>{window.removeEventListener("apiError",a)}},[r]),o.jsxs(d5.Provider,{value:{showError:r,showSuccess:i},children:[t,e&&o.jsx(yH,{message:e.message,type:e.type,onClose:s,duration:4e3})]})}function kf(){const t=E.useContext(d5);if(t===void 0)throw new Error("useError must be used within an ErrorProvider");return t}function $e(){const[t,e]=E.useState(()=>sn.currentUser),[n,r]=E.useState(!0);return E.useEffect(()=>{const s=L1(sn,async l=>{if(l){const c=await l.getIdToken();localStorage.setItem("firebaseToken",c),localStorage.setItem("firebaseUser",JSON.stringify({uid:l.uid,email:l.email})),e(l)}else localStorage.getItem("firebaseToken")||(localStorage.removeItem("firebaseToken"),localStorage.removeItem("firebaseUser"),e(null));r(!1)}),a=setInterval(async()=>{if(sn.currentUser){const l=await sn.currentUser.getIdToken(!0);localStorage.setItem("firebaseToken",l)}},55*60*1e3);return()=>{s(),clearInterval(a)}},[]),{user:t,loading:n,logout:async()=>{try{await rO(sn),localStorage.removeItem("firebaseToken"),localStorage.removeItem("firebaseUser"),window.location.href="/"}catch(s){console.error("Error signing out:",s)}}}}function f5(t,e){return function(){return t.apply(e,arguments)}}const{toString:xH}=Object.prototype,{getPrototypeOf:S_}=Object,{iterator:e0,toStringTag:h5}=Symbol,t0=(t=>e=>{const n=xH.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),di=t=>(t=t.toLowerCase(),e=>t0(e)===t),n0=t=>e=>typeof e===t,{isArray:Nc}=Array,Xl=n0("undefined");function Pf(t){return t!==null&&!Xl(t)&&t.constructor!==null&&!Xl(t.constructor)&&tr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const p5=di("ArrayBuffer");function bH(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&p5(t.buffer),e}const wH=n0("string"),tr=n0("function"),m5=n0("number"),If=t=>t!==null&&typeof t=="object",_H=t=>t===!0||t===!1,mp=t=>{if(t0(t)!=="object")return!1;const e=S_(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(h5 in t)&&!(e0 in t)},jH=t=>{if(!If(t)||Pf(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},SH=di("Date"),EH=di("File"),NH=di("Blob"),TH=di("FileList"),AH=t=>If(t)&&tr(t.pipe),kH=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||tr(t.append)&&((e=t0(t))==="formdata"||e==="object"&&tr(t.toString)&&t.toString()==="[object FormData]"))},PH=di("URLSearchParams"),[IH,CH,OH,RH]=["ReadableStream","Request","Response","Headers"].map(di),DH=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Cf(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Nc(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(Pf(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let l;for(r=0;r<a;r++)l=s[r],e.call(null,t[l],l,t)}}function g5(t,e){if(Pf(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Ha=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,y5=t=>!Xl(t)&&t!==Ha;function Jx(){const{caseless:t,skipUndefined:e}=y5(this)&&this||{},n={},r=(i,s)=>{const a=t&&g5(n,s)||s;mp(n[a])&&mp(i)?n[a]=Jx(n[a],i):mp(i)?n[a]=Jx({},i):Nc(i)?n[a]=i.slice():(!e||!Xl(i))&&(n[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Cf(arguments[i],r);return n}const LH=(t,e,n,{allOwnKeys:r}={})=>(Cf(e,(i,s)=>{n&&tr(i)?t[s]=f5(i,n):t[s]=i},{allOwnKeys:r}),t),MH=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),$H=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},FH=(t,e,n,r)=>{let i,s,a;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!r||r(a,t,e))&&!l[a]&&(e[a]=t[a],l[a]=!0);t=n!==!1&&S_(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},UH=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},BH=t=>{if(!t)return null;if(Nc(t))return t;let e=t.length;if(!m5(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},VH=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&S_(Uint8Array)),zH=(t,e)=>{const r=(t&&t[e0]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},qH=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},WH=di("HTMLFormElement"),HH=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),S2=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),KH=di("RegExp"),v5=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Cf(n,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(r[s]=a||i)}),Object.defineProperties(t,r)},GH=t=>{v5(t,(e,n)=>{if(tr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(tr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},XH=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Nc(t)?r(t):r(String(t).split(e)),n},YH=()=>{},QH=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function JH(t){return!!(t&&tr(t.append)&&t[h5]==="FormData"&&t[e0])}const ZH=t=>{const e=new Array(10),n=(r,i)=>{if(If(r)){if(e.indexOf(r)>=0)return;if(Pf(r))return r;if(!("toJSON"in r)){e[i]=r;const s=Nc(r)?[]:{};return Cf(r,(a,l)=>{const c=n(a,i+1);!Xl(c)&&(s[l]=c)}),e[i]=void 0,s}}return r};return n(t,0)},eK=di("AsyncFunction"),tK=t=>t&&(If(t)||tr(t))&&tr(t.then)&&tr(t.catch),x5=((t,e)=>t?setImmediate:e?((n,r)=>(Ha.addEventListener("message",({source:i,data:s})=>{i===Ha&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Ha.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",tr(Ha.postMessage)),nK=typeof queueMicrotask<"u"?queueMicrotask.bind(Ha):typeof process<"u"&&process.nextTick||x5,rK=t=>t!=null&&tr(t[e0]),G={isArray:Nc,isArrayBuffer:p5,isBuffer:Pf,isFormData:kH,isArrayBufferView:bH,isString:wH,isNumber:m5,isBoolean:_H,isObject:If,isPlainObject:mp,isEmptyObject:jH,isReadableStream:IH,isRequest:CH,isResponse:OH,isHeaders:RH,isUndefined:Xl,isDate:SH,isFile:EH,isBlob:NH,isRegExp:KH,isFunction:tr,isStream:AH,isURLSearchParams:PH,isTypedArray:VH,isFileList:TH,forEach:Cf,merge:Jx,extend:LH,trim:DH,stripBOM:MH,inherits:$H,toFlatObject:FH,kindOf:t0,kindOfTest:di,endsWith:UH,toArray:BH,forEachEntry:zH,matchAll:qH,isHTMLForm:WH,hasOwnProperty:S2,hasOwnProp:S2,reduceDescriptors:v5,freezeMethods:GH,toObjectSet:XH,toCamelCase:HH,noop:YH,toFiniteNumber:QH,findKey:g5,global:Ha,isContextDefined:y5,isSpecCompliantForm:JH,toJSONObject:ZH,isAsyncFn:eK,isThenable:tK,setImmediate:x5,asap:nK,isIterable:rK};function Ae(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}G.inherits(Ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const b5=Ae.prototype,w5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{w5[t]={value:t}});Object.defineProperties(Ae,w5);Object.defineProperty(b5,"isAxiosError",{value:!0});Ae.from=(t,e,n,r,i,s)=>{const a=Object.create(b5);G.toFlatObject(t,a,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return Ae.call(a,l,c,n,r,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",s&&Object.assign(a,s),a};const iK=null;function Zx(t){return G.isPlainObject(t)||G.isArray(t)}function _5(t){return G.endsWith(t,"[]")?t.slice(0,-2):t}function E2(t,e,n){return t?t.concat(e).map(function(i,s){return i=_5(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function sK(t){return G.isArray(t)&&!t.some(Zx)}const aK=G.toFlatObject(G,{},null,function(e){return/^is[A-Z]/.test(e)});function r0(t,e,n){if(!G.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=G.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,m){return!G.isUndefined(m[y])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,a=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(e);if(!G.isFunction(i))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(G.isDate(g))return g.toISOString();if(G.isBoolean(g))return g.toString();if(!c&&G.isBlob(g))throw new Ae("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(g)||G.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,y,m){let x=g;if(g&&!m&&typeof g=="object"){if(G.endsWith(y,"{}"))y=r?y:y.slice(0,-2),g=JSON.stringify(g);else if(G.isArray(g)&&sK(g)||(G.isFileList(g)||G.endsWith(y,"[]"))&&(x=G.toArray(g)))return y=_5(y),x.forEach(function(b,T){!(G.isUndefined(b)||b===null)&&e.append(a===!0?E2([y],T,s):a===null?y:y+"[]",u(b))}),!1}return Zx(g)?!0:(e.append(E2(m,y,s),u(g)),!1)}const f=[],p=Object.assign(aK,{defaultVisitor:d,convertValue:u,isVisitable:Zx});function v(g,y){if(!G.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(g),G.forEach(g,function(x,w){(!(G.isUndefined(x)||x===null)&&i.call(e,x,G.isString(w)?w.trim():w,y,p))===!0&&v(x,y?y.concat(w):[w])}),f.pop()}}if(!G.isObject(t))throw new TypeError("data must be an object");return v(t),e}function N2(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function E_(t,e){this._pairs=[],t&&r0(t,this,e)}const j5=E_.prototype;j5.append=function(e,n){this._pairs.push([e,n])};j5.toString=function(e){const n=e?function(r){return e.call(this,r,N2)}:N2;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function oK(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function S5(t,e,n){if(!e)return t;const r=n&&n.encode||oK;G.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=G.isURLSearchParams(e)?e.toString():new E_(e,n).toString(r),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class T2{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){G.forEach(this.handlers,function(r){r!==null&&e(r)})}}const E5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},lK=typeof URLSearchParams<"u"?URLSearchParams:E_,cK=typeof FormData<"u"?FormData:null,uK=typeof Blob<"u"?Blob:null,dK={isBrowser:!0,classes:{URLSearchParams:lK,FormData:cK,Blob:uK},protocols:["http","https","file","blob","url","data"]},N_=typeof window<"u"&&typeof document<"u",eb=typeof navigator=="object"&&navigator||void 0,fK=N_&&(!eb||["ReactNative","NativeScript","NS"].indexOf(eb.product)<0),hK=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",pK=N_&&window.location.href||"http://localhost",mK=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:N_,hasStandardBrowserEnv:fK,hasStandardBrowserWebWorkerEnv:hK,navigator:eb,origin:pK},Symbol.toStringTag,{value:"Module"})),Cn={...mK,...dK};function gK(t,e){return r0(t,new Cn.classes.URLSearchParams,{visitor:function(n,r,i,s){return Cn.isNode&&G.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function yK(t){return G.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function vK(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function N5(t){function e(n,r,i,s){let a=n[s++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=s>=n.length;return a=!a&&G.isArray(i)?i.length:a,c?(G.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!l):((!i[a]||!G.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],s)&&G.isArray(i[a])&&(i[a]=vK(i[a])),!l)}if(G.isFormData(t)&&G.isFunction(t.entries)){const n={};return G.forEachEntry(t,(r,i)=>{e(yK(r),i,n,0)}),n}return null}function xK(t,e,n){if(G.isString(t))try{return(e||JSON.parse)(t),G.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Of={transitional:E5,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=G.isObject(e);if(s&&G.isHTMLForm(e)&&(e=new FormData(e)),G.isFormData(e))return i?JSON.stringify(N5(e)):e;if(G.isArrayBuffer(e)||G.isBuffer(e)||G.isStream(e)||G.isFile(e)||G.isBlob(e)||G.isReadableStream(e))return e;if(G.isArrayBufferView(e))return e.buffer;if(G.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return gK(e,this.formSerializer).toString();if((l=G.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return r0(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),xK(e)):e}],transformResponse:[function(e){const n=this.transitional||Of.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(G.isResponse(e)||G.isReadableStream(e))return e;if(e&&G.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?Ae.from(l,Ae.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Cn.classes.FormData,Blob:Cn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],t=>{Of.headers[t]={}});const bK=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wK=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&bK[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},A2=Symbol("internals");function du(t){return t&&String(t).trim().toLowerCase()}function gp(t){return t===!1||t==null?t:G.isArray(t)?t.map(gp):String(t)}function _K(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const jK=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Hy(t,e,n,r,i){if(G.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!G.isString(e)){if(G.isString(r))return e.indexOf(r)!==-1;if(G.isRegExp(r))return r.test(e)}}function SK(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function EK(t,e){const n=G.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,a){return this[r].call(this,e,i,s,a)},configurable:!0})})}let nr=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,c,u){const d=du(c);if(!d)throw new Error("header name must be a non-empty string");const f=G.findKey(i,d);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||c]=gp(l))}const a=(l,c)=>G.forEach(l,(u,d)=>s(u,d,c));if(G.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(G.isString(e)&&(e=e.trim())&&!jK(e))a(wK(e),n);else if(G.isObject(e)&&G.isIterable(e)){let l={},c,u;for(const d of e){if(!G.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?G.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}a(l,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=du(e),e){const r=G.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return _K(i);if(G.isFunction(n))return n.call(this,i,r);if(G.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=du(e),e){const r=G.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Hy(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(a){if(a=du(a),a){const l=G.findKey(r,a);l&&(!n||Hy(r,r[l],l,n))&&(delete r[l],i=!0)}}return G.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Hy(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return G.forEach(this,(i,s)=>{const a=G.findKey(r,s);if(a){n[a]=gp(i),delete n[s];return}const l=e?SK(s):String(s).trim();l!==s&&delete n[s],n[l]=gp(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return G.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&G.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[A2]=this[A2]={accessors:{}}).accessors,i=this.prototype;function s(a){const l=du(a);r[l]||(EK(i,a),r[l]=!0)}return G.isArray(e)?e.forEach(s):s(e),this}};nr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors(nr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});G.freezeMethods(nr);function Ky(t,e){const n=this||Of,r=e||n,i=nr.from(r.headers);let s=r.data;return G.forEach(t,function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function T5(t){return!!(t&&t.__CANCEL__)}function Tc(t,e,n){Ae.call(this,t??"canceled",Ae.ERR_CANCELED,e,n),this.name="CanceledError"}G.inherits(Tc,Ae,{__CANCEL__:!0});function A5(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ae("Request failed with status code "+n.status,[Ae.ERR_BAD_REQUEST,Ae.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function NK(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function TK(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=r[s];a||(a=u),n[i]=c,r[i]=u;let f=s,p=0;for(;f!==i;)p+=n[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-a<e)return;const v=d&&u-d;return v?Math.round(p*1e3/v):void 0}}function AK(t,e){let n=0,r=1e3/e,i,s;const a=(u,d=Date.now())=>{n=d,i=null,s&&(clearTimeout(s),s=null),t(...u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=r?a(u,d):(i=u,s||(s=setTimeout(()=>{s=null,a(i)},r-f)))},()=>i&&a(i)]}const cm=(t,e,n=3)=>{let r=0;const i=TK(50,250);return AK(s=>{const a=s.loaded,l=s.lengthComputable?s.total:void 0,c=a-r,u=i(c),d=a<=l;r=a;const f={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-a)/u:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},n)},k2=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},P2=t=>(...e)=>G.asap(()=>t(...e)),kK=Cn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Cn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Cn.origin),Cn.navigator&&/(msie|trident)/i.test(Cn.navigator.userAgent)):()=>!0,PK=Cn.hasStandardBrowserEnv?{write(t,e,n,r,i,s,a){if(typeof document>"u")return;const l=[`${t}=${encodeURIComponent(e)}`];G.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),G.isString(r)&&l.push(`path=${r}`),G.isString(i)&&l.push(`domain=${i}`),s===!0&&l.push("secure"),G.isString(a)&&l.push(`SameSite=${a}`),document.cookie=l.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function IK(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function CK(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function k5(t,e,n){let r=!IK(e);return t&&(r||n==!1)?CK(t,e):e}const I2=t=>t instanceof nr?{...t}:t;function vo(t,e){e=e||{};const n={};function r(u,d,f,p){return G.isPlainObject(u)&&G.isPlainObject(d)?G.merge.call({caseless:p},u,d):G.isPlainObject(d)?G.merge({},d):G.isArray(d)?d.slice():d}function i(u,d,f,p){if(G.isUndefined(d)){if(!G.isUndefined(u))return r(void 0,u,f,p)}else return r(u,d,f,p)}function s(u,d){if(!G.isUndefined(d))return r(void 0,d)}function a(u,d){if(G.isUndefined(d)){if(!G.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,f){if(f in e)return r(u,d);if(f in t)return r(void 0,u)}const c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(u,d,f)=>i(I2(u),I2(d),f,!0)};return G.forEach(Object.keys({...t,...e}),function(d){const f=c[d]||i,p=f(t[d],e[d],d);G.isUndefined(p)&&f!==l||(n[d]=p)}),n}const P5=t=>{const e=vo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:l}=e;if(e.headers=a=nr.from(a),e.url=S5(k5(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),G.isFormData(n)){if(Cn.hasStandardBrowserEnv||Cn.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(G.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&a.set(d,f)})}}if(Cn.hasStandardBrowserEnv&&(r&&G.isFunction(r)&&(r=r(e)),r||r!==!1&&kK(e.url))){const c=i&&s&&PK.read(s);c&&a.set(i,c)}return e},OK=typeof XMLHttpRequest<"u",RK=OK&&function(t){return new Promise(function(n,r){const i=P5(t);let s=i.data;const a=nr.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=i,d,f,p,v,g;function y(){v&&v(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let m=new XMLHttpRequest;m.open(i.method.toUpperCase(),i.url,!0),m.timeout=i.timeout;function x(){if(!m)return;const b=nr.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:b,config:t,request:m};A5(function(_){n(_),y()},function(_){r(_),y()},N),m=null}"onloadend"in m?m.onloadend=x:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(x)},m.onabort=function(){m&&(r(new Ae("Request aborted",Ae.ECONNABORTED,t,m)),m=null)},m.onerror=function(T){const N=T&&T.message?T.message:"Network Error",A=new Ae(N,Ae.ERR_NETWORK,t,m);A.event=T||null,r(A),m=null},m.ontimeout=function(){let T=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const N=i.transitional||E5;i.timeoutErrorMessage&&(T=i.timeoutErrorMessage),r(new Ae(T,N.clarifyTimeoutError?Ae.ETIMEDOUT:Ae.ECONNABORTED,t,m)),m=null},s===void 0&&a.setContentType(null),"setRequestHeader"in m&&G.forEach(a.toJSON(),function(T,N){m.setRequestHeader(N,T)}),G.isUndefined(i.withCredentials)||(m.withCredentials=!!i.withCredentials),l&&l!=="json"&&(m.responseType=i.responseType),u&&([p,g]=cm(u,!0),m.addEventListener("progress",p)),c&&m.upload&&([f,v]=cm(c),m.upload.addEventListener("progress",f),m.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(d=b=>{m&&(r(!b||b.type?new Tc(null,t,m):b),m.abort(),m=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const w=NK(i.url);if(w&&Cn.protocols.indexOf(w)===-1){r(new Ae("Unsupported protocol "+w+":",Ae.ERR_BAD_REQUEST,t));return}m.send(s||null)})},DK=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof Ae?d:new Tc(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,s(new Ae(`timeout ${e} of ms exceeded`,Ae.ETIMEDOUT))},e);const l=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>G.asap(l),c}},LK=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},MK=async function*(t,e){for await(const n of $K(t))yield*LK(n,e)},$K=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},C2=(t,e,n,r)=>{const i=MK(t,e);let s=0,a,l=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await i.next();if(u){l(),c.close();return}let f=d.byteLength;if(n){let p=s+=f;n(p)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},O2=64*1024,{isFunction:kh}=G,FK=(({Request:t,Response:e})=>({Request:t,Response:e}))(G.global),{ReadableStream:R2,TextEncoder:D2}=G.global,L2=(t,...e)=>{try{return!!t(...e)}catch{return!1}},UK=t=>{t=G.merge.call({skipUndefined:!0},FK,t);const{fetch:e,Request:n,Response:r}=t,i=e?kh(e):typeof fetch=="function",s=kh(n),a=kh(r);if(!i)return!1;const l=i&&kh(R2),c=i&&(typeof D2=="function"?(g=>y=>g.encode(y))(new D2):async g=>new Uint8Array(await new n(g).arrayBuffer())),u=s&&l&&L2(()=>{let g=!1;const y=new n(Cn.origin,{body:new R2,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!y}),d=a&&l&&L2(()=>G.isReadableStream(new r("").body)),f={stream:d&&(g=>g.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!f[g]&&(f[g]=(y,m)=>{let x=y&&y[g];if(x)return x.call(y);throw new Ae(`Response type '${g}' is not supported`,Ae.ERR_NOT_SUPPORT,m)})});const p=async g=>{if(g==null)return 0;if(G.isBlob(g))return g.size;if(G.isSpecCompliantForm(g))return(await new n(Cn.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(G.isArrayBufferView(g)||G.isArrayBuffer(g))return g.byteLength;if(G.isURLSearchParams(g)&&(g=g+""),G.isString(g))return(await c(g)).byteLength},v=async(g,y)=>{const m=G.toFiniteNumber(g.getContentLength());return m??p(y)};return async g=>{let{url:y,method:m,data:x,signal:w,cancelToken:b,timeout:T,onDownloadProgress:N,onUploadProgress:A,responseType:_,headers:S,withCredentials:k="same-origin",fetchOptions:O}=P5(g),P=e||fetch;_=_?(_+"").toLowerCase():"text";let R=DK([w,b&&b.toAbortSignal()],T),C=null;const V=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let U;try{if(A&&u&&m!=="get"&&m!=="head"&&(U=await v(S,x))!==0){let K=new n(y,{method:"POST",body:x,duplex:"half"}),Y;if(G.isFormData(x)&&(Y=K.headers.get("content-type"))&&S.setContentType(Y),K.body){const[z,oe]=k2(U,cm(P2(A)));x=C2(K.body,O2,z,oe)}}G.isString(k)||(k=k?"include":"omit");const $=s&&"credentials"in n.prototype,M={...O,signal:R,method:m.toUpperCase(),headers:S.normalize().toJSON(),body:x,duplex:"half",credentials:$?k:void 0};C=s&&new n(y,M);let L=await(s?P(C,O):P(y,M));const F=d&&(_==="stream"||_==="response");if(d&&(N||F&&V)){const K={};["status","statusText","headers"].forEach(je=>{K[je]=L[je]});const Y=G.toFiniteNumber(L.headers.get("content-length")),[z,oe]=N&&k2(Y,cm(P2(N),!0))||[];L=new r(C2(L.body,O2,z,()=>{oe&&oe(),V&&V()}),K)}_=_||"text";let W=await f[G.findKey(f,_)||"text"](L,g);return!F&&V&&V(),await new Promise((K,Y)=>{A5(K,Y,{data:W,headers:nr.from(L.headers),status:L.status,statusText:L.statusText,config:g,request:C})})}catch($){throw V&&V(),$&&$.name==="TypeError"&&/Load failed|fetch/i.test($.message)?Object.assign(new Ae("Network Error",Ae.ERR_NETWORK,g,C),{cause:$.cause||$}):Ae.from($,$&&$.code,g,C)}}},BK=new Map,I5=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,s=[r,i,n];let a=s.length,l=a,c,u,d=BK;for(;l--;)c=s[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:UK(e)),d=u;return u};I5();const T_={http:iK,xhr:RK,fetch:{get:I5}};G.forEach(T_,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const M2=t=>`- ${t}`,VK=t=>G.isFunction(t)||t===null||t===!1;function zK(t,e){t=G.isArray(t)?t:[t];const{length:n}=t;let r,i;const s={};for(let a=0;a<n;a++){r=t[a];let l;if(i=r,!VK(r)&&(i=T_[(l=String(r)).toLowerCase()],i===void 0))throw new Ae(`Unknown adapter '${l}'`);if(i&&(G.isFunction(i)||(i=i.get(e))))break;s[l||"#"+a]=i}if(!i){const a=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?a.length>1?`since :
`+a.map(M2).join(`
`):" "+M2(a[0]):"as no adapter specified";throw new Ae("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i}const C5={getAdapter:zK,adapters:T_};function Gy(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Tc(null,t)}function $2(t){return Gy(t),t.headers=nr.from(t.headers),t.data=Ky.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),C5.getAdapter(t.adapter||Of.adapter,t)(t).then(function(r){return Gy(t),r.data=Ky.call(t,t.transformResponse,r),r.headers=nr.from(r.headers),r},function(r){return T5(r)||(Gy(t),r&&r.response&&(r.response.data=Ky.call(t,t.transformResponse,r.response),r.response.headers=nr.from(r.response.headers))),Promise.reject(r)})}const O5="1.13.2",i0={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{i0[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const F2={};i0.transitional=function(e,n,r){function i(s,a){return"[Axios v"+O5+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,l)=>{if(e===!1)throw new Ae(i(a," has been removed"+(n?" in "+n:"")),Ae.ERR_DEPRECATED);return n&&!F2[a]&&(F2[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,a,l):!0}};i0.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function qK(t,e,n){if(typeof t!="object")throw new Ae("options must be an object",Ae.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],a=e[s];if(a){const l=t[s],c=l===void 0||a(l,s,t);if(c!==!0)throw new Ae("option "+s+" must be "+c,Ae.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ae("Unknown option "+s,Ae.ERR_BAD_OPTION)}}const yp={assertOptions:qK,validators:i0},mi=yp.validators;let eo=class{constructor(e){this.defaults=e||{},this.interceptors={request:new T2,response:new T2}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=vo(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&yp.assertOptions(r,{silentJSONParsing:mi.transitional(mi.boolean),forcedJSONParsing:mi.transitional(mi.boolean),clarifyTimeoutError:mi.transitional(mi.boolean)},!1),i!=null&&(G.isFunction(i)?n.paramsSerializer={serialize:i}:yp.assertOptions(i,{encode:mi.function,serialize:mi.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),yp.assertOptions(n,{baseUrl:mi.spelling("baseURL"),withXsrfToken:mi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&G.merge(s.common,s[n.method]);s&&G.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),n.headers=nr.concat(a,s);const l=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(c=c&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,f=0,p;if(!c){const g=[$2.bind(this),void 0];for(g.unshift(...l),g.push(...u),p=g.length,d=Promise.resolve(n);f<p;)d=d.then(g[f++],g[f++]);return d}p=l.length;let v=n;for(;f<p;){const g=l[f++],y=l[f++];try{v=g(v)}catch(m){y.call(this,m);break}}try{d=$2.call(this,v)}catch(g){return Promise.reject(g)}for(f=0,p=u.length;f<p;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=vo(this.defaults,e);const n=k5(e.baseURL,e.url,e.allowAbsoluteUrls);return S5(n,e.params,e.paramsSerializer)}};G.forEach(["delete","get","head","options"],function(e){eo.prototype[e]=function(n,r){return this.request(vo(r||{},{method:e,url:n,data:(r||{}).data}))}});G.forEach(["post","put","patch"],function(e){function n(r){return function(s,a,l){return this.request(vo(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}eo.prototype[e]=n(),eo.prototype[e+"Form"]=n(!0)});let WK=class R5{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(l=>{r.subscribe(l),s=l}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},e(function(s,a,l){r.reason||(r.reason=new Tc(s,a,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new R5(function(i){e=i}),cancel:e}}};function HK(t){return function(n){return t.apply(null,n)}}function KK(t){return G.isObject(t)&&t.isAxiosError===!0}const tb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(tb).forEach(([t,e])=>{tb[e]=t});function D5(t){const e=new eo(t),n=f5(eo.prototype.request,e);return G.extend(n,eo.prototype,e,{allOwnKeys:!0}),G.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return D5(vo(t,i))},n}const Mt=D5(Of);Mt.Axios=eo;Mt.CanceledError=Tc;Mt.CancelToken=WK;Mt.isCancel=T5;Mt.VERSION=O5;Mt.toFormData=r0;Mt.AxiosError=Ae;Mt.Cancel=Mt.CanceledError;Mt.all=function(e){return Promise.all(e)};Mt.spread=HK;Mt.isAxiosError=KK;Mt.mergeConfig=vo;Mt.AxiosHeaders=nr;Mt.formToJSON=t=>N5(G.isHTMLForm(t)?new FormData(t):t);Mt.getAdapter=C5.getAdapter;Mt.HttpStatusCode=tb;Mt.default=Mt;const{Axios:e_e,AxiosError:t_e,CanceledError:n_e,isCancel:r_e,CancelToken:i_e,VERSION:s_e,all:a_e,Cancel:o_e,isAxiosError:l_e,spread:c_e,toFormData:u_e,AxiosHeaders:d_e,HttpStatusCode:f_e,formToJSON:h_e,getAdapter:p_e,mergeConfig:m_e}=Mt,Xy="https://dlxtrade-ws-1.onrender.com",GK=Xy.endsWith("/api")?Xy:`${Xy}/api`,Z=Mt.create({baseURL:GK,headers:{"Content-Type":"application/json"}});Z.interceptors.request.use(async t=>{const e=localStorage.getItem("firebaseToken");return e&&(t.headers.Authorization=`Bearer ${e}`),t});let L5=0;const XK=t=>{var e,n,r,i;return(n=(e=t.response)==null?void 0:e.data)!=null&&n.message?t.response.data.message:(i=(r=t.response)==null?void 0:r.data)!=null&&i.error?t.response.data.error:t.message?t.message:"Unexpected error occurred"};Z.interceptors.response.use(t=>t,async t=>{var n,r,i,s;if(((n=t.response)==null?void 0:n.status)===429){const a=parseInt(((r=t.response.headers)==null?void 0:r["retry-after"])||"60",10);L5=Date.now()+a*1e3}if(((i=t.response)==null?void 0:i.status)===401&&!t.config._retry){console.log(" [AUTH] 401 received, attempting token refresh and retry");try{t.config._retry=!0;const{auth:a}=await Qt(async()=>{const{auth:l}=await Promise.resolve().then(()=>bs);return{auth:l}},void 0);if(a.currentUser){const l=await a.currentUser.getIdToken(!0);return localStorage.setItem("firebaseToken",l),t.config.headers.Authorization=`Bearer ${l}`,console.log(" [AUTH] Token refreshed, retrying request"),Z.request(t.config)}}catch(a){console.error(" [AUTH] Token refresh failed:",a)}return console.log(" [AUTH] Token refresh failed or no user, logging out"),localStorage.removeItem("firebaseToken"),localStorage.removeItem("firebaseUser"),window.location.href="/login",Promise.reject(t)}const e=XK(t);return window.dispatchEvent(new CustomEvent("apiError",{detail:{message:e,error:t,status:(s=t.response)==null?void 0:s.status}})),Promise.reject(t)});Z.interceptors.request.use(async t=>{if(L5>Date.now()){const e=new Error("Rate limit active, backing off");throw e.response={status:429,data:{error:"Rate limit active"}},e}return t});const tt={listKeys:()=>Z.get("/admin/keys"),getKey:t=>Z.get(`/admin/keys/${t}`),createKey:t=>Z.post("/admin/keys",t),updateKey:(t,e)=>Z.put(`/admin/keys/${t}`,e),deleteKey:t=>Z.delete(`/admin/keys/${t}`),toggleTestnet:()=>Z.post("/admin/toggle-testnet"),getSchedulerStatus:()=>Z.get("/admin/scheduler/status"),updateSchedulerConfig:t=>Z.post("/admin/scheduler/config",t),forceSchedulerRun:(t,e)=>Z.post("/admin/scheduler/force-run",{symbol:t,mode:e}),getUsers:()=>Z.get("/admin/users"),getUser:t=>Z.get(`/admin/user/${t}`),getUserLogs:(t,e)=>Z.get(`/admin/user/${t}/logs`,{params:{limit:e?Math.min(Math.max(1,e),500):void 0}}),getUserHFTLogs:(t,e)=>Z.get(`/admin/user/${t}/hft/logs`,{params:{limit:e?Math.min(Math.max(1,e),500):void 0}}),stopEngine:t=>Z.post(`/admin/user/${t}/stop-engine`),stopHFT:t=>Z.post(`/admin/user/${t}/stop-hft`),resetRisk:t=>Z.post(`/admin/user/${t}/reset-risk`),reloadKeys:t=>Z.post(`/admin/user/${t}/reload-keys`),unlockAgent:(t,e)=>Z.post(`/admin/user/${t}/unlock-agent`,{agentName:e}),lockAgent:(t,e)=>Z.post(`/admin/user/${t}/lock-agent`,{agentName:e}),getGlobalStats:()=>Z.get("/admin/global-stats"),reloadAllEngines:()=>Z.post("/admin/reload-all-engines"),getAgentStats:()=>Z.get("/admin/agents/stats"),getAgentUsers:t=>Z.get(`/admin/agents/${encodeURIComponent(t)}/users`),updateAgent:(t,e)=>Z.put(`/admin/agents/${t}`,e),createAgent:t=>Z.post("/admin/agents",t),deleteAgent:t=>Z.delete(`/admin/agents/${t}`),toggleAgent:t=>Z.post(`/admin/agents/${t}/toggle`),getUnlockRequests:()=>Z.get("/admin/unlock-requests"),approveUnlockRequest:t=>Z.post(`/admin/unlock-requests/${t}/approve`),denyUnlockRequest:(t,e)=>Z.post(`/admin/unlock-requests/${t}/deny`,{reason:e}),updateUserAgentSettings:(t,e,n)=>Z.put(`/admin/user/${t}/agent/${encodeURIComponent(e)}/settings`,n),getGlobalSettings:()=>Z.get("/admin/global-settings"),updateGlobalSettings:t=>Z.post("/admin/global-settings",t),getMarketData:()=>Z.get("/market/top-coins"),getPurchases:t=>Z.get("/admin/agents/purchases",{params:t}),approvePurchase:t=>Z.post(`/admin/agents/purchases/${t}/approve`),rejectPurchase:(t,e)=>Z.post(`/admin/agents/purchases/${t}/reject`,{reason:e}),broadcastPopup:t=>Z.post("/admin/popup-broadcast",t)},Fa={getStatus:()=>Z.get("/engine/status"),start:t=>Z.post("/engine/start",t),stop:()=>Z.post("/engine/stop"),updateConfig:t=>Z.put("/engine/config",t),pauseRisk:()=>Z.post("/engine/risk/pause"),resumeRisk:()=>Z.post("/engine/risk/resume"),updateRiskLimits:t=>Z.put("/engine/risk/limits",t)},vp={run:t=>Z.post("/research/run",t),getLogs:t=>Z.get("/research/logs",{params:t}),runResearch:t=>Z.post("/research/run",{symbol:t}),deepRun:t=>Z.post("/research/deep-run",t),manual:t=>Z.post("/research/manual",t),manualDeepResearch:()=>Z.get("/research/manual"),manualDeepResearchPost:t=>Z.post("/research/manual",t),queue:t=>Z.post("/research/queue",t),getLive:t=>Z.get(`/research/live/${t}`)},Sl={load:()=>Z.get("/settings/load"),update:t=>Z.post("/settings/update",t)},A_={getLogs:t=>Z.get("/execution/logs",{params:{...t,limit:t!=null&&t.limit?Math.min(Math.max(1,t.limit),500):void 0}}),close:t=>Z.post("/execution/close",t),execute:t=>Z.post("/execution/execute",t)},ii={load:()=>Z.get("/integrations/load"),fetch:()=>Z.get("/integrations/fetch"),status:()=>Z.get("/integrations/status"),submit:t=>Z.post("/integrations/submit",t),update:t=>Z.post("/integrations/update",t),connect:t=>Z.post("/integrations/connect",t),delete:(t,e)=>Z.post("/integrations/delete",{apiName:t,apiType:e})},Pd={getStatus:()=>Z.get("/hft/status"),start:()=>Z.post("/hft/start"),stop:()=>Z.post("/hft/stop"),getLogs:t=>Z.get("/hft/logs",{params:{...t,limit:t!=null&&t.limit?Math.min(Math.max(1,t.limit),500):void 0}}),loadSettings:()=>Z.get("/hft/settings/load"),updateSettings:t=>Z.post("/hft/settings/update",t)},El={getApiStatus:()=>Z.get("/users/api-status"),getAll:()=>Z.get("/users"),get:t=>Z.get(`/users/${t}/details`),getStats:t=>Z.get(`/users/${t}/stats`),create:t=>Z.post("/users/create",t),update:t=>Z.post("/users/update",t)},mr={getAll:()=>Z.get("/agents"),get:t=>Z.get(`/agents/${t}`),unlock:t=>Z.post("/agents/unlock",{agentName:t}),getUnlocks:()=>Z.get("/agents/unlocks"),getUnlocked:()=>Z.get("/agents/unlocked"),submitUnlockRequest:t=>Z.post("/agents/submit-unlock-request",t),updateAgentSettings:(t,e)=>Z.put(`/agents/${t}/settings`,e)},YK=t=>{if(t!==void 0)return Math.min(Math.max(1,t),500)},k_={get:t=>Z.get("/trades",{params:{...t,limit:YK(t==null?void 0:t.limit)}}),add:t=>Z.post("/trades/add",t)},M5={get:()=>Z.get("/global-stats")},$5={get:t=>Z.get("/engine-status/status",{params:t})},to={getStatus:()=>Z.get("/auto-trade/status"),toggle:t=>Z.post("/auto-trade/toggle",{enabled:t}),updateConfig:t=>Z.post("/auto-trade/config",t),queue:t=>Z.post("/auto-trade/queue",t),run:()=>Z.post("/auto-trade/run"),execute:t=>Z.post("/auto-trade/execute",t),resetCircuitBreaker:()=>Z.post("/auto-trade/reset-circuit-breaker"),confirmManual:()=>Z.post("/auto-trade/manual/confirm"),globalToggle:t=>Z.post("/auto-trade/admin/global-toggle",t)},F5={sendMessage:t=>Z.post("/chatbot",t)},U5={getBalances:()=>Z.get("/wallet/balances")},QK=Object.freeze(Object.defineProperty({__proto__:null,adminApi:tt,agentsApi:mr,autoTradeApi:to,chatbotApi:F5,default:Z,engineApi:Fa,engineStatusApi:$5,executionApi:A_,globalStatsApi:M5,hftApi:Pd,integrationsApi:ii,researchApi:vp,settingsApi:Sl,tradesApi:k_,usersApi:El,walletApi:U5},Symbol.toStringTag,{value:"Module"})),B5=E.createContext(void 0);function JK({children:t}){const{user:e}=$e(),[n,r]=E.useState([]),[i,s]=E.useState(!1),a=E.useRef(null),l=E.useRef(new Set),c=E.useCallback(async()=>{var g;if(!e){r([]);return}try{s(!0);const y=await Z.get("/notifications",{params:{limit:50}}),m=Array.isArray(y.data)?y.data:((g=y.data)==null?void 0:g.notifications)||[],x=new Set(m.map(T=>T.id)),w=m.filter(T=>!l.current.has(T.id));l.current=x,r(m);const b=sessionStorage.getItem("justLoggedIn")==="true";b&&sessionStorage.removeItem("justLoggedIn"),w.filter(T=>T.read?!1:T.title==="Login Success"&&!b?(d(T.id).catch(()=>{}),!1):!0).forEach(T=>{window.dispatchEvent(new CustomEvent("newNotification",{detail:T}))})}catch{}finally{s(!1)}},[e]);E.useEffect(()=>(e?(c(),a.current=setInterval(c,1e4)):(r([]),l.current.clear()),()=>{a.current&&clearInterval(a.current)}),[e,c]);const u=E.useCallback(async g=>{var y,m,x,w,b,T;if(e)try{const A={id:((y=(await Z.post("/notifications/push",{uid:e.uid,...g,timestamp:Date.now()})).data)==null?void 0:y.id)||`temp-${Date.now()}`,...g,timestamp:Date.now(),read:!1};r(_=>[A,..._].slice(0,50)),l.current.add(A.id),window.dispatchEvent(new CustomEvent("newNotification",{detail:A})),setTimeout(()=>c(),500)}catch(N){console.error("Error adding notification:",N);const A=((x=(m=N.response)==null?void 0:m.data)==null?void 0:x.message)||((b=(w=N.response)==null?void 0:w.data)==null?void 0:b.error)||N.message||"Failed to send notification";window.dispatchEvent(new CustomEvent("apiError",{detail:{message:`Notification Error: ${A}`,error:N,status:(T=N.response)==null?void 0:T.status}}));const _={id:`temp-${Date.now()}`,...g,timestamp:Date.now(),read:!1};r(S=>[_,...S].slice(0,50))}},[e,c]),d=E.useCallback(async g=>{try{await Z.post("/notifications/mark-read",{notificationId:g}),r(y=>y.map(m=>m.id===g?{...m,read:!0}:m))}catch{r(m=>m.map(x=>x.id===g?{...x,read:!0}:x))}},[]),f=E.useCallback(async()=>{try{await Z.post("/notifications/read-all"),r(g=>g.map(y=>({...y,read:!0})))}catch{r(y=>y.map(m=>({...m,read:!0})))}},[]),p=E.useMemo(()=>n.filter(g=>!g.read).length,[n]),v=E.useMemo(()=>({notifications:n,unreadCount:p,loading:i,addNotification:u,markAsRead:d,markAllAsRead:f,refresh:c}),[n,p,i,u,d,f,c]);return o.jsx(B5.Provider,{value:v,children:t})}function Ac(){const t=E.useContext(B5);if(t===void 0)throw new Error("useNotificationContext must be used within a NotificationProvider");return t}function qi(t){const e=(t==null?void 0:t.code)||"",n=(t==null?void 0:t.message)||"";return e.includes("auth/user-not-found")?{message:"No account found for this email.",type:"auth"}:e.includes("auth/wrong-password")||e.includes("auth/invalid-credential")?{message:"Incorrect password. Try again.",type:"auth"}:e.includes("auth/invalid-email")?{message:"Enter a valid email address.",type:"validation"}:e.includes("auth/email-already-in-use")?{message:"This email is already registered.",type:"auth"}:e.includes("auth/weak-password")?{message:"Password must be strong.",type:"validation"}:e.includes("auth/invalid-phone-number")?{message:"Enter a valid phone number.",type:"validation"}:e.includes("auth/network-request-failed")?{message:"Network issue. Please try again.",type:"network"}:e.includes("auth/too-many-requests")?{message:"Too many requests. Please try again later.",type:"warning"}:e.includes("auth/")?{message:n.replace("Firebase: Error (","").replace(").","").replace("auth/","")||"Authentication error occurred.",type:"auth"}:{message:n||"An error occurred.",type:"api"}}function Nl(t){var s,a,l;const e=(s=t==null?void 0:t.response)==null?void 0:s.status,n=(a=t==null?void 0:t.response)==null?void 0:a.data,r=(n==null?void 0:n.error)||(n==null?void 0:n.message)||(t==null?void 0:t.message)||"An error occurred";if(!t.response||t.code==="ECONNABORTED"||(l=t.message)!=null&&l.includes("timeout"))return{message:"Unable to reach server. Please check your connection.",type:"network"};if(e===401)return{message:"Invalid API credentials.",type:"auth"};if(e===403)return{message:"Access denied. Please check your permissions.",type:"auth"};if(e===404)return{message:"Resource not found.",type:"api"};if(e===429)return{message:"API request limit exceeded. Please try again later.",type:"warning"};if(e===500||e===502||e===503)return{message:"Server error. Please try again later.",type:"critical"};if(r.toLowerCase().includes("api key")||r.toLowerCase().includes("invalid key"))return{message:"API key invalid or expired. Please update your API key in Settings.",type:"auth"};if(r.toLowerCase().includes("credentials")||r.toLowerCase().includes("authentication"))return{message:"API credentials incorrect. Please check your API keys in Settings.",type:"auth"};if(r.toLowerCase().includes("permission")||r.toLowerCase().includes("forbidden"))return{message:"API key does not have required permissions. Please update your API key.",type:"auth"};if(r.toLowerCase().includes("marketaux")||r.toLowerCase().includes("market aux"))return{message:"MarketAux API key invalid or quota exceeded. Update your MarketAux key in Settings.",type:"auth"};if(r.toLowerCase().includes("cryptocompare")||r.toLowerCase().includes("crypto compare"))return{message:"CryptoCompare API key invalid or quota exceeded. Update your CryptoCompare key in Settings.",type:"auth"};if(r.toLowerCase().includes("binance"))return{message:"Binance API temporarily unavailable. Research will continue with alternative data sources.",type:"warning"};if(r.toLowerCase().includes("coingecko")||r.toLowerCase().includes("coin gecko"))return{message:"CoinGecko API temporarily unavailable. Using cached data where available.",type:"warning"};if(r.toLowerCase().includes("google finance")||r.toLowerCase().includes("googlefinance"))return{message:"Google Finance temporarily unavailable. Exchange rates may be delayed.",type:"warning"};if(r.toLowerCase().includes("connection")||r.toLowerCase().includes("timeout"))return{message:"Connection timeout. Please check your internet connection and try again.",type:"network"};if(r.toLowerCase().includes("rate limit")||r.toLowerCase().includes("too many requests"))return{message:"API rate limit exceeded. Please wait a moment and try again.",type:"warning"};if(r.toLowerCase().includes("network")||r.toLowerCase().includes("enotfound"))return{message:"Network error. Please check your internet connection and retry.",type:"network"};let i=r;return i=i.replace(/Firebase: Error \(.*?\)\.?/g,""),i=i.replace(/Error: /g,""),i=i.replace(/auth\//g,""),i=i.trim(),{message:i||"An error occurred",type:"api"}}function ZK(){const[t,e]=E.useState(""),[n,r]=E.useState(""),[i,s]=E.useState(!1),[a,l]=E.useState(null),c=$t(),{showError:u}=kf(),{addNotification:d}=Ac();E.useEffect(()=>{const x=L1(sn,w=>{const b=localStorage.getItem("firebaseToken");(w||b)&&c("/dashboard",{replace:!0})});return()=>x()},[c]);const f=(x,w)=>{l({message:x,type:w}),setTimeout(()=>l(null),3e3)},p=async x=>{try{const w=await x.user.getIdToken();localStorage.setItem("firebaseToken",w),localStorage.setItem("firebaseUser",JSON.stringify({uid:x.user.uid,email:x.user.email}));const b="https://dlxtrade-ws-1.onrender.com",T=b.endsWith("/api")?b:`${b}/api`,N=await fetch(`${T}/auth/afterSignIn`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:w})});if(!N.ok){const P=await N.json();throw new Error(P.error||"Failed to complete sign-in")}const A=await N.json(),S=(await kr(On(pn,"users",x.user.uid))).data(),k=(S==null?void 0:S.onboardingRequired)===!0;yo.connect(),sessionStorage.setItem("justLoggedIn","true"),await d({title:"Login Success",message:`Welcome back! Successfully logged in as ${x.user.email}`,type:"success"});const O=k?"/onboarding":"/dashboard";window.location.href=O}catch(w){const{message:b,type:T}=qi(w);u(b,T),await d({title:"Login Failed",message:b||"Failed to sign in. Please check your credentials.",type:"error"})}},v=async x=>{x.preventDefault(),s(!0);try{const w=await D1(sn,t,n);await p(w)}catch(w){const{message:b,type:T}=qi(w);u(b,T)}finally{s(!1)}},g=async()=>{s(!0);try{const x=new ei,w=await _d(sn,x);await p(w)}catch(x){const{message:w,type:b}=qi(x);u(w,b)}finally{s(!1)}},y=async()=>{s(!0);try{const x=new ti,w=await _d(sn,x);await p(w)}catch(x){const{message:w,type:b}=qi(x);u(w,b)}finally{s(!1)}},m=async()=>{try{if(!t){u("Enter your email to reset password","validation");return}await J4(sn,t),f("Password reset email sent. Check your inbox.","success")}catch(x){const{message:w,type:b}=qi(x);u(w,b)}};return o.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 relative overflow-hidden px-4",children:[o.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),o.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})]}),o.jsxs("div",{className:"relative card max-w-md w-full p-6 sm:p-8 mx-4 z-10",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-center mb-2 bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"DLXTRADE"}),o.jsx("p",{className:"text-center text-gray-400 text-sm mb-6",children:"Welcome back"}),o.jsxs("form",{onSubmit:v,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"Email"}),o.jsx("input",{type:"email",className:"w-full px-4 py-2.5 bg-slate-900/50 backdrop-blur-sm border border-purple-500/30 rounded-lg text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",value:t,onChange:x=>e(x.target.value),required:!0,placeholder:"you@example.com",disabled:i})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"Password"}),o.jsx("input",{type:"password",className:"w-full px-4 py-2.5 bg-slate-900/50 backdrop-blur-sm border border-purple-500/30 rounded-lg text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",value:n,onChange:x=>r(x.target.value),required:!0,placeholder:"",disabled:i})]}),o.jsx("button",{type:"button",onClick:m,className:"w-full text-sm text-purple-300 hover:text-purple-200 transition-colors text-right",disabled:i,children:"Forgot Password?"}),o.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:i,children:i?"Logging in...":"Login"})]}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-purple-500/20"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-slate-800/50 text-gray-400",children:"Or continue with"})})]}),o.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[o.jsxs("button",{type:"button",onClick:g,disabled:i,className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-slate-900/50 border border-purple-500/30 rounded-lg text-gray-300 hover:bg-slate-800/50 hover:border-purple-500/50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),o.jsx("span",{className:"text-sm font-medium",children:"Google"})]}),o.jsxs("button",{type:"button",onClick:y,disabled:i,className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-slate-900/50 border border-purple-500/30 rounded-lg text-gray-300 hover:bg-slate-800/50 hover:border-purple-500/50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),o.jsx("span",{className:"text-sm font-medium",children:"GitHub"})]})]})]}),o.jsxs("p",{className:"mt-6 text-sm text-gray-400 text-center",children:["Don't have an account?"," ",o.jsx(xi,{to:"/signup",className:"text-purple-400 hover:text-purple-300 transition-colors font-medium",children:"Sign Up"})]})]}),a&&o.jsx(bt,{message:a.message,type:a.type})]})}function eG(){const[t,e]=E.useState(""),[n,r]=E.useState(""),[i,s]=E.useState(""),[a,l]=E.useState(""),[c,u]=E.useState(""),[d,f]=E.useState(!1),[p,v]=E.useState(null),g=$t(),{showError:y}=kf(),m=A=>/^[+]?[(]?[0-9]{1,4}[)]?[-\s.]?[(]?[0-9]{1,4}[)]?[-\s.]?[0-9]{1,9}$/.test(A.replace(/\s/g,"")),x=A=>A.length<6?"Password must be at least 6 characters":/(?=.*[a-z])/.test(A)?/(?=.*[A-Z])/.test(A)?/(?=.*[0-9])/.test(A)?null:"Password must contain at least one number":"Password must contain at least one uppercase letter":"Password must contain at least one lowercase letter",w=async(A,_)=>{try{t&&await eO(A.user,{displayName:t});const S=await A.user.getIdToken();localStorage.setItem("firebaseToken",S),localStorage.setItem("firebaseUser",JSON.stringify({uid:A.user.uid,email:A.user.email}));const k="https://dlxtrade-ws-1.onrender.com",O=k.endsWith("/api")?k:`${k}/api`;if(_)try{await On(pn,"users",A.user.uid).set({phone:_},{merge:!0})}catch(C){}const P=await fetch(`${O}/auth/afterSignIn`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:S})});if(!P.ok){const C=await P.json();throw new Error(C.error||"Failed to complete sign-up")}const R=await P.json();g("/onboarding")}catch(S){const{message:k,type:O}=qi(S);y(k,O)}},b=async A=>{if(A.preventDefault(),!t||t.length<2){y("Full name must be at least 2 characters","validation");return}if(!n||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)){y("Enter a valid email address","validation");return}if(!i||!m(i)){y("Enter a valid phone number","validation");return}if(a!==c){y("Passwords do not match","validation");return}const _=x(a);if(_){y(_,"validation");return}f(!0);try{const S=await Z4(sn,n,a);await w(S,i)}catch(S){const{message:k,type:O}=qi(S);y(k,O)}finally{f(!1)}},T=async()=>{f(!0);try{const A=new ei,_=await _d(sn,A);await w(_)}catch(A){const{message:_,type:S}=qi(A);y(_,S)}finally{f(!1)}},N=async()=>{f(!0);try{const A=new ti,_=await _d(sn,A);await w(_)}catch(A){const{message:_,type:S}=qi(A);y(_,S)}finally{f(!1)}};return o.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 relative overflow-hidden px-4 py-8",children:[o.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),o.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})]}),o.jsxs("div",{className:"relative card max-w-md w-full p-6 sm:p-8 mx-4 z-10",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-center mb-2 bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"DLXTRADE"}),o.jsx("h2",{className:"text-xl font-semibold text-center mb-6 text-gray-300",children:"Create Account"}),o.jsxs("form",{onSubmit:b,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:["Full Name ",o.jsx("span",{className:"text-red-400",children:"*"})]}),o.jsx("input",{type:"text",className:"w-full px-4 py-2.5 bg-slate-900/50 backdrop-blur-sm border border-purple-500/30 rounded-lg text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",value:t,onChange:A=>e(A.target.value),required:!0,minLength:2,placeholder:"e.g., Jane Doe",disabled:d})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:["Email Address ",o.jsx("span",{className:"text-red-400",children:"*"})]}),o.jsx("input",{type:"email",className:"w-full px-4 py-2.5 bg-slate-900/50 backdrop-blur-sm border border-purple-500/30 rounded-lg text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",value:n,onChange:A=>r(A.target.value),required:!0,placeholder:"you@example.com",disabled:d})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:["Phone Number ",o.jsx("span",{className:"text-red-400",children:"*"})]}),o.jsx("input",{type:"tel",className:"w-full px-4 py-2.5 bg-slate-900/50 backdrop-blur-sm border border-purple-500/30 rounded-lg text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",value:i,onChange:A=>s(A.target.value),required:!0,placeholder:"+1 234 567 8900",disabled:d}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Include country code (e.g., +1 for US)"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:["Password ",o.jsx("span",{className:"text-red-400",children:"*"})]}),o.jsx("input",{type:"password",className:"w-full px-4 py-2.5 bg-slate-900/50 backdrop-blur-sm border border-purple-500/30 rounded-lg text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",value:a,onChange:A=>l(A.target.value),required:!0,minLength:6,placeholder:"",disabled:d}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"At least 6 characters with uppercase, lowercase, and number"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:["Confirm Password ",o.jsx("span",{className:"text-red-400",children:"*"})]}),o.jsx("input",{type:"password",className:"w-full px-4 py-2.5 bg-slate-900/50 backdrop-blur-sm border border-purple-500/30 rounded-lg text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",value:c,onChange:A=>u(A.target.value),required:!0,minLength:6,placeholder:"",disabled:d})]}),o.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:d,children:d?"Creating account...":"Sign Up"})]}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-purple-500/20"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-slate-800/50 text-gray-400",children:"Or sign up with"})})]}),o.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[o.jsxs("button",{type:"button",onClick:T,disabled:d,className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-slate-900/50 border border-purple-500/30 rounded-lg text-gray-300 hover:bg-slate-800/50 hover:border-purple-500/50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),o.jsx("span",{className:"text-sm font-medium",children:"Google"})]}),o.jsxs("button",{type:"button",onClick:N,disabled:d,className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-slate-900/50 border border-purple-500/30 rounded-lg text-gray-300 hover:bg-slate-800/50 hover:border-purple-500/50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),o.jsx("span",{className:"text-sm font-medium",children:"GitHub"})]})]})]}),o.jsxs("p",{className:"mt-6 text-sm text-gray-400 text-center",children:["Already have an account?"," ",o.jsx(xi,{to:"/login",className:"text-purple-400 hover:text-purple-300 transition-colors font-medium",children:"Login"})]})]}),p&&o.jsx(bt,{message:p.message,type:p.type})]})}function P_(){const{user:t}=$e(),[e,n]=E.useState([]),[r,i]=E.useState(!0),[s,a]=E.useState(null);E.useEffect(()=>{if(t){l();const c=setInterval(l,3e4);return()=>clearInterval(c)}else n([]),i(!1)},[t]);const l=async()=>{var c,u;if(t){i(!0),a(null);try{const f=(await mr.getUnlocked()).data.unlocked||[],v=(await mr.getAll()).data.agents||[],y=(await mr.getUnlocks()).data.unlocks||[],m=f.map(x=>{const w=v.find(T=>T.id===x||T.name===x),b=y.find(T=>T.agentId===x||T.agentName===x);return{agentId:x,agentName:(b==null?void 0:b.agentName)||(w==null?void 0:w.name)||x,unlockedAt:(b==null?void 0:b.unlockedAt)||new Date().toISOString(),status:(b==null?void 0:b.status)||"active",settings:(b==null?void 0:b.settings)||{},agent:w||null}});n(m)}catch(d){console.error("Error loading unlocked agents:",d),a(((u=(c=d.response)==null?void 0:c.data)==null?void 0:u.error)||"Failed to load unlocked agents"),n([])}finally{i(!1)}}};return{unlockedAgents:e,loading:r,error:s,refresh:l}}const V5=E.createContext(void 0);function tG({children:t}){const[e,n]=E.useState(!1);return o.jsx(V5.Provider,{value:{isOpen:e,setIsOpen:n},children:t})}function I_(){const t=E.useContext(V5);if(t===void 0)throw new Error("useChatbot must be used within a ChatbotProvider");return t}const nG=async()=>{const{signOut:t}=await Qt(async()=>{const{signOut:n}=await Promise.resolve().then(()=>ba);return{signOut:n}},void 0),{auth:e}=await Qt(async()=>{const{auth:n}=await Promise.resolve().then(()=>bs);return{auth:n}},void 0);await t(e),localStorage.removeItem("firebaseToken"),localStorage.removeItem("firebaseUser"),window.location.href="/login"},Wr={Dashboard:()=>o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),Agents:()=>o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),Agent:()=>o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),Research:()=>o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),Settings:()=>o.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),AutoTrade:()=>o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),Profile:()=>o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Admin:()=>o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),Users:()=>o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),Logout:()=>o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})};function $r({onLogout:t,onMenuToggle:e}){const[n,r]=E.useState(!1),[i,s]=E.useState(!1),a=To(),{user:l}=$e(),{unlockedAgents:c}=P_(),{isOpen:u}=I_();E.useEffect(()=>{e&&e(n)},[n,e]),E.useEffect(()=>{l&&(async()=>{if(!l){s(!1);return}try{const y=await kr(On(pn,"users",l.uid));if(y.exists()){const m=y.data();s(m.role==="admin"||m.isAdmin===!0)}else s(!1)}catch(y){console.error("Error checking admin role:",y),s(!1)}})()},[l]);const d=[{path:"/dashboard",label:"Dashboard",Icon:Wr.Dashboard},{path:"/agents",label:"Agents Marketplace",Icon:Wr.Agents},{path:"/research",label:"Research",Icon:Wr.Research},{path:"/auto-trade",label:"Auto-Trade",Icon:Wr.AutoTrade},{path:"/settings",label:"Settings",Icon:Wr.Settings},{path:"/profile",label:"Profile",Icon:Wr.Profile}],f=[{path:"/admin",label:"Admin Dashboard",Icon:Wr.Admin},{path:"/admin/users",label:"All Users",Icon:Wr.Users},{path:"/admin/agents",label:"Agents Manager",Icon:Wr.Agents}],p=g=>g==="/dashboard"?a.pathname==="/dashboard":a.pathname.startsWith(g),v=()=>{r(!n)};return E.useEffect(()=>(window.__sidebarToggle=v,window.__sidebarOpen=n,()=>{delete window.__sidebarToggle,delete window.__sidebarOpen}),[n]),u?null:o.jsxs(o.Fragment,{children:[n&&o.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/70 backdrop-blur-md z-[90] transition-opacity duration-300 ease-out",onClick:()=>r(!1)}),o.jsxs("aside",{className:`
          fixed top-0 left-0 h-full w-full bg-slate-900/95 backdrop-blur-2xl border-r border-cyan-500/20 shadow-2xl z-[95]
          transform transition-transform duration-300 ease-out
          ${n?"translate-x-0":"-translate-x-full"}
          lg:hidden
        `,style:{background:"linear-gradient(180deg, rgba(15, 23, 42, 0.95) 0%, rgba(30, 41, 59, 0.95) 100%)",boxShadow:"inset -1px 0 0 rgba(6, 182, 212, 0.1), 0 0 40px rgba(0, 0, 0, 0.5)"},children:[o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx("div",{className:"px-6 py-6 border-b border-cyan-500/10",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(xi,{to:"/",onClick:()=>r(!1),className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 bg-clip-text text-transparent hover:opacity-80 transition-opacity",children:"Trading Agent"}),o.jsx("button",{onClick:()=>r(!1),className:"lg:hidden p-1.5 text-gray-400 hover:text-cyan-400 transition-colors rounded-lg hover:bg-cyan-500/10","aria-label":"Close menu",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto custom-scrollbar",children:[o.jsx("div",{className:"hidden lg:block px-3 mb-4 pt-3",children:o.jsxs("div",{className:"text-xs font-semibold text-cyan-400/75 uppercase tracking-widest relative",children:[o.jsx("span",{className:"relative z-10",children:"MENU"}),o.jsx("span",{className:"absolute inset-0 text-cyan-400/20 blur-sm",children:"MENU"})]})}),d.map(g=>{const y=p(g.path),m=g.Icon;return o.jsxs(xi,{to:g.path,onClick:()=>r(!1),className:`
                    group relative flex items-center space-x-3 px-4 py-3 lg:px-3 lg:py-2 rounded-xl transition-all duration-200
                    ${y?"text-cyan-400 bg-cyan-500/10 border-l-2 border-cyan-400":"text-gray-400 hover:text-cyan-300 hover:bg-cyan-500/5 border-l-2 border-transparent"}
                  `,children:[y&&o.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-0.5 h-8 bg-gradient-to-b from-cyan-400 to-blue-400 rounded-r-full shadow-lg shadow-cyan-400/50"}),o.jsx("div",{className:`
                      absolute inset-0 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-200
                      ${y?"bg-cyan-500/5":"bg-[rgba(0,255,255,0.08)]"}
                    `}),o.jsx("div",{className:`
                    relative z-10 flex-shrink-0 transition-colors
                    ${y?"text-cyan-400":"text-gray-500 group-hover:text-cyan-400"}
                  `,children:o.jsx("div",{className:"w-6 h-6 lg:w-5 lg:h-5",children:o.jsx(m,{})})}),o.jsx("span",{className:`
                    relative z-10 font-medium text-base lg:text-sm tracking-wide
                    ${y?"text-cyan-400":"text-gray-400 group-hover:text-cyan-300"}
                  `,children:g.label})]},g.path)}),c.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"my-4 px-3",children:o.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-purple-500/20 to-transparent"})}),o.jsx("div",{className:"px-3 mb-2",children:o.jsx("div",{className:"text-xs font-semibold text-purple-400/60 uppercase tracking-wider",children:"Premium Agents"})}),c.map(g=>{var x;const y=`/agent/${encodeURIComponent(g.agentId)}`,m=p(y);return o.jsxs(xi,{to:y,onClick:()=>r(!1),className:`
                        group relative flex items-center space-x-3 px-4 py-3 lg:px-3 lg:py-2 rounded-xl transition-all duration-200
                        ${m?"text-purple-400 bg-purple-500/10 border-l-2 border-purple-400":"text-gray-400 hover:text-purple-300 hover:bg-purple-500/5 border-l-2 border-transparent"}
                      `,children:[m&&o.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-0.5 h-8 bg-gradient-to-b from-purple-400 to-pink-400 rounded-r-full shadow-lg shadow-purple-400/50"}),o.jsx("div",{className:`
                          absolute inset-0 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-200
                          ${m?"bg-purple-500/5":"bg-[rgba(168,85,247,0.08)]"}
                        `}),o.jsx("div",{className:`
                        relative z-10 flex-shrink-0 transition-colors
                        ${m?"text-purple-400":"text-gray-500 group-hover:text-purple-400"}
                      `,children:o.jsx("div",{className:"w-6 h-6 lg:w-5 lg:h-5",children:o.jsx(Wr.Agent,{})})}),o.jsx("span",{className:`
                        relative z-10 font-medium text-base lg:text-sm tracking-wide
                        ${m?"text-purple-400":"text-gray-400 group-hover:text-purple-300"}
                      `,children:((x=g.agent)==null?void 0:x.name)||g.agentName})]},g.agentId)})]}),i&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"my-4 px-3",children:o.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-cyan-500/20 to-transparent"})}),o.jsx("div",{className:"px-3 mb-2",children:o.jsx("div",{className:"text-xs font-semibold text-cyan-500/60 uppercase tracking-wider",children:"Admin"})}),f.map(g=>{const y=p(g.path),m=g.Icon;return o.jsxs(xi,{to:g.path,onClick:()=>r(!1),className:`
                        group relative flex items-center space-x-3 px-4 py-3 lg:px-3 lg:py-2 rounded-xl transition-all duration-200
                        ${y?"text-cyan-400 bg-cyan-500/10 border-l-2 border-cyan-400":"text-gray-400 hover:text-cyan-300 hover:bg-cyan-500/5 border-l-2 border-transparent"}
                      `,children:[y&&o.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-0.5 h-8 bg-gradient-to-b from-cyan-400 to-blue-400 rounded-r-full shadow-lg shadow-cyan-400/50"}),o.jsx("div",{className:`
                          absolute inset-0 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-200
                          ${y?"bg-cyan-500/5":"bg-[rgba(0,255,255,0.08)]"}
                        `}),o.jsx("div",{className:`
                        relative z-10 flex-shrink-0 transition-colors
                        ${y?"text-cyan-400":"text-gray-500 group-hover:text-cyan-400"}
                      `,children:o.jsx("div",{className:"w-6 h-6 lg:w-5 lg:h-5",children:o.jsx(m,{})})}),o.jsx("span",{className:`
                        relative z-10 font-medium text-base lg:text-sm tracking-wide
                        ${y?"text-cyan-400":"text-gray-400 group-hover:text-cyan-300"}
                      `,children:g.label})]},g.path)})]})]}),o.jsx("div",{className:"px-3 py-4 border-t border-cyan-500/10",children:o.jsxs("button",{onClick:async()=>{r(!1),t?t():await nG()},className:"w-full flex items-center justify-center space-x-2 px-4 py-2.5 text-sm font-medium text-gray-400 hover:text-red-400 bg-slate-800/50 hover:bg-red-500/10 border border-slate-700/50 hover:border-red-500/30 rounded-xl transition-all duration-200 group",children:[o.jsx("div",{className:"text-gray-500 group-hover:text-red-400 transition-colors",children:o.jsx(Wr.Logout,{})}),o.jsx("span",{children:"Logout"})]})})]}),o.jsx("style",{children:`
          .custom-scrollbar::-webkit-scrollbar {
            width: 4px;
          }
          .custom-scrollbar::-webkit-scrollbar-track {
            background: transparent;
          }
          .custom-scrollbar::-webkit-scrollbar-thumb {
            background: rgba(6, 182, 212, 0.3);
            border-radius: 2px;
          }
          .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: rgba(6, 182, 212, 0.5);
          }
        `})]})]})}function z5(){const{user:t}=$e(),[e,n]=E.useState(!1),[r,i]=E.useState(!1),[s,a]=E.useState({cryptocompare:{enabled:!1,apiKey:null},marketaux:{enabled:!1,apiKey:null},coinapi:{market:{enabled:!1,apiKey:null},flatfile:{enabled:!1,apiKey:null},exchangerate:{enabled:!1,apiKey:null}}}),[l,c]=E.useState(!1),[u,d]=E.useState(!1),f=E.useCallback(async()=>{var b,T;if(t)try{const N=await to.getStatus();n(((b=N.data)==null?void 0:b.autoTradeEnabled)||!1),i(((T=N.data)==null?void 0:T.isApiConnected)||!1)}catch{}},[t]),p=E.useCallback(async()=>{if(t)try{const T=(await ii.load()).data||{},N={cryptocompare:T.cryptocompare||{enabled:!1,apiKey:null},marketaux:T.marketaux||{enabled:!1,apiKey:null}};a(N)}catch{}},[t]),v=E.useCallback(()=>{const b=[];return(!s.cryptocompare||!s.cryptocompare.apiKey||!s.cryptocompare.enabled)&&b.push("cryptocompare"),(!s.marketaux||!s.marketaux.apiKey||!s.marketaux.enabled)&&b.push("marketaux"),{allConnected:b.length===0,missing:b}},[s]),g=E.useCallback(async()=>{await Promise.all([f(),p()])},[f,p]);E.useEffect(()=>{if(t){g();const b=setInterval(g,6e4);return()=>clearInterval(b)}},[t,g]);const y=E.useCallback(async()=>{if(t){if(!e){if(d(!0),!r)throw d(!1),new Error("Exchange API not connected. Please connect your exchange API first.");const{allConnected:b,missing:T}=v();if(!b){const N=T.map(A=>A.charAt(0).toUpperCase()+A.slice(1)).join(", ");throw d(!1),new Error(`Please submit all required APIs to enable Auto-Trade Mode. Missing: ${N}`)}}d(!1),c(!0);try{const b=!e;await to.toggle(b),n(b),await f()}catch(b){throw b}finally{c(!1)}}},[t,e,r,v,f]),{allConnected:m,missing:x}=v();return{enabled:e,isApiConnected:r,allRequiredAPIsConnected:m,missingAPIs:x,loading:l,checking:u,toggle:y,canEnable:r&&m,refresh:g}}function rG({onStatusChange:t}){const{enabled:e,isApiConnected:n,allRequiredAPIsConnected:r,loading:i,checking:s,toggle:a,canEnable:l}=z5(),[c,u]=E.useState(null),d=async()=>{var f,p;try{await a();const v=!e;t==null||t(v),u({message:v?"Auto-Trade Mode enabled. Agent will execute trades when accuracy > 75%.":"Auto-Trade Mode disabled.",type:"success"})}catch(v){const g=v.message||((p=(f=v.response)==null?void 0:f.data)==null?void 0:p.error)||"Failed to toggle Auto-Trade Mode";u({message:g,type:"error"})}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-black/30 backdrop-blur-xl border border-purple-500/30 rounded-xl p-4 shadow-lg shadow-purple-500/10 hover:shadow-purple-500/15 transition-all duration-300 overflow-hidden",children:[o.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-cyan-400 bg-clip-text text-transparent mb-1",children:"Enable Auto-Trade Mode"}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-400",children:"Agent will run research every cycle and execute trades when accuracy > 75%"})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[o.jsxs("div",{className:`p-3 rounded-xl border ${n?"bg-green-500/10 border-green-400/30":"bg-red-500/10 border-red-400/30"}`,children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Exchange API"}),o.jsx("div",{className:`text-sm font-semibold ${n?"text-green-400":"text-red-400"}`,children:n?"Connected":"Not Connected"})]}),o.jsxs("div",{className:`p-3 rounded-xl border ${r?"bg-green-500/10 border-green-400/30":"bg-yellow-500/10 border-yellow-400/30"}`,children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Required APIs"}),o.jsx("div",{className:`text-sm font-semibold ${r?"text-green-400":"text-yellow-400"}`,children:r?"All Connected":"Missing APIs"})]}),o.jsxs("div",{className:"p-3 rounded-xl border border-purple-500/20 bg-black/40",children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Mode Status"}),o.jsx("div",{className:`text-sm font-semibold ${e?"text-green-400":"text-gray-400"}`,children:e?"Enabled":"Disabled"})]}),o.jsxs("div",{className:"p-3 rounded-xl border border-purple-500/20 bg-black/40",children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Accuracy Threshold"}),o.jsx("div",{className:"text-sm font-semibold text-purple-400",children:"> 75%"})]})]}),o.jsx("button",{onClick:d,disabled:i||s||!e&&!l,className:`w-full px-6 py-4 rounded-xl font-semibold text-lg transition-all duration-300 shadow-lg ${e?"bg-gradient-to-r from-red-600 to-rose-600 hover:from-red-500 hover:to-rose-500 text-white":l?"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 text-white":"bg-gray-600/50 text-gray-400 cursor-not-allowed"} disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3`,children:i||s?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),s?"Checking...":"Updating..."]}):e?o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Disable Auto-Trade Mode"]}):o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Enable Auto-Trade Mode"]})}),!l&&!e&&o.jsx("p",{className:"text-xs text-yellow-400 text-center",children:"Connect exchange API and all required APIs (CryptoCompare, MarketAux, CoinAPI) to enable"})]})]}),c&&o.jsx(bt,{message:c.message,type:c.type})]})}function iG(){const{user:t}=$e(),[e,n]=E.useState([]),[r,i]=E.useState(!1),s=E.useCallback(async()=>{var a;if(t){i(!0);try{const c=((a=(await k_.get({uid:t.uid,limit:100})).data)==null?void 0:a.trades)||[],u=new Date().toISOString().split("T")[0],d=c.filter(f=>(f.timestamp?new Date(f.timestamp).toISOString().split("T")[0]:"")===u).sort((f,p)=>{const v=new Date(f.timestamp||0).getTime();return new Date(p.timestamp||0).getTime()-v}).slice(0,10);n(d)}catch{}finally{i(!1)}}},[t]);return E.useEffect(()=>{if(t){s();const a=setInterval(s,6e4);return()=>clearInterval(a)}},[t,s]),o.jsxs("div",{className:"bg-black/30 backdrop-blur-xl border border-purple-500/30 rounded-xl p-4 shadow-lg shadow-purple-500/10 hover:shadow-purple-500/15 transition-all duration-300 overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-cyan-400 bg-clip-text text-transparent mb-1",children:"Recent Trades"}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-400",children:"Today's executed trades by agent"})]}),o.jsx("button",{onClick:s,disabled:r,className:"px-4 py-2 text-xs sm:text-sm bg-black/40 backdrop-blur-sm border border-purple-500/40 text-gray-200 rounded-xl hover:bg-purple-500/20 hover:border-purple-400/60 transition-all duration-300 disabled:opacity-50 flex items-center justify-center gap-2",children:r?o.jsx("span",{className:"w-3 h-3 border-2 border-purple-400/30 border-t-purple-400 rounded-full animate-spin"}):o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),r&&e.length===0?o.jsx("div",{className:"space-y-3",children:[1,2,3].map(a=>o.jsx("div",{className:"h-16 bg-gray-700/30 rounded-lg animate-pulse"},a))}):e.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-500/10 flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),o.jsx("p",{className:"text-gray-400 text-sm",children:"No trades executed today"})]}):o.jsx("div",{className:"space-y-3",children:e.map(a=>{var l,c;return o.jsx("div",{className:"relative bg-black/40 backdrop-blur-sm border border-purple-500/30 rounded-xl p-4 hover:border-purple-400/50 transition-all duration-300 overflow-hidden group",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[o.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center font-bold text-sm ${a.side==="BUY"||a.side==="buy"?"bg-green-500/20 text-green-400 border border-green-400/30":"bg-red-500/20 text-red-400 border border-red-400/30"}`,children:a.side==="BUY"||a.side==="buy"?"BUY":"SELL"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"text-lg font-bold text-white",children:a.symbol||"N/A"}),a.strategy&&o.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-purple-500/20 text-purple-300 border border-purple-400/30",children:a.strategy})]}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-400",children:[o.jsxs("span",{children:["Price: ",o.jsxs("span",{className:"text-white font-medium",children:["$",((l=a.price)==null?void 0:l.toFixed(2))||"N/A"]})]}),o.jsxs("span",{children:["Size: ",o.jsx("span",{className:"text-white font-medium",children:((c=a.size)==null?void 0:c.toFixed(4))||"N/A"})]}),o.jsx("span",{className:"text-gray-500 font-mono",children:a.timestamp?new Date(a.timestamp).toLocaleTimeString():"N/A"})]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:`text-lg font-bold ${(a.pnl||0)>=0?"text-green-400":"text-red-400"}`,children:["$",(a.pnl||0).toFixed(2)]}),o.jsx("div",{className:"text-xs text-gray-400",children:"P/L"})]})]})},a.id||a.timestamp)})})]})}function sG(){const[t,e]=E.useState([]),[n,r]=E.useState(!1),i=E.useCallback(async()=>{r(!0);try{const l=((await Z.get("/market/top-coins")).data||[]).map(c=>({symbol:c.symbol||"",price:parseFloat(c.price||0),priceChange24h:parseFloat(c.percent_change_24h||0),volume24h:parseFloat(c.volume_24h||0),pumpPercent:parseFloat(c.percent_change_24h||0)})).sort((c,u)=>u.pumpPercent-c.pumpPercent).slice(0,5);e(l)}catch{e([])}finally{r(!1)}},[]);return E.useEffect(()=>{i()},[i]),o.jsxs("div",{className:"bg-black/30 backdrop-blur-sm border border-white/20 rounded-xl p-4 shadow-md shadow-purple-500/10 hover:shadow-purple-500/20 transition-all duration-300 overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-cyan-400 bg-clip-text text-transparent mb-1",children:"Market Scanner"}),o.jsxs("p",{className:"text-xs sm:text-sm text-gray-400 flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"Top 5 Gainers (24h)"]})]}),o.jsx("button",{onClick:i,disabled:n,className:"px-4 py-2 text-xs sm:text-sm bg-black/40 backdrop-blur-sm border border-purple-500/40 text-gray-200 rounded-xl hover:bg-purple-500/20 hover:border-purple-400/60 transition-all duration-300 disabled:opacity-50 flex items-center justify-center gap-2 transform hover:scale-105 active:scale-95",children:n?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"w-3 h-3 border-2 border-purple-400/30 border-t-purple-400 rounded-full animate-spin"}),"Loading..."]}):o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})})]}),n&&t.length===0?o.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(s=>o.jsx("div",{className:"h-16 bg-gray-700/30 rounded-lg animate-pulse"},s))}):t.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-400 text-sm",children:"No market data available"})}):o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"hidden md:grid grid-cols-5 gap-4 px-4 py-3 bg-black/40 rounded-lg border border-purple-500/20 mb-2",children:[o.jsx("div",{className:"text-xs font-bold text-purple-300 uppercase tracking-wider",children:"#"}),o.jsx("div",{className:"text-xs font-bold text-purple-300 uppercase tracking-wider",children:"Symbol"}),o.jsx("div",{className:"text-xs font-bold text-purple-300 uppercase tracking-wider text-right",children:"Price"}),o.jsx("div",{className:"text-xs font-bold text-purple-300 uppercase tracking-wider text-right",children:"24h %"}),o.jsx("div",{className:"text-xs font-bold text-purple-300 uppercase tracking-wider text-right",children:"Volume"})]}),t.map((s,a)=>o.jsxs("div",{className:"relative bg-gradient-to-r from-black/50 to-black/30 backdrop-blur-sm border border-purple-500/30 rounded-lg p-3 md:p-4 hover:border-purple-400/60 hover:from-purple-500/10 hover:to-black/40 transition-all duration-300 overflow-hidden group cursor-pointer",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 md:gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3 md:gap-4 flex-1",children:[o.jsx("div",{className:"flex items-center justify-center w-8 h-8 md:w-10 md:h-10 rounded-lg bg-gradient-to-br from-purple-500/30 to-pink-500/30 text-purple-300 font-bold text-xs md:text-sm border border-purple-400/40",children:a+1}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"flex items-center gap-2 mb-1",children:o.jsx("span",{className:"text-base md:text-lg font-bold text-white truncate",children:s.symbol})}),o.jsxs("div",{className:"md:hidden flex items-center gap-3 text-xs text-gray-400",children:[o.jsxs("span",{children:["$",s.price.toFixed(2)]}),o.jsxs("span",{className:`font-semibold ${s.pumpPercent>=0?"text-green-400":"text-red-400"}`,children:[s.pumpPercent>=0?"+":"",s.pumpPercent.toFixed(2),"%"]})]})]})]}),o.jsxs("div",{className:"hidden md:grid md:grid-cols-4 gap-4 flex-1",children:[o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-sm font-bold text-white",children:["$",s.price.toFixed(2)]}),o.jsx("div",{className:"text-xs text-gray-400",children:"Price"})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:`text-sm font-bold ${s.pumpPercent>=0?"text-green-400":"text-red-400"}`,children:[s.pumpPercent>=0?"+":"",s.pumpPercent.toFixed(2),"%"]}),o.jsx("div",{className:"text-xs text-gray-400",children:"24h Change"})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-sm font-bold text-white",children:["$",(s.volume24h/1e6).toFixed(1),"M"]}),o.jsx("div",{className:"text-xs text-gray-400",children:"24h Volume"})]}),o.jsx("div",{className:"text-right",children:o.jsxs("div",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-semibold ${s.pumpPercent>=0?"bg-green-500/20 text-green-300 border border-green-400/30":"bg-red-500/20 text-red-300 border border-red-400/30"}`,children:[s.pumpPercent>=0?"":""," ",Math.abs(s.pumpPercent).toFixed(2),"%"]})})]})]}),o.jsx("div",{className:"md:hidden mt-2 pt-2 border-t border-purple-500/20",children:o.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-400",children:"Volume"}),o.jsxs("div",{className:"text-white font-semibold",children:["$",(s.volume24h/1e6).toFixed(1),"M"]})]})})})]},s.symbol))]})]})}const C_=({className:t="w-12 h-12"})=>o.jsx("svg",{viewBox:"0 0 1024 1024",className:t,fill:"currentColor",children:o.jsx("path",{fill:"#F3BA2F",d:"M512 64L335.6 240.4l-63.6-63.6L512 0l240 240-240 176L512 64zm176 176l176 176-176 176L512 512l-64-64-64 64-176-176 176-176L512 448l64-64 64 64 176-176zm0 640l64 64-64 64-176-176L512 960l-176-176-64 64-64-64 240-176 176 176z"})}),O_=({className:t="w-12 h-12"})=>o.jsxs("svg",{viewBox:"0 0 200 200",className:t,fill:"currentColor",children:[o.jsx("path",{fill:"#F8B500",d:"M100 0C44.8 0 0 44.8 0 100s44.8 100 100 100 100-44.8 100-100S155.2 0 100 0zm0 180c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}),o.jsx("path",{fill:"#F8B500",d:"M100 40c-33.1 0-60 26.9-60 60s26.9 60 60 60 60-26.9 60-60-26.9-60-60-60zm0 100c-22.1 0-40-17.9-40-40s17.9-40 40-40 40 17.9 40 40-17.9 40-40 40z"})]}),R_=({className:t="w-12 h-12"})=>o.jsxs("svg",{viewBox:"0 0 200 200",className:t,fill:"currentColor",children:[o.jsx("path",{fill:"#1E9EFF",d:"M100 0L0 50v100l100 50 100-50V50L100 0zm0 30l70 35v70l-70 35-70-35V65l70-35z"}),o.jsx("path",{fill:"#1E9EFF",d:"M100 50L50 75v50l50 25 50-25V75l-50-25z"})]}),D_=({className:t="w-12 h-12"})=>o.jsxs("svg",{viewBox:"0 0 200 200",className:t,fill:"currentColor",children:[o.jsx("rect",{fill:"#000",width:"200",height:"200",rx:"20"}),o.jsx("path",{fill:"#fff",d:"M100 40L60 60v80l40 20 40-20V60l-40-20zm0 20l30 15v50l-30 15-30-15V75l30-15z"})]}),q5=({className:t="w-12 h-12"})=>o.jsxs("svg",{viewBox:"0 0 200 200",className:t,fill:"currentColor",children:[o.jsx("circle",{fill:"#0052FF",cx:"100",cy:"100",r:"90"}),o.jsx("path",{fill:"#fff",d:"M100 50c27.6 0 50 22.4 50 50s-22.4 50-50 50-50-22.4-50-50 22.4-50 50-50zm0 20c-16.6 0-30 13.4-30 30s13.4 30 30 30 30-13.4 30-30-13.4-30-30-30z"})]}),L_=({className:t="w-12 h-12"})=>o.jsxs("svg",{viewBox:"0 0 200 200",className:t,fill:"currentColor",children:[o.jsx("path",{fill:"#00D7AA",d:"M100 0L0 50v100l100 50 100-50V50L100 0zm0 20l80 40v80l-80 40-80-40V60l80-40z"}),o.jsx("path",{fill:"#00D7AA",d:"M100 60L60 80v40l40 20 40-20V80l-40-20z"})]}),W5=({className:t="w-12 h-12"})=>o.jsxs("svg",{viewBox:"0 0 200 200",className:t,fill:"currentColor",children:[o.jsx("path",{fill:"#584FBB",d:"M100 0C44.8 0 0 44.8 0 100s44.8 100 100 100 100-44.8 100-100S155.2 0 100 0zm0 180c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}),o.jsx("path",{fill:"#584FBB",d:"M100 40c-33.1 0-60 26.9-60 60s26.9 60 60 60 60-26.9 60-60-26.9-60-60-60zm0 100c-22.1 0-40-17.9-40-40s17.9-40 40-40 40 17.9 40 40-17.9 40-40 40z"})]}),H5=({className:t="w-12 h-12"})=>o.jsxs("svg",{viewBox:"0 0 200 200",className:t,fill:"currentColor",children:[o.jsx("rect",{fill:"#E63838",width:"200",height:"200",rx:"20"}),o.jsx("path",{fill:"#fff",d:"M100 50L50 75v50l50 25 50-25V75l-50-25zm0 20l30 15v30l-30 15-30-15V85l30-15z"})]}),M_=({className:t="w-12 h-12"})=>o.jsx("svg",{viewBox:"0 0 200 200",className:t,fill:"currentColor",children:o.jsx("path",{fill:"#00D7AA",d:"M100 0L0 50v100l100 50 100-50V50L100 0zm0 30l70 35v70l-70 35-70-35V65l70-35z"})}),$_=({className:t="w-12 h-12"})=>o.jsx("svg",{viewBox:"0 0 200 200",className:t,fill:"currentColor",children:o.jsx("path",{fill:"#6366F1",d:"M100 0C44.8 0 0 44.8 0 100s44.8 100 100 100 100-44.8 100-100S155.2 0 100 0zm0 180c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"})}),aG={binance:C_,bybit:O_,kucoin:R_,okx:D_,coinbase:q5,bitget:L_,kraken:W5,gateio:H5,bingx:M_,weex:$_},oG={binance:"Binance",bybit:"Bybit",kucoin:"KuCoin",okx:"OKX",coinbase:"Coinbase",bitget:"Bitget",kraken:"Kraken",gateio:"Gate.io",bingx:"BingX",weex:"WEEX"},K5=B.memo(function({onConnectClick:e}){const{user:n}=$e(),[r,i]=E.useState(null),[s,a]=E.useState(!1),[l,c]=E.useState(!1),[u,d]=E.useState(null),[f,p]=E.useState(null),v=3e4,g=E.useCallback(async(b=!1)=>{var T,N;if(n&&!(!b&&f&&Date.now()-f<v)){c(!0),d(null);try{const A=await U5.getBalances();i(A.data),p(Date.now())}catch(A){((T=A.response)==null?void 0:T.status)===404||((N=A.response)==null?void 0:N.status)===400?i({exchange:"",connected:!1,balances:[],totalUsdValue:0}):d("Could not fetch balances")}finally{c(!1)}}},[n,f]);E.useEffect(()=>{n&&g()},[n,g]);const y=E.useCallback(()=>{g(!0)},[g]),m=E.useMemo(()=>r!=null&&r.balances?[...r.balances].sort((b,T)=>T.usdValue-b.usdValue):[],[r==null?void 0:r.balances]),x=r!=null&&r.exchange?aG[r.exchange.toLowerCase()]:null,w=r!=null&&r.exchange?oG[r.exchange.toLowerCase()]||r.exchange:null;return r?r.connected?o.jsxs("div",{className:"bg-black/30 backdrop-blur-xl border border-purple-500/30 rounded-xl p-4 shadow-lg shadow-purple-500/10",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-purple-400 to-cyan-400 bg-clip-text text-transparent",children:"Wallet"}),o.jsx("button",{onClick:y,disabled:l,className:"p-2 text-gray-400 hover:text-white transition-colors disabled:opacity-50","aria-label":"Refresh balances",children:o.jsx(Zg,{className:`w-5 h-5 ${l?"animate-spin":""}`})})]}),u&&o.jsx("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg",children:o.jsx("p",{className:"text-sm text-red-300",children:u})}),o.jsxs("div",{className:"flex items-center gap-3 mb-4 p-3 bg-black/40 rounded-lg",children:[x&&o.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:o.jsx(x,{className:"w-full h-full"})}),o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-white font-semibold",children:w}),o.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-500/20 text-green-300 border border-green-400/30",children:[o.jsx(aa,{className:"w-3 h-3 mr-1"}),"Connected"]})]})})]}),o.jsxs("div",{className:"mb-4 p-4 bg-gradient-to-br from-purple-500/10 to-pink-500/10 rounded-xl border border-purple-500/30",children:[o.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Total Balance"}),o.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",r.totalUsdValue.toFixed(2)]})]}),m.length>0?o.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:m.filter(b=>b.usdValue>.01).map(b=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-black/40 rounded-lg hover:bg-black/60 transition-colors",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:b.asset}),o.jsxs("div",{className:"text-xs text-gray-400",children:["Free: ",b.free.toFixed(8)," | Locked: ",b.locked.toFixed(8)]})]}),o.jsx("div",{className:"text-right",children:o.jsxs("div",{className:"text-white font-semibold",children:["$",b.usdValue.toFixed(2)]})})]},b.asset))}):o.jsx("div",{className:"text-center py-4 text-gray-400 text-sm",children:"No balances available"})]}):o.jsxs("div",{className:"bg-black/30 backdrop-blur-sm border border-white/20 rounded-xl p-4 shadow-md shadow-purple-500/10",children:[o.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-purple-400 to-cyan-400 bg-clip-text text-transparent mb-4",children:"Wallet"}),o.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[o.jsx(bi,{className:"w-12 h-12 text-gray-500 mb-3"}),o.jsx("p",{className:"text-gray-400 mb-4",children:"Not connected"}),e&&o.jsxs("button",{onClick:e,className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-xl hover:from-purple-500 hover:to-pink-500 transition-all",children:[o.jsx(u5,{className:"w-5 h-5"}),"Connect Exchange"]})]})]}):o.jsx("div",{className:"bg-black/30 backdrop-blur-sm border border-white/20 rounded-xl p-4 shadow-md shadow-purple-500/10",children:o.jsxs("div",{className:"animate-pulse space-y-4",children:[o.jsx("div",{className:"h-6 bg-gray-700/50 rounded w-1/3"}),o.jsx("div",{className:"h-20 bg-gray-700/50 rounded"})]})})});function lG(){const{user:t}=$e(),e=$t(),[n,r]=E.useState({executed:0,skipped:0,total:0}),[i,s]=E.useState(!1),a=E.useCallback(async()=>{if(t){s(!0);try{const c=(await A_.getLogs({limit:Math.min(1e3,500)})).data||[],u=c.filter(f=>f.action==="EXECUTED").length,d=c.filter(f=>f.action==="SKIPPED").length;r({executed:u,skipped:d,total:c.length})}catch{}finally{s(!1)}}},[t]);return E.useEffect(()=>{if(t){a();const l=setInterval(a,6e4);return()=>clearInterval(l)}},[t,a]),o.jsxs("div",{className:"bg-black/30 backdrop-blur-xl border border-purple-500/30 rounded-xl p-4 shadow-lg shadow-purple-500/10 hover:shadow-purple-500/15 transition-all duration-300 overflow-hidden",children:[o.jsx("div",{className:"flex items-center justify-between mb-6",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-cyan-400 bg-clip-text text-transparent mb-1",children:"Execution Summary"}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-400",children:"Recent trading activity"})]})}),i?o.jsx("div",{className:"space-y-3",children:[1,2,3].map(l=>o.jsx("div",{className:"h-16 bg-gray-700/30 rounded-lg animate-pulse"},l))}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-green-500/10 border border-green-400/30 rounded-xl p-4 backdrop-blur-sm",children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Executed"}),o.jsx("div",{className:"text-2xl font-bold text-green-400",children:n.executed})]}),o.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-400/30 rounded-xl p-4 backdrop-blur-sm",children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Skipped"}),o.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:n.skipped})]}),o.jsxs("div",{className:"bg-purple-500/10 border border-purple-400/30 rounded-xl p-4 backdrop-blur-sm",children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Total Signals"}),o.jsx("div",{className:"text-2xl font-bold text-purple-400",children:n.total})]})]}),o.jsxs("button",{onClick:()=>e("/execution"),className:"w-full px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-xl hover:from-purple-500 hover:to-pink-500 transition-all shadow-lg shadow-purple-500/30 hover:shadow-purple-500/50 flex items-center justify-center gap-2",children:["View All Logs",o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})}function G5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=G5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ze(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=G5(t))&&(r&&(r+=" "),r+=e);return r}var cG=Array.isArray,rr=cG,uG=typeof ah=="object"&&ah&&ah.Object===Object&&ah,X5=uG,dG=X5,fG=typeof self=="object"&&self&&self.Object===Object&&self,hG=dG||fG||Function("return this")(),Li=hG,pG=Li,mG=pG.Symbol,Rf=mG,U2=Rf,Y5=Object.prototype,gG=Y5.hasOwnProperty,yG=Y5.toString,fu=U2?U2.toStringTag:void 0;function vG(t){var e=gG.call(t,fu),n=t[fu];try{t[fu]=void 0;var r=!0}catch{}var i=yG.call(t);return r&&(e?t[fu]=n:delete t[fu]),i}var xG=vG,bG=Object.prototype,wG=bG.toString;function _G(t){return wG.call(t)}var jG=_G,B2=Rf,SG=xG,EG=jG,NG="[object Null]",TG="[object Undefined]",V2=B2?B2.toStringTag:void 0;function AG(t){return t==null?t===void 0?TG:NG:V2&&V2 in Object(t)?SG(t):EG(t)}var ws=AG;function kG(t){return t!=null&&typeof t=="object"}var _s=kG,PG=ws,IG=_s,CG="[object Symbol]";function OG(t){return typeof t=="symbol"||IG(t)&&PG(t)==CG}var kc=OG,RG=rr,DG=kc,LG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,MG=/^\w*$/;function $G(t,e){if(RG(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||DG(t)?!0:MG.test(t)||!LG.test(t)||e!=null&&t in Object(e)}var F_=$G;function FG(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var _a=FG;const Pc=st(_a);var UG=ws,BG=_a,VG="[object AsyncFunction]",zG="[object Function]",qG="[object GeneratorFunction]",WG="[object Proxy]";function HG(t){if(!BG(t))return!1;var e=UG(t);return e==zG||e==qG||e==VG||e==WG}var U_=HG;const ke=st(U_);var KG=Li,GG=KG["__core-js_shared__"],XG=GG,Yy=XG,z2=function(){var t=/[^.]+$/.exec(Yy&&Yy.keys&&Yy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function YG(t){return!!z2&&z2 in t}var QG=YG,JG=Function.prototype,ZG=JG.toString;function eX(t){if(t!=null){try{return ZG.call(t)}catch{}try{return t+""}catch{}}return""}var Q5=eX,tX=U_,nX=QG,rX=_a,iX=Q5,sX=/[\\^$.*+?()[\]{}|]/g,aX=/^\[object .+?Constructor\]$/,oX=Function.prototype,lX=Object.prototype,cX=oX.toString,uX=lX.hasOwnProperty,dX=RegExp("^"+cX.call(uX).replace(sX,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fX(t){if(!rX(t)||nX(t))return!1;var e=tX(t)?dX:aX;return e.test(iX(t))}var hX=fX;function pX(t,e){return t==null?void 0:t[e]}var mX=pX,gX=hX,yX=mX;function vX(t,e){var n=yX(t,e);return gX(n)?n:void 0}var Oo=vX,xX=Oo,bX=xX(Object,"create"),s0=bX,q2=s0;function wX(){this.__data__=q2?q2(null):{},this.size=0}var _X=wX;function jX(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var SX=jX,EX=s0,NX="__lodash_hash_undefined__",TX=Object.prototype,AX=TX.hasOwnProperty;function kX(t){var e=this.__data__;if(EX){var n=e[t];return n===NX?void 0:n}return AX.call(e,t)?e[t]:void 0}var PX=kX,IX=s0,CX=Object.prototype,OX=CX.hasOwnProperty;function RX(t){var e=this.__data__;return IX?e[t]!==void 0:OX.call(e,t)}var DX=RX,LX=s0,MX="__lodash_hash_undefined__";function $X(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=LX&&e===void 0?MX:e,this}var FX=$X,UX=_X,BX=SX,VX=PX,zX=DX,qX=FX;function Ic(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ic.prototype.clear=UX;Ic.prototype.delete=BX;Ic.prototype.get=VX;Ic.prototype.has=zX;Ic.prototype.set=qX;var WX=Ic;function HX(){this.__data__=[],this.size=0}var KX=HX;function GX(t,e){return t===e||t!==t&&e!==e}var B_=GX,XX=B_;function YX(t,e){for(var n=t.length;n--;)if(XX(t[n][0],e))return n;return-1}var a0=YX,QX=a0,JX=Array.prototype,ZX=JX.splice;function eY(t){var e=this.__data__,n=QX(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():ZX.call(e,n,1),--this.size,!0}var tY=eY,nY=a0;function rY(t){var e=this.__data__,n=nY(e,t);return n<0?void 0:e[n][1]}var iY=rY,sY=a0;function aY(t){return sY(this.__data__,t)>-1}var oY=aY,lY=a0;function cY(t,e){var n=this.__data__,r=lY(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var uY=cY,dY=KX,fY=tY,hY=iY,pY=oY,mY=uY;function Cc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Cc.prototype.clear=dY;Cc.prototype.delete=fY;Cc.prototype.get=hY;Cc.prototype.has=pY;Cc.prototype.set=mY;var o0=Cc,gY=Oo,yY=Li,vY=gY(yY,"Map"),V_=vY,W2=WX,xY=o0,bY=V_;function wY(){this.size=0,this.__data__={hash:new W2,map:new(bY||xY),string:new W2}}var _Y=wY;function jY(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var SY=jY,EY=SY;function NY(t,e){var n=t.__data__;return EY(e)?n[typeof e=="string"?"string":"hash"]:n.map}var l0=NY,TY=l0;function AY(t){var e=TY(this,t).delete(t);return this.size-=e?1:0,e}var kY=AY,PY=l0;function IY(t){return PY(this,t).get(t)}var CY=IY,OY=l0;function RY(t){return OY(this,t).has(t)}var DY=RY,LY=l0;function MY(t,e){var n=LY(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var $Y=MY,FY=_Y,UY=kY,BY=CY,VY=DY,zY=$Y;function Oc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Oc.prototype.clear=FY;Oc.prototype.delete=UY;Oc.prototype.get=BY;Oc.prototype.has=VY;Oc.prototype.set=zY;var z_=Oc,J5=z_,qY="Expected a function";function q_(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(qY);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=t.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(q_.Cache||J5),n}q_.Cache=J5;var Z5=q_;const WY=st(Z5);var HY=Z5,KY=500;function GY(t){var e=HY(t,function(r){return n.size===KY&&n.clear(),r}),n=e.cache;return e}var XY=GY,YY=XY,QY=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,JY=/\\(\\)?/g,ZY=YY(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(QY,function(n,r,i,s){e.push(i?s.replace(JY,"$1"):r||n)}),e}),eQ=ZY;function tQ(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var W_=tQ,H2=Rf,nQ=W_,rQ=rr,iQ=kc,K2=H2?H2.prototype:void 0,G2=K2?K2.toString:void 0;function e3(t){if(typeof t=="string")return t;if(rQ(t))return nQ(t,e3)+"";if(iQ(t))return G2?G2.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var sQ=e3,aQ=sQ;function oQ(t){return t==null?"":aQ(t)}var t3=oQ,lQ=rr,cQ=F_,uQ=eQ,dQ=t3;function fQ(t,e){return lQ(t)?t:cQ(t,e)?[t]:uQ(dQ(t))}var n3=fQ,hQ=kc;function pQ(t){if(typeof t=="string"||hQ(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var c0=pQ,mQ=n3,gQ=c0;function yQ(t,e){e=mQ(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[gQ(e[n++])];return n&&n==r?t:void 0}var H_=yQ,vQ=H_;function xQ(t,e,n){var r=t==null?void 0:vQ(t,e);return r===void 0?n:r}var r3=xQ;const Pr=st(r3);function bQ(t){return t==null}var wQ=bQ;const Ie=st(wQ);var _Q=ws,jQ=rr,SQ=_s,EQ="[object String]";function NQ(t){return typeof t=="string"||!jQ(t)&&SQ(t)&&_Q(t)==EQ}var TQ=NQ;const xo=st(TQ);var i3={exports:{}},Ze={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_=Symbol.for("react.element"),G_=Symbol.for("react.portal"),u0=Symbol.for("react.fragment"),d0=Symbol.for("react.strict_mode"),f0=Symbol.for("react.profiler"),h0=Symbol.for("react.provider"),p0=Symbol.for("react.context"),AQ=Symbol.for("react.server_context"),m0=Symbol.for("react.forward_ref"),g0=Symbol.for("react.suspense"),y0=Symbol.for("react.suspense_list"),v0=Symbol.for("react.memo"),x0=Symbol.for("react.lazy"),kQ=Symbol.for("react.offscreen"),s3;s3=Symbol.for("react.module.reference");function Fr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case K_:switch(t=t.type,t){case u0:case f0:case d0:case g0:case y0:return t;default:switch(t=t&&t.$$typeof,t){case AQ:case p0:case m0:case x0:case v0:case h0:return t;default:return e}}case G_:return e}}}Ze.ContextConsumer=p0;Ze.ContextProvider=h0;Ze.Element=K_;Ze.ForwardRef=m0;Ze.Fragment=u0;Ze.Lazy=x0;Ze.Memo=v0;Ze.Portal=G_;Ze.Profiler=f0;Ze.StrictMode=d0;Ze.Suspense=g0;Ze.SuspenseList=y0;Ze.isAsyncMode=function(){return!1};Ze.isConcurrentMode=function(){return!1};Ze.isContextConsumer=function(t){return Fr(t)===p0};Ze.isContextProvider=function(t){return Fr(t)===h0};Ze.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===K_};Ze.isForwardRef=function(t){return Fr(t)===m0};Ze.isFragment=function(t){return Fr(t)===u0};Ze.isLazy=function(t){return Fr(t)===x0};Ze.isMemo=function(t){return Fr(t)===v0};Ze.isPortal=function(t){return Fr(t)===G_};Ze.isProfiler=function(t){return Fr(t)===f0};Ze.isStrictMode=function(t){return Fr(t)===d0};Ze.isSuspense=function(t){return Fr(t)===g0};Ze.isSuspenseList=function(t){return Fr(t)===y0};Ze.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===u0||t===f0||t===d0||t===g0||t===y0||t===kQ||typeof t=="object"&&t!==null&&(t.$$typeof===x0||t.$$typeof===v0||t.$$typeof===h0||t.$$typeof===p0||t.$$typeof===m0||t.$$typeof===s3||t.getModuleId!==void 0)};Ze.typeOf=Fr;i3.exports=Ze;var PQ=i3.exports,IQ=ws,CQ=_s,OQ="[object Number]";function RQ(t){return typeof t=="number"||CQ(t)&&IQ(t)==OQ}var a3=RQ;const DQ=st(a3);var LQ=a3;function MQ(t){return LQ(t)&&t!=+t}var $Q=MQ;const Df=st($Q);var si=function(e){return e===0?0:e>0?1:-1},Ka=function(e){return xo(e)&&e.indexOf("%")===e.length-1},ae=function(e){return DQ(e)&&!Df(e)},FQ=function(e){return Ie(e)},Xt=function(e){return ae(e)||xo(e)},UQ=0,Lf=function(e){var n=++UQ;return"".concat(e||"").concat(n)},bo=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ae(e)&&!xo(e))return r;var s;if(Ka(e)){var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return Df(s)&&(s=r),i&&s>n&&(s=n),s},Us=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},BQ=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Zr=function(e,n){return ae(e)&&ae(n)?function(r){return e+r*(n-e)}:function(){return n}};function um(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Pr(r,e))===n})}var VQ=function(e,n){return ae(e)&&ae(n)?e-n:xo(e)&&xo(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Tl(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function nb(t){"@babel/helpers - typeof";return nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nb(t)}var zQ=["viewBox","children"],qQ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],X2=["points","pathLength"],Qy={svg:zQ,polygon:X2,polyline:X2},X_=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],dm=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(E.isValidElement(e)&&(r=e.props),!Pc(r))return null;var i={};return Object.keys(r).forEach(function(s){X_.includes(s)&&(i[s]=n||function(a){return r[s](r,a)})}),i},WQ=function(e,n,r){return function(i){return e(n,r,i),null}},fm=function(e,n,r){if(!Pc(e)||nb(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];X_.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=WQ(a,n,r))}),i},HQ=["children"],KQ=["children"];function Y2(t,e){if(t==null)return{};var n=GQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rb(t){"@babel/helpers - typeof";return rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rb(t)}var Q2={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ts=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},J2=null,Jy=null,Y_=function t(e){if(e===J2&&Array.isArray(Jy))return Jy;var n=[];return E.Children.forEach(e,function(r){Ie(r)||(PQ.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Jy=n,J2=e,n};function Ir(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return ts(i)}):r=[ts(e)],Y_(t).forEach(function(i){var s=Pr(i,"type.displayName")||Pr(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function lr(t,e){var n=Ir(t,e);return n&&n[0]}var Z2=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ae(r)||r<=0||!ae(i)||i<=0)},XQ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],YQ=function(e){return e&&e.type&&xo(e.type)&&XQ.indexOf(e.type)>=0},QQ=function(e){return e&&rb(e)==="object"&&"clipDot"in e},JQ=function(e,n,r,i){var s,a=(s=Qy==null?void 0:Qy[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!ke(e)&&(i&&a.includes(n)||qQ.includes(n))||r&&X_.includes(n)},Me=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(E.isValidElement(e)&&(i=e.props),!Pc(i))return null;var s={};return Object.keys(i).forEach(function(a){var l;JQ((l=i)===null||l===void 0?void 0:l[a],a,n,r)&&(s[a]=i[a])}),s},ib=function t(e,n){if(e===n)return!0;var r=E.Children.count(e);if(r!==E.Children.count(n))return!1;if(r===0)return!0;if(r===1)return eT(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],a=n[i];if(Array.isArray(s)||Array.isArray(a)){if(!t(s,a))return!1}else if(!eT(s,a))return!1}return!0},eT=function(e,n){if(Ie(e)&&Ie(n))return!0;if(!Ie(e)&&!Ie(n)){var r=e.props||{},i=r.children,s=Y2(r,HQ),a=n.props||{},l=a.children,c=Y2(a,KQ);return i&&l?Tl(s,c)&&ib(i,l):!i&&!l?Tl(s,c):!1}return!1},tT=function(e,n){var r=[],i={};return Y_(e).forEach(function(s,a){if(YQ(s))r.push(s);else if(s){var l=ts(s.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var f=u(s,l,a);r.push(f),i[l]=!0}}}),r},ZQ=function(e){var n=e&&e.type;return n&&Q2[n]?Q2[n]:null},eJ=function(e,n){return Y_(n).indexOf(e)},tJ=["children","width","height","viewBox","className","style","title","desc"];function sb(){return sb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sb.apply(this,arguments)}function nJ(t,e){if(t==null)return{};var n=rJ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ab(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,a=t.style,l=t.title,c=t.desc,u=nJ(t,tJ),d=i||{width:n,height:r,x:0,y:0},f=ze("recharts-surface",s);return B.createElement("svg",sb({},Me(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),B.createElement("title",null,l),B.createElement("desc",null,c),e)}var iJ=["children","className"];function ob(){return ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ob.apply(this,arguments)}function sJ(t,e){if(t==null)return{};var n=aJ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Dt=B.forwardRef(function(t,e){var n=t.children,r=t.className,i=sJ(t,iJ),s=ze("recharts-layer",r);return B.createElement("g",ob({className:s},Me(i,!0),{ref:e}),n)}),ns=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function oJ(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var lJ=oJ,cJ=lJ;function uJ(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:cJ(t,e,n)}var dJ=uJ,fJ="\\ud800-\\udfff",hJ="\\u0300-\\u036f",pJ="\\ufe20-\\ufe2f",mJ="\\u20d0-\\u20ff",gJ=hJ+pJ+mJ,yJ="\\ufe0e\\ufe0f",vJ="\\u200d",xJ=RegExp("["+vJ+fJ+gJ+yJ+"]");function bJ(t){return xJ.test(t)}var o3=bJ;function wJ(t){return t.split("")}var _J=wJ,l3="\\ud800-\\udfff",jJ="\\u0300-\\u036f",SJ="\\ufe20-\\ufe2f",EJ="\\u20d0-\\u20ff",NJ=jJ+SJ+EJ,TJ="\\ufe0e\\ufe0f",AJ="["+l3+"]",lb="["+NJ+"]",cb="\\ud83c[\\udffb-\\udfff]",kJ="(?:"+lb+"|"+cb+")",c3="[^"+l3+"]",u3="(?:\\ud83c[\\udde6-\\uddff]){2}",d3="[\\ud800-\\udbff][\\udc00-\\udfff]",PJ="\\u200d",f3=kJ+"?",h3="["+TJ+"]?",IJ="(?:"+PJ+"(?:"+[c3,u3,d3].join("|")+")"+h3+f3+")*",CJ=h3+f3+IJ,OJ="(?:"+[c3+lb+"?",lb,u3,d3,AJ].join("|")+")",RJ=RegExp(cb+"(?="+cb+")|"+OJ+CJ,"g");function DJ(t){return t.match(RJ)||[]}var LJ=DJ,MJ=_J,$J=o3,FJ=LJ;function UJ(t){return $J(t)?FJ(t):MJ(t)}var BJ=UJ,VJ=dJ,zJ=o3,qJ=BJ,WJ=t3;function HJ(t){return function(e){e=WJ(e);var n=zJ(e)?qJ(e):void 0,r=n?n[0]:e.charAt(0),i=n?VJ(n,1).join(""):e.slice(1);return r[t]()+i}}var KJ=HJ,GJ=KJ,XJ=GJ("toUpperCase"),YJ=XJ;const b0=st(YJ);function lt(t){return function(){return t}}const p3=Math.cos,hm=Math.sin,fi=Math.sqrt,pm=Math.PI,w0=2*pm,ub=Math.PI,db=2*ub,La=1e-6,QJ=db-La;function m3(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function JJ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return m3;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class ZJ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?m3:JJ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,c=r-e,u=i-n,d=a-e,f=l-n,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>La)if(!(Math.abs(f*c-u*d)>La)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-a,g=i-l,y=c*c+u*u,m=v*v+g*g,x=Math.sqrt(y),w=Math.sqrt(p),b=s*Math.tan((ub-Math.acos((y+p-m)/(2*x*w)))/2),T=b/w,N=b/x;Math.abs(T-1)>La&&this._append`L${e+T*d},${n+T*f}`,this._append`A${s},${s},0,0,${+(f*v>d*g)},${this._x1=e+N*c},${this._y1=n+N*u}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),u=e+l,d=n+c,f=1^a,p=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>La||Math.abs(this._y1-d)>La)&&this._append`L${u},${d}`,r&&(p<0&&(p=p%db+db),p>QJ?this._append`A${r},${r},0,1,${f},${e-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:p>La&&this._append`A${r},${r},0,${+(p>=ub)},${f},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Q_(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new ZJ(e)}function J_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function g3(t){this._context=t}g3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function _0(t){return new g3(t)}function y3(t){return t[0]}function v3(t){return t[1]}function x3(t,e){var n=lt(!0),r=null,i=_0,s=null,a=Q_(l);t=typeof t=="function"?t:t===void 0?y3:lt(t),e=typeof e=="function"?e:e===void 0?v3:lt(e);function l(c){var u,d=(c=J_(c)).length,f,p=!1,v;for(r==null&&(s=i(v=a())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+t(f,u,c),+e(f,u,c));if(v)return s=null,v+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:lt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:lt(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:lt(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),l):r},l}function Ph(t,e,n){var r=null,i=lt(!0),s=null,a=_0,l=null,c=Q_(u);t=typeof t=="function"?t:t===void 0?y3:lt(+t),e=typeof e=="function"?e:lt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?v3:lt(+n);function u(f){var p,v,g,y=(f=J_(f)).length,m,x=!1,w,b=new Array(y),T=new Array(y);for(s==null&&(l=a(w=c())),p=0;p<=y;++p){if(!(p<y&&i(m=f[p],p,f))===x)if(x=!x)v=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=p-1;g>=v;--g)l.point(b[g],T[g]);l.lineEnd(),l.areaEnd()}x&&(b[p]=+t(m,p,f),T[p]=+e(m,p,f),l.point(r?+r(m,p,f):b[p],n?+n(m,p,f):T[p]))}if(w)return l=null,w+""||null}function d(){return x3().defined(i).curve(a).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:lt(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:lt(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:lt(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:lt(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:lt(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:lt(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:lt(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,s!=null&&(l=a(s)),u):a},u.context=function(f){return arguments.length?(f==null?s=l=null:l=a(s=f),u):s},u}class b3{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function eZ(t){return new b3(t,!0)}function tZ(t){return new b3(t,!1)}const Z_={draw(t,e){const n=fi(e/pm);t.moveTo(n,0),t.arc(0,0,n,0,w0)}},nZ={draw(t,e){const n=fi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},w3=fi(1/3),rZ=w3*2,iZ={draw(t,e){const n=fi(e/rZ),r=n*w3;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},sZ={draw(t,e){const n=fi(e),r=-n/2;t.rect(r,r,n,n)}},aZ=.8908130915292852,_3=hm(pm/10)/hm(7*pm/10),oZ=hm(w0/10)*_3,lZ=-p3(w0/10)*_3,cZ={draw(t,e){const n=fi(e*aZ),r=oZ*n,i=lZ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=w0*s/5,l=p3(a),c=hm(a);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},Zy=fi(3),uZ={draw(t,e){const n=-fi(e/(Zy*3));t.moveTo(0,n*2),t.lineTo(-Zy*n,-n),t.lineTo(Zy*n,-n),t.closePath()}},wr=-.5,_r=fi(3)/2,fb=1/fi(12),dZ=(fb/2+1)*3,fZ={draw(t,e){const n=fi(e/dZ),r=n/2,i=n*fb,s=r,a=n*fb+n,l=-s,c=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(l,c),t.lineTo(wr*r-_r*i,_r*r+wr*i),t.lineTo(wr*s-_r*a,_r*s+wr*a),t.lineTo(wr*l-_r*c,_r*l+wr*c),t.lineTo(wr*r+_r*i,wr*i-_r*r),t.lineTo(wr*s+_r*a,wr*a-_r*s),t.lineTo(wr*l+_r*c,wr*c-_r*l),t.closePath()}};function hZ(t,e){let n=null,r=Q_(i);t=typeof t=="function"?t:lt(t||Z_),e=typeof e=="function"?e:lt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:lt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:lt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function mm(){}function gm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function j3(t){this._context=t}j3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:gm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:gm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pZ(t){return new j3(t)}function S3(t){this._context=t}S3.prototype={areaStart:mm,areaEnd:mm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:gm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mZ(t){return new S3(t)}function E3(t){this._context=t}E3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:gm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function gZ(t){return new E3(t)}function N3(t){this._context=t}N3.prototype={areaStart:mm,areaEnd:mm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function yZ(t){return new N3(t)}function nT(t){return t<0?-1:1}function rT(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),l=(s*i+a*r)/(r+i);return(nT(s)+nT(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function iT(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ev(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,a-l*n,s,a)}function ym(t){this._context=t}ym.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ev(this,this._t0,iT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ev(this,iT(this,n=rT(this,t,e)),n);break;default:ev(this,this._t0,n=rT(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function T3(t){this._context=new A3(t)}(T3.prototype=Object.create(ym.prototype)).point=function(t,e){ym.prototype.point.call(this,e,t)};function A3(t){this._context=t}A3.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function vZ(t){return new ym(t)}function xZ(t){return new T3(t)}function k3(t){this._context=t}k3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=sT(t),i=sT(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function sT(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function bZ(t){return new k3(t)}function j0(t,e){this._context=t,this._t=e}j0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function wZ(t){return new j0(t,.5)}function _Z(t){return new j0(t,0)}function jZ(t){return new j0(t,1)}function Yl(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,l=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function hb(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function SZ(t,e){return t[e]}function EZ(t){const e=[];return e.key=t,e}function NZ(){var t=lt([]),e=hb,n=Yl,r=SZ;function i(s){var a=Array.from(t.apply(this,arguments),EZ),l,c=a.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(a[l][u]=[0,+r(f,a[l].key,u,s)]).data=f;for(l=0,d=J_(e(a));l<c;++l)a[d[l]].index=l;return n(a,d),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:lt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:lt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?hb:typeof s=="function"?s:lt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Yl,i):n},i}function TZ(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Yl(t,e)}}function AZ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,l=0;a<i;++a)l+=t[a][n][1]||0;r[n][1]+=r[n][0]=-l/2}Yl(t,e)}}function kZ(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var l=0,c=0,u=0;l<a;++l){for(var d=t[e[l]],f=d[r][1]||0,p=d[r-1][1]||0,v=(f-p)/2,g=0;g<l;++g){var y=t[e[g]],m=y[r][1]||0,x=y[r-1][1]||0;v+=m-x}c+=f,u+=v*f}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,Yl(t,e)}}function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}var PZ=["type","size","sizeType"];function pb(){return pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pb.apply(this,arguments)}function aT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aT(Object(n),!0).forEach(function(r){IZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IZ(t,e,n){return e=CZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CZ(t){var e=OZ(t,"string");return Id(e)=="symbol"?e:e+""}function OZ(t,e){if(Id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RZ(t,e){if(t==null)return{};var n=DZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var P3={symbolCircle:Z_,symbolCross:nZ,symbolDiamond:iZ,symbolSquare:sZ,symbolStar:cZ,symbolTriangle:uZ,symbolWye:fZ},LZ=Math.PI/180,MZ=function(e){var n="symbol".concat(b0(e));return P3[n]||Z_},$Z=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*LZ;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},FZ=function(e,n){P3["symbol".concat(b0(e))]=n},ej=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,a=e.sizeType,l=a===void 0?"area":a,c=RZ(e,PZ),u=oT(oT({},c),{},{type:r,size:s,sizeType:l}),d=function(){var m=MZ(r),x=hZ().type(m).size($Z(s,l,r));return x()},f=u.className,p=u.cx,v=u.cy,g=Me(u,!0);return p===+p&&v===+v&&s===+s?B.createElement("path",pb({},g,{className:ze("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(v,")"),d:d()})):null};ej.registerSymbol=FZ;function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function mb(){return mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mb.apply(this,arguments)}function lT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lT(Object(n),!0).forEach(function(r){Cd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C3(r.key),r)}}function zZ(t,e,n){return e&&VZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qZ(t,e,n){return e=vm(e),WZ(t,I3()?Reflect.construct(e,n||[],vm(t).constructor):e.apply(t,n))}function WZ(t,e){if(e&&(Ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HZ(t)}function HZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I3=function(){return!!t})()}function vm(t){return vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vm(t)}function KZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gb(t,e)}function gb(t,e){return gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gb(t,e)}function Cd(t,e,n){return e=C3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C3(t){var e=GZ(t,"string");return Ql(e)=="symbol"?e:e+""}function GZ(t,e){if(Ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jr=32,tj=function(t){function e(){return BZ(this,e),qZ(this,e,arguments)}return KZ(e,t),zZ(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=jr/2,a=jr/6,l=jr/3,c=r.inactive?i:r.color;if(r.type==="plainline")return B.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:jr,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return B.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(jr,"M").concat(2*l,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return B.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(jr/8,"h").concat(jr,"v").concat(jr*3/4,"h").concat(-jr,"z"),className:"recharts-legend-icon"});if(B.isValidElement(r.legendIcon)){var u=UZ({},r);return delete u.legendIcon,B.cloneElement(r.legendIcon,u)}return B.createElement(ej,{fill:c,cx:s,cy:s,size:jr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,a=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:jr,height:jr},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(v,g){var y=v.formatter||c,m=ze(Cd(Cd({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",v.inactive));if(v.type==="none")return null;var x=ke(v.value)?null:v.value;ns(!ke(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=v.inactive?u:v.color;return B.createElement("li",mb({className:m,style:f,key:"legend-item-".concat(g)},fm(r.props,v,g)),B.createElement(ab,{width:a,height:a,viewBox:d,style:p},r.renderIcon(v)),B.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},y?y(x,v,g):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,a=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return B.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(E.PureComponent);Cd(tj,"displayName","Legend");Cd(tj,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var XZ=o0;function YZ(){this.__data__=new XZ,this.size=0}var QZ=YZ;function JZ(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var ZZ=JZ;function eee(t){return this.__data__.get(t)}var tee=eee;function nee(t){return this.__data__.has(t)}var ree=nee,iee=o0,see=V_,aee=z_,oee=200;function lee(t,e){var n=this.__data__;if(n instanceof iee){var r=n.__data__;if(!see||r.length<oee-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new aee(r)}return n.set(t,e),this.size=n.size,this}var cee=lee,uee=o0,dee=QZ,fee=ZZ,hee=tee,pee=ree,mee=cee;function Rc(t){var e=this.__data__=new uee(t);this.size=e.size}Rc.prototype.clear=dee;Rc.prototype.delete=fee;Rc.prototype.get=hee;Rc.prototype.has=pee;Rc.prototype.set=mee;var O3=Rc,gee="__lodash_hash_undefined__";function yee(t){return this.__data__.set(t,gee),this}var vee=yee;function xee(t){return this.__data__.has(t)}var bee=xee,wee=z_,_ee=vee,jee=bee;function xm(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new wee;++e<n;)this.add(t[e])}xm.prototype.add=xm.prototype.push=_ee;xm.prototype.has=jee;var R3=xm;function See(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var D3=See;function Eee(t,e){return t.has(e)}var L3=Eee,Nee=R3,Tee=D3,Aee=L3,kee=1,Pee=2;function Iee(t,e,n,r,i,s){var a=n&kee,l=t.length,c=e.length;if(l!=c&&!(a&&c>l))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var f=-1,p=!0,v=n&Pee?new Nee:void 0;for(s.set(t,e),s.set(e,t);++f<l;){var g=t[f],y=e[f];if(r)var m=a?r(y,g,f,e,t,s):r(g,y,f,t,e,s);if(m!==void 0){if(m)continue;p=!1;break}if(v){if(!Tee(e,function(x,w){if(!Aee(v,w)&&(g===x||i(g,x,n,r,s)))return v.push(w)})){p=!1;break}}else if(!(g===y||i(g,y,n,r,s))){p=!1;break}}return s.delete(t),s.delete(e),p}var M3=Iee,Cee=Li,Oee=Cee.Uint8Array,Ree=Oee;function Dee(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Lee=Dee;function Mee(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var nj=Mee,cT=Rf,uT=Ree,$ee=B_,Fee=M3,Uee=Lee,Bee=nj,Vee=1,zee=2,qee="[object Boolean]",Wee="[object Date]",Hee="[object Error]",Kee="[object Map]",Gee="[object Number]",Xee="[object RegExp]",Yee="[object Set]",Qee="[object String]",Jee="[object Symbol]",Zee="[object ArrayBuffer]",ete="[object DataView]",dT=cT?cT.prototype:void 0,tv=dT?dT.valueOf:void 0;function tte(t,e,n,r,i,s,a){switch(n){case ete:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Zee:return!(t.byteLength!=e.byteLength||!s(new uT(t),new uT(e)));case qee:case Wee:case Gee:return $ee(+t,+e);case Hee:return t.name==e.name&&t.message==e.message;case Xee:case Qee:return t==e+"";case Kee:var l=Uee;case Yee:var c=r&Vee;if(l||(l=Bee),t.size!=e.size&&!c)return!1;var u=a.get(t);if(u)return u==e;r|=zee,a.set(t,e);var d=Fee(l(t),l(e),r,i,s,a);return a.delete(t),d;case Jee:if(tv)return tv.call(t)==tv.call(e)}return!1}var nte=tte;function rte(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var $3=rte,ite=$3,ste=rr;function ate(t,e,n){var r=e(t);return ste(t)?r:ite(r,n(t))}var ote=ate;function lte(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var a=t[n];e(a,n,t)&&(s[i++]=a)}return s}var cte=lte;function ute(){return[]}var dte=ute,fte=cte,hte=dte,pte=Object.prototype,mte=pte.propertyIsEnumerable,fT=Object.getOwnPropertySymbols,gte=fT?function(t){return t==null?[]:(t=Object(t),fte(fT(t),function(e){return mte.call(t,e)}))}:hte,yte=gte;function vte(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var xte=vte,bte=ws,wte=_s,_te="[object Arguments]";function jte(t){return wte(t)&&bte(t)==_te}var Ste=jte,hT=Ste,Ete=_s,F3=Object.prototype,Nte=F3.hasOwnProperty,Tte=F3.propertyIsEnumerable,Ate=hT(function(){return arguments}())?hT:function(t){return Ete(t)&&Nte.call(t,"callee")&&!Tte.call(t,"callee")},rj=Ate,bm={exports:{}};function kte(){return!1}var Pte=kte;bm.exports;(function(t,e){var n=Li,r=Pte,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,l=a?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;t.exports=u})(bm,bm.exports);var U3=bm.exports,Ite=9007199254740991,Cte=/^(?:0|[1-9]\d*)$/;function Ote(t,e){var n=typeof t;return e=e??Ite,!!e&&(n=="number"||n!="symbol"&&Cte.test(t))&&t>-1&&t%1==0&&t<e}var ij=Ote,Rte=9007199254740991;function Dte(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Rte}var sj=Dte,Lte=ws,Mte=sj,$te=_s,Fte="[object Arguments]",Ute="[object Array]",Bte="[object Boolean]",Vte="[object Date]",zte="[object Error]",qte="[object Function]",Wte="[object Map]",Hte="[object Number]",Kte="[object Object]",Gte="[object RegExp]",Xte="[object Set]",Yte="[object String]",Qte="[object WeakMap]",Jte="[object ArrayBuffer]",Zte="[object DataView]",ene="[object Float32Array]",tne="[object Float64Array]",nne="[object Int8Array]",rne="[object Int16Array]",ine="[object Int32Array]",sne="[object Uint8Array]",ane="[object Uint8ClampedArray]",one="[object Uint16Array]",lne="[object Uint32Array]",ft={};ft[ene]=ft[tne]=ft[nne]=ft[rne]=ft[ine]=ft[sne]=ft[ane]=ft[one]=ft[lne]=!0;ft[Fte]=ft[Ute]=ft[Jte]=ft[Bte]=ft[Zte]=ft[Vte]=ft[zte]=ft[qte]=ft[Wte]=ft[Hte]=ft[Kte]=ft[Gte]=ft[Xte]=ft[Yte]=ft[Qte]=!1;function cne(t){return $te(t)&&Mte(t.length)&&!!ft[Lte(t)]}var une=cne;function dne(t){return function(e){return t(e)}}var B3=dne,wm={exports:{}};wm.exports;(function(t,e){var n=X5,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||a&&a.binding&&a.binding("util")}catch{}}();t.exports=l})(wm,wm.exports);var fne=wm.exports,hne=une,pne=B3,pT=fne,mT=pT&&pT.isTypedArray,mne=mT?pne(mT):hne,V3=mne,gne=xte,yne=rj,vne=rr,xne=U3,bne=ij,wne=V3,_ne=Object.prototype,jne=_ne.hasOwnProperty;function Sne(t,e){var n=vne(t),r=!n&&yne(t),i=!n&&!r&&xne(t),s=!n&&!r&&!i&&wne(t),a=n||r||i||s,l=a?gne(t.length,String):[],c=l.length;for(var u in t)(e||jne.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||bne(u,c)))&&l.push(u);return l}var Ene=Sne,Nne=Object.prototype;function Tne(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Nne;return t===n}var Ane=Tne;function kne(t,e){return function(n){return t(e(n))}}var z3=kne,Pne=z3,Ine=Pne(Object.keys,Object),Cne=Ine,One=Ane,Rne=Cne,Dne=Object.prototype,Lne=Dne.hasOwnProperty;function Mne(t){if(!One(t))return Rne(t);var e=[];for(var n in Object(t))Lne.call(t,n)&&n!="constructor"&&e.push(n);return e}var $ne=Mne,Fne=U_,Une=sj;function Bne(t){return t!=null&&Une(t.length)&&!Fne(t)}var Mf=Bne,Vne=Ene,zne=$ne,qne=Mf;function Wne(t){return qne(t)?Vne(t):zne(t)}var S0=Wne,Hne=ote,Kne=yte,Gne=S0;function Xne(t){return Hne(t,Gne,Kne)}var Yne=Xne,gT=Yne,Qne=1,Jne=Object.prototype,Zne=Jne.hasOwnProperty;function ere(t,e,n,r,i,s){var a=n&Qne,l=gT(t),c=l.length,u=gT(e),d=u.length;if(c!=d&&!a)return!1;for(var f=c;f--;){var p=l[f];if(!(a?p in e:Zne.call(e,p)))return!1}var v=s.get(t),g=s.get(e);if(v&&g)return v==e&&g==t;var y=!0;s.set(t,e),s.set(e,t);for(var m=a;++f<c;){p=l[f];var x=t[p],w=e[p];if(r)var b=a?r(w,x,p,e,t,s):r(x,w,p,t,e,s);if(!(b===void 0?x===w||i(x,w,n,r,s):b)){y=!1;break}m||(m=p=="constructor")}if(y&&!m){var T=t.constructor,N=e.constructor;T!=N&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof N=="function"&&N instanceof N)&&(y=!1)}return s.delete(t),s.delete(e),y}var tre=ere,nre=Oo,rre=Li,ire=nre(rre,"DataView"),sre=ire,are=Oo,ore=Li,lre=are(ore,"Promise"),cre=lre,ure=Oo,dre=Li,fre=ure(dre,"Set"),q3=fre,hre=Oo,pre=Li,mre=hre(pre,"WeakMap"),gre=mre,yb=sre,vb=V_,xb=cre,bb=q3,wb=gre,W3=ws,Dc=Q5,yT="[object Map]",yre="[object Object]",vT="[object Promise]",xT="[object Set]",bT="[object WeakMap]",wT="[object DataView]",vre=Dc(yb),xre=Dc(vb),bre=Dc(xb),wre=Dc(bb),_re=Dc(wb),Ma=W3;(yb&&Ma(new yb(new ArrayBuffer(1)))!=wT||vb&&Ma(new vb)!=yT||xb&&Ma(xb.resolve())!=vT||bb&&Ma(new bb)!=xT||wb&&Ma(new wb)!=bT)&&(Ma=function(t){var e=W3(t),n=e==yre?t.constructor:void 0,r=n?Dc(n):"";if(r)switch(r){case vre:return wT;case xre:return yT;case bre:return vT;case wre:return xT;case _re:return bT}return e});var jre=Ma,nv=O3,Sre=M3,Ere=nte,Nre=tre,_T=jre,jT=rr,ST=U3,Tre=V3,Are=1,ET="[object Arguments]",NT="[object Array]",Ih="[object Object]",kre=Object.prototype,TT=kre.hasOwnProperty;function Pre(t,e,n,r,i,s){var a=jT(t),l=jT(e),c=a?NT:_T(t),u=l?NT:_T(e);c=c==ET?Ih:c,u=u==ET?Ih:u;var d=c==Ih,f=u==Ih,p=c==u;if(p&&ST(t)){if(!ST(e))return!1;a=!0,d=!1}if(p&&!d)return s||(s=new nv),a||Tre(t)?Sre(t,e,n,r,i,s):Ere(t,e,c,n,r,i,s);if(!(n&Are)){var v=d&&TT.call(t,"__wrapped__"),g=f&&TT.call(e,"__wrapped__");if(v||g){var y=v?t.value():t,m=g?e.value():e;return s||(s=new nv),i(y,m,n,r,s)}}return p?(s||(s=new nv),Nre(t,e,n,r,i,s)):!1}var Ire=Pre,Cre=Ire,AT=_s;function H3(t,e,n,r,i){return t===e?!0:t==null||e==null||!AT(t)&&!AT(e)?t!==t&&e!==e:Cre(t,e,n,r,H3,i)}var aj=H3,Ore=O3,Rre=aj,Dre=1,Lre=2;function Mre(t,e,n,r){var i=n.length,s=i,a=!r;if(t==null)return!s;for(t=Object(t);i--;){var l=n[i];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<s;){l=n[i];var c=l[0],u=t[c],d=l[1];if(a&&l[2]){if(u===void 0&&!(c in t))return!1}else{var f=new Ore;if(r)var p=r(u,d,c,t,e,f);if(!(p===void 0?Rre(d,u,Dre|Lre,r,f):p))return!1}}return!0}var $re=Mre,Fre=_a;function Ure(t){return t===t&&!Fre(t)}var K3=Ure,Bre=K3,Vre=S0;function zre(t){for(var e=Vre(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Bre(i)]}return e}var qre=zre;function Wre(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var G3=Wre,Hre=$re,Kre=qre,Gre=G3;function Xre(t){var e=Kre(t);return e.length==1&&e[0][2]?Gre(e[0][0],e[0][1]):function(n){return n===t||Hre(n,t,e)}}var Yre=Xre;function Qre(t,e){return t!=null&&e in Object(t)}var Jre=Qre,Zre=n3,eie=rj,tie=rr,nie=ij,rie=sj,iie=c0;function sie(t,e,n){e=Zre(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var a=iie(e[r]);if(!(s=t!=null&&n(t,a)))break;t=t[a]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&rie(i)&&nie(a,i)&&(tie(t)||eie(t)))}var aie=sie,oie=Jre,lie=aie;function cie(t,e){return t!=null&&lie(t,e,oie)}var uie=cie,die=aj,fie=r3,hie=uie,pie=F_,mie=K3,gie=G3,yie=c0,vie=1,xie=2;function bie(t,e){return pie(t)&&mie(e)?gie(yie(t),e):function(n){var r=fie(n,t);return r===void 0&&r===e?hie(n,t):die(e,r,vie|xie)}}var wie=bie;function _ie(t){return t}var Lc=_ie;function jie(t){return function(e){return e==null?void 0:e[t]}}var Sie=jie,Eie=H_;function Nie(t){return function(e){return Eie(e,t)}}var Tie=Nie,Aie=Sie,kie=Tie,Pie=F_,Iie=c0;function Cie(t){return Pie(t)?Aie(Iie(t)):kie(t)}var Oie=Cie,Rie=Yre,Die=wie,Lie=Lc,Mie=rr,$ie=Oie;function Fie(t){return typeof t=="function"?t:t==null?Lie:typeof t=="object"?Mie(t)?Die(t[0],t[1]):Rie(t):$ie(t)}var ja=Fie;function Uie(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var X3=Uie;function Bie(t){return t!==t}var Vie=Bie;function zie(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var qie=zie,Wie=X3,Hie=Vie,Kie=qie;function Gie(t,e,n){return e===e?Kie(t,e,n):Wie(t,Hie,n)}var Xie=Gie,Yie=Xie;function Qie(t,e){var n=t==null?0:t.length;return!!n&&Yie(t,e,0)>-1}var Jie=Qie;function Zie(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var ese=Zie;function tse(){}var nse=tse,rv=q3,rse=nse,ise=nj,sse=1/0,ase=rv&&1/ise(new rv([,-0]))[1]==sse?function(t){return new rv(t)}:rse,ose=ase,lse=R3,cse=Jie,use=ese,dse=L3,fse=ose,hse=nj,pse=200;function mse(t,e,n){var r=-1,i=cse,s=t.length,a=!0,l=[],c=l;if(n)a=!1,i=use;else if(s>=pse){var u=e?null:fse(t);if(u)return hse(u);a=!1,i=dse,c=new lse}else c=e?[]:l;e:for(;++r<s;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,a&&f===f){for(var p=c.length;p--;)if(c[p]===f)continue e;e&&c.push(f),l.push(d)}else i(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var gse=mse,yse=ja,vse=gse;function xse(t,e){return t&&t.length?vse(t,yse(e)):[]}var bse=xse;const kT=st(bse);function Y3(t,e,n){return e===!0?kT(t,n):ke(e)?kT(t,e):t}function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}var wse=["ref"];function PT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PT(Object(n),!0).forEach(function(r){E0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _se(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J3(r.key),r)}}function jse(t,e,n){return e&&IT(t.prototype,e),n&&IT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sse(t,e,n){return e=_m(e),Ese(t,Q3()?Reflect.construct(e,n||[],_m(t).constructor):e.apply(t,n))}function Ese(t,e){if(e&&(Jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nse(t)}function Nse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q3=function(){return!!t})()}function _m(t){return _m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_m(t)}function Tse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_b(t,e)}function _b(t,e){return _b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_b(t,e)}function E0(t,e,n){return e=J3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J3(t){var e=Ase(t,"string");return Jl(e)=="symbol"?e:e+""}function Ase(t,e){if(Jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function kse(t,e){if(t==null)return{};var n=Pse(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ise(t){return t.value}function Cse(t,e){if(B.isValidElement(t))return B.cloneElement(t,e);if(typeof t=="function")return B.createElement(t,e);e.ref;var n=kse(e,wse);return B.createElement(tj,n)}var CT=1,Al=function(t){function e(){var n;_se(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Sse(this,e,[].concat(i)),E0(n,"lastBoundingBox",{width:-1,height:-1}),n}return Tse(e,t),jse(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>CT||Math.abs(i.height-this.lastBoundingBox.height)>CT)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Fi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,a=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&s==="vertical"){var v=this.getBBoxSnapshot();f={left:((u||0)-v.width)/2}}else f=a==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();p={top:((d||0)-g.height)/2}}else p=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Fi(Fi({},f),p)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,a=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Fi(Fi({position:"absolute",width:a||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return B.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(v){r.wrapperNode=v}},Cse(s,Fi(Fi({},this.props),{},{payload:Y3(d,u,Ise)})))}}],[{key:"getWithHeight",value:function(r,i){var s=Fi(Fi({},this.defaultProps),r.props),a=s.layout;return a==="vertical"&&ae(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(E.PureComponent);E0(Al,"displayName","Legend");E0(Al,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var OT=Rf,Ose=rj,Rse=rr,RT=OT?OT.isConcatSpreadable:void 0;function Dse(t){return Rse(t)||Ose(t)||!!(RT&&t&&t[RT])}var Lse=Dse,Mse=$3,$se=Lse;function Z3(t,e,n,r,i){var s=-1,a=t.length;for(n||(n=$se),i||(i=[]);++s<a;){var l=t[s];e>0&&n(l)?e>1?Z3(l,e-1,n,r,i):Mse(i,l):r||(i[i.length]=l)}return i}var eD=Z3;function Fse(t){return function(e,n,r){for(var i=-1,s=Object(e),a=r(e),l=a.length;l--;){var c=a[t?l:++i];if(n(s[c],c,s)===!1)break}return e}}var Use=Fse,Bse=Use,Vse=Bse(),zse=Vse,qse=zse,Wse=S0;function Hse(t,e){return t&&qse(t,e,Wse)}var tD=Hse,Kse=Mf;function Gse(t,e){return function(n,r){if(n==null)return n;if(!Kse(n))return t(n,r);for(var i=n.length,s=e?i:-1,a=Object(n);(e?s--:++s<i)&&r(a[s],s,a)!==!1;);return n}}var Xse=Gse,Yse=tD,Qse=Xse,Jse=Qse(Yse),oj=Jse,Zse=oj,eae=Mf;function tae(t,e){var n=-1,r=eae(t)?Array(t.length):[];return Zse(t,function(i,s,a){r[++n]=e(i,s,a)}),r}var nD=tae;function nae(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var rae=nae,DT=kc;function iae(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=DT(t),a=e!==void 0,l=e===null,c=e===e,u=DT(e);if(!l&&!u&&!s&&t>e||s&&a&&c&&!l&&!u||r&&a&&c||!n&&c||!i)return 1;if(!r&&!s&&!u&&t<e||u&&n&&i&&!r&&!s||l&&n&&i||!a&&i||!c)return-1}return 0}var sae=iae,aae=sae;function oae(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,a=i.length,l=n.length;++r<a;){var c=aae(i[r],s[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return t.index-e.index}var lae=oae,iv=W_,cae=H_,uae=ja,dae=nD,fae=rae,hae=B3,pae=lae,mae=Lc,gae=rr;function yae(t,e,n){e.length?e=iv(e,function(s){return gae(s)?function(a){return cae(a,s.length===1?s[0]:s)}:s}):e=[mae];var r=-1;e=iv(e,hae(uae));var i=dae(t,function(s,a,l){var c=iv(e,function(u){return u(s)});return{criteria:c,index:++r,value:s}});return fae(i,function(s,a){return pae(s,a,n)})}var vae=yae;function xae(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var bae=xae,wae=bae,LT=Math.max;function _ae(t,e,n){return e=LT(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=LT(r.length-e,0),a=Array(s);++i<s;)a[i]=r[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=r[i];return l[e]=n(a),wae(t,this,l)}}var jae=_ae;function Sae(t){return function(){return t}}var Eae=Sae,Nae=Oo,Tae=function(){try{var t=Nae(Object,"defineProperty");return t({},"",{}),t}catch{}}(),rD=Tae,Aae=Eae,MT=rD,kae=Lc,Pae=MT?function(t,e){return MT(t,"toString",{configurable:!0,enumerable:!1,value:Aae(e),writable:!0})}:kae,Iae=Pae,Cae=800,Oae=16,Rae=Date.now;function Dae(t){var e=0,n=0;return function(){var r=Rae(),i=Oae-(r-n);if(n=r,i>0){if(++e>=Cae)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Lae=Dae,Mae=Iae,$ae=Lae,Fae=$ae(Mae),Uae=Fae,Bae=Lc,Vae=jae,zae=Uae;function qae(t,e){return zae(Vae(t,e,Bae),t+"")}var Wae=qae,Hae=B_,Kae=Mf,Gae=ij,Xae=_a;function Yae(t,e,n){if(!Xae(n))return!1;var r=typeof e;return(r=="number"?Kae(n)&&Gae(e,n.length):r=="string"&&e in n)?Hae(n[e],t):!1}var N0=Yae,Qae=eD,Jae=vae,Zae=Wae,$T=N0,eoe=Zae(function(t,e){if(t==null)return[];var n=e.length;return n>1&&$T(t,e[0],e[1])?e=[]:n>2&&$T(e[0],e[1],e[2])&&(e=[e[0]]),Jae(t,Qae(e,1),[])}),toe=eoe;const lj=st(toe);function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function jb(){return jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jb.apply(this,arguments)}function noe(t,e){return aoe(t)||soe(t,e)||ioe(t,e)||roe()}function roe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ioe(t,e){if(t){if(typeof t=="string")return FT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FT(t,e)}}function FT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function soe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function aoe(t){if(Array.isArray(t))return t}function UT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UT(Object(n),!0).forEach(function(r){ooe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ooe(t,e,n){return e=loe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function loe(t){var e=coe(t,"string");return Od(e)=="symbol"?e:e+""}function coe(t,e){if(Od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uoe(t){return Array.isArray(t)&&Xt(t[0])&&Xt(t[1])?t.join(" ~ "):t}var doe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,l=a===void 0?{}:a,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,p=e.itemSorter,v=e.wrapperClassName,g=e.labelClassName,y=e.label,m=e.labelFormatter,x=e.accessibilityLayer,w=x===void 0?!1:x,b=function(){if(d&&d.length){var R={padding:0,margin:0},C=(p?lj(d,p):d).map(function(V,U){if(V.type==="none")return null;var $=sv({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},l),M=V.formatter||f||uoe,L=V.value,F=V.name,W=L,K=F;if(M&&W!=null&&K!=null){var Y=M(L,F,V,U,d);if(Array.isArray(Y)){var z=noe(Y,2);W=z[0],K=z[1]}else W=Y}return B.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:$},Xt(K)?B.createElement("span",{className:"recharts-tooltip-item-name"},K):null,Xt(K)?B.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,B.createElement("span",{className:"recharts-tooltip-item-value"},W),B.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return B.createElement("ul",{className:"recharts-tooltip-item-list",style:R},C)}return null},T=sv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),N=sv({margin:0},u),A=!Ie(y),_=A?y:"",S=ze("recharts-default-tooltip",v),k=ze("recharts-tooltip-label",g);A&&m&&d!==void 0&&d!==null&&(_=m(y,d));var O=w?{role:"status","aria-live":"assertive"}:{};return B.createElement("div",jb({className:S,style:T},O),B.createElement("p",{className:k,style:N},B.isValidElement(_)?_:"".concat(_)),b())};function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}function Ch(t,e,n){return e=foe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function foe(t){var e=hoe(t,"string");return Rd(e)=="symbol"?e:e+""}function hoe(t,e){if(Rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hu="recharts-tooltip-wrapper",poe={visibility:"hidden"};function moe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return ze(hu,Ch(Ch(Ch(Ch({},"".concat(hu,"-right"),ae(n)&&e&&ae(e.x)&&n>=e.x),"".concat(hu,"-left"),ae(n)&&e&&ae(e.x)&&n<e.x),"".concat(hu,"-bottom"),ae(r)&&e&&ae(e.y)&&r>=e.y),"".concat(hu,"-top"),ae(r)&&e&&ae(e.y)&&r<e.y))}function BT(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,a=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&ae(s[r]))return s[r];var d=n[r]-l-i,f=n[r]+i;if(e[r])return a[r]?d:f;if(a[r]){var p=d,v=c[r];return p<v?Math.max(f,c[r]):Math.max(d,c[r])}var g=f+l,y=c[r]+u;return g>y?Math.max(d,c[r]):Math.max(f,c[r])}function goe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function yoe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,a=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return a.height>0&&a.width>0&&n?(d=BT({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),f=BT({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),u=goe({translateX:d,translateY:f,useTranslate3d:l})):u=poe,{cssProperties:u,cssClasses:moe({translateX:d,translateY:f,coordinate:n})}}function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function VT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VT(Object(n),!0).forEach(function(r){Eb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function voe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xoe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sD(r.key),r)}}function boe(t,e,n){return e&&xoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function woe(t,e,n){return e=jm(e),_oe(t,iD()?Reflect.construct(e,n||[],jm(t).constructor):e.apply(t,n))}function _oe(t,e){if(e&&(Zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return joe(t)}function joe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iD=function(){return!!t})()}function jm(t){return jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jm(t)}function Soe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sb(t,e)}function Sb(t,e){return Sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sb(t,e)}function Eb(t,e,n){return e=sD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sD(t){var e=Eoe(t,"string");return Zl(e)=="symbol"?e:e+""}function Eoe(t,e){if(Zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qT=1,Noe=function(t){function e(){var n;voe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=woe(this,e,[].concat(i)),Eb(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Eb(n,"handleKeyDown",function(a){if(a.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return Soe(e,t),boe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>qT||Math.abs(r.height-this.state.lastBoundingBox.height)>qT)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,p=i.isAnimationActive,v=i.offset,g=i.position,y=i.reverseDirection,m=i.useTranslate3d,x=i.viewBox,w=i.wrapperStyle,b=yoe({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:v,position:g,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:m,viewBox:x}),T=b.cssClasses,N=b.cssProperties,A=zT(zT({transition:p&&s?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return B.createElement("div",{tabIndex:-1,className:T,style:A,ref:function(S){r.wrapperNode=S}},u)}}])}(E.PureComponent),Toe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Mc={isSsr:Toe()};function ec(t){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(t)}function WT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WT(Object(n),!0).forEach(function(r){cj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function koe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oD(r.key),r)}}function Poe(t,e,n){return e&&koe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ioe(t,e,n){return e=Sm(e),Coe(t,aD()?Reflect.construct(e,n||[],Sm(t).constructor):e.apply(t,n))}function Coe(t,e){if(e&&(ec(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ooe(t)}function Ooe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aD=function(){return!!t})()}function Sm(t){return Sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sm(t)}function Roe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nb(t,e)}function Nb(t,e){return Nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Nb(t,e)}function cj(t,e,n){return e=oD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oD(t){var e=Doe(t,"string");return ec(e)=="symbol"?e:e+""}function Doe(t,e){if(ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Loe(t){return t.dataKey}function Moe(t,e){return B.isValidElement(t)?B.cloneElement(t,e):typeof t=="function"?B.createElement(t,e):B.createElement(doe,e)}var yi=function(t){function e(){return Aoe(this,e),Ioe(this,e,arguments)}return Roe(e,t),Poe(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,p=i.isAnimationActive,v=i.offset,g=i.payload,y=i.payloadUniqBy,m=i.position,x=i.reverseDirection,w=i.useTranslate3d,b=i.viewBox,T=i.wrapperStyle,N=g??[];f&&N.length&&(N=Y3(g.filter(function(_){return _.value!=null&&(_.hide!==!0||r.props.includeHidden)}),y,Loe));var A=N.length>0;return B.createElement(Noe,{allowEscapeViewBox:a,animationDuration:l,animationEasing:c,isAnimationActive:p,active:s,coordinate:d,hasPayload:A,offset:v,position:m,reverseDirection:x,useTranslate3d:w,viewBox:b,wrapperStyle:T},Moe(u,HT(HT({},this.props),{},{payload:N})))}}])}(E.PureComponent);cj(yi,"displayName","Tooltip");cj(yi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Mc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var $oe=Li,Foe=function(){return $oe.Date.now()},Uoe=Foe,Boe=/\s/;function Voe(t){for(var e=t.length;e--&&Boe.test(t.charAt(e)););return e}var zoe=Voe,qoe=zoe,Woe=/^\s+/;function Hoe(t){return t&&t.slice(0,qoe(t)+1).replace(Woe,"")}var Koe=Hoe,Goe=Koe,KT=_a,Xoe=kc,GT=NaN,Yoe=/^[-+]0x[0-9a-f]+$/i,Qoe=/^0b[01]+$/i,Joe=/^0o[0-7]+$/i,Zoe=parseInt;function ele(t){if(typeof t=="number")return t;if(Xoe(t))return GT;if(KT(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=KT(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Goe(t);var n=Qoe.test(t);return n||Joe.test(t)?Zoe(t.slice(2),n?2:8):Yoe.test(t)?GT:+t}var lD=ele,tle=_a,av=Uoe,XT=lD,nle="Expected a function",rle=Math.max,ile=Math.min;function sle(t,e,n){var r,i,s,a,l,c,u=0,d=!1,f=!1,p=!0;if(typeof t!="function")throw new TypeError(nle);e=XT(e)||0,tle(n)&&(d=!!n.leading,f="maxWait"in n,s=f?rle(XT(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p);function v(A){var _=r,S=i;return r=i=void 0,u=A,a=t.apply(S,_),a}function g(A){return u=A,l=setTimeout(x,e),d?v(A):a}function y(A){var _=A-c,S=A-u,k=e-_;return f?ile(k,s-S):k}function m(A){var _=A-c,S=A-u;return c===void 0||_>=e||_<0||f&&S>=s}function x(){var A=av();if(m(A))return w(A);l=setTimeout(x,y(A))}function w(A){return l=void 0,p&&r?v(A):(r=i=void 0,a)}function b(){l!==void 0&&clearTimeout(l),u=0,r=c=i=l=void 0}function T(){return l===void 0?a:w(av())}function N(){var A=av(),_=m(A);if(r=arguments,i=this,c=A,_){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(x,e),v(c)}return l===void 0&&(l=setTimeout(x,e)),a}return N.cancel=b,N.flush=T,N}var ale=sle,ole=ale,lle=_a,cle="Expected a function";function ule(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(cle);return lle(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ole(t,e,{leading:r,maxWait:e,trailing:i})}var dle=ule;const cD=st(dle);function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function YT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YT(Object(n),!0).forEach(function(r){fle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fle(t,e,n){return e=hle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hle(t){var e=ple(t,"string");return Dd(e)=="symbol"?e:e+""}function ple(t,e){if(Dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mle(t,e){return xle(t)||vle(t,e)||yle(t,e)||gle()}function gle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yle(t,e){if(t){if(typeof t=="string")return QT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QT(t,e)}}function QT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function xle(t){if(Array.isArray(t))return t}var ble=E.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,a=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,p=t.maxHeight,v=t.children,g=t.debounce,y=g===void 0?0:g,m=t.id,x=t.className,w=t.onResize,b=t.style,T=b===void 0?{}:b,N=E.useRef(null),A=E.useRef();A.current=w,E.useImperativeHandle(e,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var _=E.useState({containerWidth:i.width,containerHeight:i.height}),S=mle(_,2),k=S[0],O=S[1],P=E.useCallback(function(C,V){O(function(U){var $=Math.round(C),M=Math.round(V);return U.containerWidth===$&&U.containerHeight===M?U:{containerWidth:$,containerHeight:M}})},[]);E.useEffect(function(){var C=function(F){var W,K=F[0].contentRect,Y=K.width,z=K.height;P(Y,z),(W=A.current)===null||W===void 0||W.call(A,Y,z)};y>0&&(C=cD(C,y,{trailing:!0,leading:!1}));var V=new ResizeObserver(C),U=N.current.getBoundingClientRect(),$=U.width,M=U.height;return P($,M),V.observe(N.current),function(){V.disconnect()}},[P,y]);var R=E.useMemo(function(){var C=k.containerWidth,V=k.containerHeight;if(C<0||V<0)return null;ns(Ka(a)||Ka(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,c),ns(!n||n>0,"The aspect(%s) must be greater than zero.",n);var U=Ka(a)?C:a,$=Ka(c)?V:c;n&&n>0&&(U?$=U/n:$&&(U=$*n),p&&$>p&&($=p)),ns(U>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,$,a,c,d,f,n);var M=!Array.isArray(v)&&ts(v.type).endsWith("Chart");return B.Children.map(v,function(L){return B.isValidElement(L)?E.cloneElement(L,Oh({width:U,height:$},M?{style:Oh({height:"100%",width:"100%",maxHeight:$,maxWidth:U},L.props.style)}:{})):L})},[n,v,c,p,f,d,k,a]);return B.createElement("div",{id:m?"".concat(m):void 0,className:ze("recharts-responsive-container",x),style:Oh(Oh({},T),{},{width:a,height:c,minWidth:d,minHeight:f,maxHeight:p}),ref:N},R)}),uD=function(e){return null};uD.displayName="Cell";function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}function JT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JT(Object(n),!0).forEach(function(r){wle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wle(t,e,n){return e=_le(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _le(t){var e=jle(t,"string");return Ld(e)=="symbol"?e:e+""}function jle(t,e){if(Ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wo={widthCache:{},cacheCount:0},Sle=2e3,Ele={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ZT="recharts_measurement_span";function Nle(t){var e=Tb({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Xu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Mc.isSsr)return{width:0,height:0};var r=Nle(n),i=JSON.stringify({text:e,copyStyle:r});if(Wo.widthCache[i])return Wo.widthCache[i];try{var s=document.getElementById(ZT);s||(s=document.createElement("span"),s.setAttribute("id",ZT),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=Tb(Tb({},Ele),r);Object.assign(s.style,a),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Wo.widthCache[i]=c,++Wo.cacheCount>Sle&&(Wo.cacheCount=0,Wo.widthCache={}),c}catch{return{width:0,height:0}}},Tle=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function Em(t,e){return Ile(t)||Ple(t,e)||kle(t,e)||Ale()}function Ale(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kle(t,e){if(t){if(typeof t=="string")return eA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eA(t,e)}}function eA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ple(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function Ile(t){if(Array.isArray(t))return t}function Cle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rle(r.key),r)}}function Ole(t,e,n){return e&&tA(t.prototype,e),n&&tA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rle(t){var e=Dle(t,"string");return Md(e)=="symbol"?e:e+""}function Dle(t,e){if(Md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Lle=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Mle=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,dD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$le=Object.keys(dD),ul="NaN";function Fle(t,e){return t*dD[e]}var Rh=function(){function t(e,n){Cle(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Lle.test(n)&&(this.num=NaN,this.unit=""),$le.includes(n)&&(this.num=Fle(e,n),this.unit="px")}return Ole(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Mle.exec(n))!==null&&r!==void 0?r:[],s=Em(i,3),a=s[1],l=s[2];return new t(parseFloat(a),l??"")}}])}();function fD(t){if(t.includes(ul))return ul;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=nA.exec(e))!==null&&n!==void 0?n:[],i=Em(r,4),s=i[1],a=i[2],l=i[3],c=Rh.parse(s??""),u=Rh.parse(l??""),d=a==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return ul;e=e.replace(nA,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,p=(f=rA.exec(e))!==null&&f!==void 0?f:[],v=Em(p,4),g=v[1],y=v[2],m=v[3],x=Rh.parse(g??""),w=Rh.parse(m??""),b=y==="+"?x.add(w):x.subtract(w);if(b.isNaN())return ul;e=e.replace(rA,b.toString())}return e}var iA=/\(([^()]*)\)/;function Ule(t){for(var e=t;e.includes("(");){var n=iA.exec(e),r=Em(n,2),i=r[1];e=e.replace(iA,fD(i))}return e}function Ble(t){var e=t.replace(/\s+/g,"");return e=Ule(e),e=fD(e),e}function Vle(t){try{return Ble(t)}catch{return ul}}function ov(t){var e=Vle(t.slice(5,-1));return e===ul?"":e}var zle=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],qle=["dx","dy","angle","className","breakAll"];function Ab(){return Ab=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ab.apply(this,arguments)}function sA(t,e){if(t==null)return{};var n=Wle(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function aA(t,e){return Xle(t)||Gle(t,e)||Kle(t,e)||Hle()}function Hle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kle(t,e){if(t){if(typeof t=="string")return oA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oA(t,e)}}function oA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function Xle(t){if(Array.isArray(t))return t}var hD=/[ \f\n\r\t\v\u2028\u2029]+/,pD=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];Ie(n)||(r?s=n.toString().split(""):s=n.toString().split(hD));var a=s.map(function(c){return{word:c,width:Xu(c,i).width}}),l=r?0:Xu("",i).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}},Yle=function(e,n,r,i,s){var a=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=ae(a),f=l,p=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function($,M){var L=M.word,F=M.width,W=$[$.length-1];if(W&&(i==null||s||W.width+F+r<Number(i)))W.words.push(L),W.width+=F+r;else{var K={words:[L],width:F};$.push(K)}return $},[])},v=p(n),g=function(U){return U.reduce(function($,M){return $.width>M.width?$:M})};if(!d)return v;for(var y="",m=function(U){var $=f.slice(0,U),M=pD({breakAll:u,style:c,children:$+y}).wordsWithComputedWidth,L=p(M),F=L.length>a||g(L).width>Number(i);return[F,L]},x=0,w=f.length-1,b=0,T;x<=w&&b<=f.length-1;){var N=Math.floor((x+w)/2),A=N-1,_=m(A),S=aA(_,2),k=S[0],O=S[1],P=m(N),R=aA(P,1),C=R[0];if(!k&&!C&&(x=N+1),k&&C&&(w=N-1),!k&&C){T=O;break}b++}return T||v},lA=function(e){var n=Ie(e)?[]:e.toString().split(hD);return[{words:n}]},Qle=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,l=e.maxLines;if((n||r)&&!Mc.isSsr){var c,u,d=pD({breakAll:a,children:i,style:s});if(d){var f=d.wordsWithComputedWidth,p=d.spaceWidth;c=f,u=p}else return lA(i);return Yle({breakAll:a,children:i,maxLines:l,style:s},c,u,n,r)}return lA(i)},cA="#808080",Nm=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.lineHeight,l=a===void 0?"1em":a,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,p=e.textAnchor,v=p===void 0?"start":p,g=e.verticalAnchor,y=g===void 0?"end":g,m=e.fill,x=m===void 0?cA:m,w=sA(e,zle),b=E.useMemo(function(){return Qle({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),T=w.dx,N=w.dy,A=w.angle,_=w.className,S=w.breakAll,k=sA(w,qle);if(!Xt(r)||!Xt(s))return null;var O=r+(ae(T)?T:0),P=s+(ae(N)?N:0),R;switch(y){case"start":R=ov("calc(".concat(u,")"));break;case"middle":R=ov("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:R=ov("calc(".concat(b.length-1," * -").concat(l,")"));break}var C=[];if(f){var V=b[0].width,U=w.width;C.push("scale(".concat((ae(U)?U/V:1)/V,")"))}return A&&C.push("rotate(".concat(A,", ").concat(O,", ").concat(P,")")),C.length&&(k.transform=C.join(" ")),B.createElement("text",Ab({},Me(k,!0),{x:O,y:P,className:ze("recharts-text",_),textAnchor:v,fill:x.includes("url")?cA:x}),b.map(function($,M){var L=$.words.join(S?"":" ");return B.createElement("tspan",{x:O,dy:M===0?R:l,key:"".concat(L,"-").concat(M)},L)}))};function oa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Jle(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function uj(t){let e,n,r;t.length!==2?(e=oa,n=(l,c)=>oa(t(l),c),r=(l,c)=>t(l)-c):(e=t===oa||t===Jle?t:Zle,n=t,r=t);function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:i,center:a,right:s}}function Zle(){return 0}function mD(t){return t===null?NaN:+t}function*ece(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const tce=uj(oa),$f=tce.right;uj(mD).center;class uA extends Map{constructor(e,n=ice){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(dA(this,e))}has(e){return super.has(dA(this,e))}set(e,n){return super.set(nce(this,e),n)}delete(e){return super.delete(rce(this,e))}}function dA({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function nce({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function rce({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function ice(t){return t!==null&&typeof t=="object"?t.valueOf():t}function sce(t=oa){if(t===oa)return gD;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function gD(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const ace=Math.sqrt(50),oce=Math.sqrt(10),lce=Math.sqrt(2);function Tm(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=ace?10:s>=oce?5:s>=lce?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/a,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*a,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=n&&n<2?Tm(t,e,n*2):[l,c,u]}function kb(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?Tm(e,t,n):Tm(t,e,n);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(r)if(a<0)for(let u=0;u<l;++u)c[u]=(s-u)/-a;else for(let u=0;u<l;++u)c[u]=(s-u)*a;else if(a<0)for(let u=0;u<l;++u)c[u]=(i+u)/-a;else for(let u=0;u<l;++u)c[u]=(i+u)*a;return c}function Pb(t,e,n){return e=+e,t=+t,n=+n,Tm(t,e,n)[2]}function Ib(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Pb(e,t,n):Pb(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function fA(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function hA(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function yD(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?gD:sce(i);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),v=Math.max(n,Math.floor(e-u*f/c+p)),g=Math.min(r,Math.floor(e+(c-u)*f/c+p));yD(t,e,v,g,i)}const s=t[e];let a=n,l=r;for(pu(t,n,e),i(t[r],s)>0&&pu(t,n,r);a<l;){for(pu(t,a,l),++a,--l;i(t[a],s)<0;)++a;for(;i(t[l],s)>0;)--l}i(t[n],s)===0?pu(t,n,l):(++l,pu(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function pu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function cce(t,e,n){if(t=Float64Array.from(ece(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return hA(t);if(e>=1)return fA(t);var r,i=(r-1)*e,s=Math.floor(i),a=fA(yD(t,s).subarray(0,s+1)),l=hA(t.subarray(s+1));return a+(l-a)*(i-s)}}function uce(t,e,n=mD){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),l=+n(t[s+1],s+1,t);return a+(l-a)*(i-s)}}function dce(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Ur(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function js(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Cb=Symbol("implicit");function dj(){var t=new uA,e=[],n=[],r=Cb;function i(s){let a=t.get(s);if(a===void 0){if(r!==Cb)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new uA;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return dj(e,n).unknown(r)},Ur.apply(i,arguments),i}function $d(){var t=dj().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var p=e().length,v=i<r,g=v?i:r,y=v?r:i;s=(y-g)/Math.max(1,p-c+u*2),l&&(s=Math.floor(s)),g+=(y-g-s*(p-c))*d,a=s*(1-c),l&&(g=Math.round(g),a=Math.round(a));var m=dce(p).map(function(x){return g+s*x});return n(v?m.reverse():m)}return t.domain=function(p){return arguments.length?(e(p),f()):e()},t.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,l=!0,f()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(p){return arguments.length?(l=!!p,f()):l},t.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),f()):c},t.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},t.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},t.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},t.copy=function(){return $d(e(),[r,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ur.apply(f(),arguments)}function vD(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return vD(e())},t}function Yu(){return vD($d.apply(null,arguments).paddingInner(1))}function fj(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function xD(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ff(){}var Fd=.7,Am=1/Fd,kl="\\s*([+-]?\\d+)\\s*",Ud="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fce=/^#([0-9a-f]{3,8})$/,hce=new RegExp(`^rgb\\(${kl},${kl},${kl}\\)$`),pce=new RegExp(`^rgb\\(${Pi},${Pi},${Pi}\\)$`),mce=new RegExp(`^rgba\\(${kl},${kl},${kl},${Ud}\\)$`),gce=new RegExp(`^rgba\\(${Pi},${Pi},${Pi},${Ud}\\)$`),yce=new RegExp(`^hsl\\(${Ud},${Pi},${Pi}\\)$`),vce=new RegExp(`^hsla\\(${Ud},${Pi},${Pi},${Ud}\\)$`),pA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fj(Ff,Bd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:mA,formatHex:mA,formatHex8:xce,formatHsl:bce,formatRgb:gA,toString:gA});function mA(){return this.rgb().formatHex()}function xce(){return this.rgb().formatHex8()}function bce(){return bD(this).formatHsl()}function gA(){return this.rgb().formatRgb()}function Bd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=fce.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?yA(e):n===3?new Xn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Dh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Dh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=hce.exec(t))?new Xn(e[1],e[2],e[3],1):(e=pce.exec(t))?new Xn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=mce.exec(t))?Dh(e[1],e[2],e[3],e[4]):(e=gce.exec(t))?Dh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=yce.exec(t))?bA(e[1],e[2]/100,e[3]/100,1):(e=vce.exec(t))?bA(e[1],e[2]/100,e[3]/100,e[4]):pA.hasOwnProperty(t)?yA(pA[t]):t==="transparent"?new Xn(NaN,NaN,NaN,0):null}function yA(t){return new Xn(t>>16&255,t>>8&255,t&255,1)}function Dh(t,e,n,r){return r<=0&&(t=e=n=NaN),new Xn(t,e,n,r)}function wce(t){return t instanceof Ff||(t=Bd(t)),t?(t=t.rgb(),new Xn(t.r,t.g,t.b,t.opacity)):new Xn}function Ob(t,e,n,r){return arguments.length===1?wce(t):new Xn(t,e,n,r??1)}function Xn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}fj(Xn,Ob,xD(Ff,{brighter(t){return t=t==null?Am:Math.pow(Am,t),new Xn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Fd:Math.pow(Fd,t),new Xn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Xn(no(this.r),no(this.g),no(this.b),km(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vA,formatHex:vA,formatHex8:_ce,formatRgb:xA,toString:xA}));function vA(){return`#${Ga(this.r)}${Ga(this.g)}${Ga(this.b)}`}function _ce(){return`#${Ga(this.r)}${Ga(this.g)}${Ga(this.b)}${Ga((isNaN(this.opacity)?1:this.opacity)*255)}`}function xA(){const t=km(this.opacity);return`${t===1?"rgb(":"rgba("}${no(this.r)}, ${no(this.g)}, ${no(this.b)}${t===1?")":`, ${t})`}`}function km(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function no(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ga(t){return t=no(t),(t<16?"0":"")+t.toString(16)}function bA(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ni(t,e,n,r)}function bD(t){if(t instanceof ni)return new ni(t.h,t.s,t.l,t.opacity);if(t instanceof Ff||(t=Bd(t)),!t)return new ni;if(t instanceof ni)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,l=s-i,c=(s+i)/2;return l?(e===s?a=(n-r)/l+(n<r)*6:n===s?a=(r-e)/l+2:a=(e-n)/l+4,l/=c<.5?s+i:2-s-i,a*=60):l=c>0&&c<1?0:a,new ni(a,l,c,t.opacity)}function jce(t,e,n,r){return arguments.length===1?bD(t):new ni(t,e,n,r??1)}function ni(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}fj(ni,jce,xD(Ff,{brighter(t){return t=t==null?Am:Math.pow(Am,t),new ni(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Fd:Math.pow(Fd,t),new ni(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Xn(lv(t>=240?t-240:t+120,i,r),lv(t,i,r),lv(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ni(wA(this.h),Lh(this.s),Lh(this.l),km(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=km(this.opacity);return`${t===1?"hsl(":"hsla("}${wA(this.h)}, ${Lh(this.s)*100}%, ${Lh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function wA(t){return t=(t||0)%360,t<0?t+360:t}function Lh(t){return Math.max(0,Math.min(1,t||0))}function lv(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const hj=t=>()=>t;function Sce(t,e){return function(n){return t+n*e}}function Ece(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Nce(t){return(t=+t)==1?wD:function(e,n){return n-e?Ece(e,n,t):hj(isNaN(e)?n:e)}}function wD(t,e){var n=e-t;return n?Sce(t,n):hj(isNaN(t)?e:t)}const _A=function t(e){var n=Nce(e);function r(i,s){var a=n((i=Ob(i)).r,(s=Ob(s)).r),l=n(i.g,s.g),c=n(i.b,s.b),u=wD(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function Tce(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Ace(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function kce(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=$c(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(l){for(a=0;a<r;++a)s[a]=i[a](l);return s}}function Pce(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Pm(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ice(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=$c(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Rb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cv=new RegExp(Rb.source,"g");function Cce(t){return function(){return t}}function Oce(t){return function(e){return t(e)+""}}function Rce(t,e){var n=Rb.lastIndex=cv.lastIndex=0,r,i,s,a=-1,l=[],c=[];for(t=t+"",e=e+"";(r=Rb.exec(t))&&(i=cv.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:Pm(r,i)})),n=cv.lastIndex;return n<e.length&&(s=e.slice(n),l[a]?l[a]+=s:l[++a]=s),l.length<2?c[0]?Oce(c[0].x):Cce(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function $c(t,e){var n=typeof e,r;return e==null||n==="boolean"?hj(e):(n==="number"?Pm:n==="string"?(r=Bd(e))?(e=r,_A):Rce:e instanceof Bd?_A:e instanceof Date?Pce:Ace(e)?Tce:Array.isArray(e)?kce:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ice:Pm)(t,e)}function pj(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Dce(t,e){e===void 0&&(e=t,t=$c);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[l](a-l)}}function Lce(t){return function(){return t}}function Im(t){return+t}var jA=[0,1];function Fn(t){return t}function Db(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Lce(isNaN(e)?NaN:.5)}function Mce(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function $ce(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=Db(i,r),s=n(a,s)):(r=Db(r,i),s=n(s,a)),function(l){return s(r(l))}}function Fce(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Db(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(l){var c=$f(t,l,1,r)-1;return s[c](i[c](l))}}function Uf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function T0(){var t=jA,e=jA,n=$c,r,i,s,a=Fn,l,c,u;function d(){var p=Math.min(t.length,e.length);return a!==Fn&&(a=Mce(t[0],t[p-1])),l=p>2?Fce:$ce,c=u=null,f}function f(p){return p==null||isNaN(p=+p)?s:(c||(c=l(t.map(r),e,n)))(r(a(p)))}return f.invert=function(p){return a(i((u||(u=l(e,t.map(r),Pm)))(p)))},f.domain=function(p){return arguments.length?(t=Array.from(p,Im),d()):t.slice()},f.range=function(p){return arguments.length?(e=Array.from(p),d()):e.slice()},f.rangeRound=function(p){return e=Array.from(p),n=pj,d()},f.clamp=function(p){return arguments.length?(a=p?!0:Fn,d()):a!==Fn},f.interpolate=function(p){return arguments.length?(n=p,d()):n},f.unknown=function(p){return arguments.length?(s=p,f):s},function(p,v){return r=p,i=v,d()}}function mj(){return T0()(Fn,Fn)}function Uce(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Cm(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function tc(t){return t=Cm(Math.abs(t)),t?t[1]:NaN}function Bce(t,e){return function(n,r){for(var i=n.length,s=[],a=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[a=(a+1)%t.length];return s.reverse().join(e)}}function Vce(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var zce=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vd(t){if(!(e=zce.exec(t)))throw new Error("invalid format: "+t);var e;return new gj({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Vd.prototype=gj.prototype;function gj(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}gj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qce(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var _D;function Wce(t,e){var n=Cm(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(_D=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Cm(t,Math.max(0,e+s-1))[0]}function SA(t,e){var n=Cm(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const EA={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Uce,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>SA(t*100,e),r:SA,s:Wce,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function NA(t){return t}var TA=Array.prototype.map,AA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Hce(t){var e=t.grouping===void 0||t.thousands===void 0?NA:Bce(TA.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?NA:Vce(TA.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Vd(f);var p=f.fill,v=f.align,g=f.sign,y=f.symbol,m=f.zero,x=f.width,w=f.comma,b=f.precision,T=f.trim,N=f.type;N==="n"?(w=!0,N="g"):EA[N]||(b===void 0&&(b=12),T=!0,N="g"),(m||p==="0"&&v==="=")&&(m=!0,p="0",v="=");var A=y==="$"?n:y==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",_=y==="$"?r:/[%p]/.test(N)?a:"",S=EA[N],k=/[defgprs%]/.test(N);b=b===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function O(P){var R=A,C=_,V,U,$;if(N==="c")C=S(P)+C,P="";else{P=+P;var M=P<0||1/P<0;if(P=isNaN(P)?c:S(Math.abs(P),b),T&&(P=qce(P)),M&&+P==0&&g!=="+"&&(M=!1),R=(M?g==="("?g:l:g==="-"||g==="("?"":g)+R,C=(N==="s"?AA[8+_D/3]:"")+C+(M&&g==="("?")":""),k){for(V=-1,U=P.length;++V<U;)if($=P.charCodeAt(V),48>$||$>57){C=($===46?i+P.slice(V+1):P.slice(V))+C,P=P.slice(0,V);break}}}w&&!m&&(P=e(P,1/0));var L=R.length+P.length+C.length,F=L<x?new Array(x-L+1).join(p):"";switch(w&&m&&(P=e(F+P,F.length?x-C.length:1/0),F=""),v){case"<":P=R+P+C+F;break;case"=":P=R+F+P+C;break;case"^":P=F.slice(0,L=F.length>>1)+R+P+C+F.slice(L);break;default:P=F+R+P+C;break}return s(P)}return O.toString=function(){return f+""},O}function d(f,p){var v=u((f=Vd(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(tc(p)/3)))*3,y=Math.pow(10,-g),m=AA[8+g/3];return function(x){return v(y*x)+m}}return{format:u,formatPrefix:d}}var Mh,yj,jD;Kce({thousands:",",grouping:[3],currency:["$",""]});function Kce(t){return Mh=Hce(t),yj=Mh.format,jD=Mh.formatPrefix,Mh}function Gce(t){return Math.max(0,-tc(Math.abs(t)))}function Xce(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(tc(e)/3)))*3-tc(Math.abs(t)))}function Yce(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,tc(e)-tc(t))+1}function SD(t,e,n,r){var i=Ib(t,e,n),s;switch(r=Vd(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Xce(i,a))&&(r.precision=s),jD(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Yce(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Gce(i))&&(r.precision=s-(r.type==="%")*2);break}}return yj(r)}function Sa(t){var e=t.domain;return t.ticks=function(n){var r=e();return kb(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return SD(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],l=r[s],c,u,d=10;for(l<a&&(u=a,a=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=Pb(a,l,n),u===c)return r[i]=a,r[s]=l,e(r);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function Om(){var t=mj();return t.copy=function(){return Uf(t,Om())},Ur.apply(t,arguments),Sa(t)}function ED(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Im),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return ED(t).unknown(e)},t=arguments.length?Array.from(t,Im):[0,1],Sa(n)}function ND(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function kA(t){return Math.log(t)}function PA(t){return Math.exp(t)}function Qce(t){return-Math.log(-t)}function Jce(t){return-Math.exp(-t)}function Zce(t){return isFinite(t)?+("1e"+t):t<0?0:t}function eue(t){return t===10?Zce:t===Math.E?Math.exp:e=>Math.pow(t,e)}function tue(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function IA(t){return(e,n)=>-t(-e,n)}function vj(t){const e=t(kA,PA),n=e.domain;let r=10,i,s;function a(){return i=tue(r),s=eue(r),n()[0]<0?(i=IA(i),s=IA(s),t(Qce,Jce)):t(kA,PA),e}return e.base=function(l){return arguments.length?(r=+l,a()):r},e.domain=function(l){return arguments.length?(n(l),a()):n()},e.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let p=i(u),v=i(d),g,y;const m=l==null?10:+l;let x=[];if(!(r%1)&&v-p<m){if(p=Math.floor(p),v=Math.ceil(v),u>0){for(;p<=v;++p)for(g=1;g<r;++g)if(y=p<0?g/s(-p):g*s(p),!(y<u)){if(y>d)break;x.push(y)}}else for(;p<=v;++p)for(g=r-1;g>=1;--g)if(y=p>0?g/s(-p):g*s(p),!(y<u)){if(y>d)break;x.push(y)}x.length*2<m&&(x=kb(u,d,m))}else x=kb(p,v,Math.min(v-p,m)).map(s);return f?x.reverse():x},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Vd(c)).precision==null&&(c.trim=!0),c=yj(c)),l===1/0)return c;const u=Math.max(1,r*l/e.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},e.nice=()=>n(ND(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function TD(){const t=vj(T0()).domain([1,10]);return t.copy=()=>Uf(t,TD()).base(t.base()),Ur.apply(t,arguments),t}function CA(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function OA(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function xj(t){var e=1,n=t(CA(e),OA(e));return n.constant=function(r){return arguments.length?t(CA(e=+r),OA(e)):e},Sa(n)}function AD(){var t=xj(T0());return t.copy=function(){return Uf(t,AD()).constant(t.constant())},Ur.apply(t,arguments)}function RA(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function nue(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function rue(t){return t<0?-t*t:t*t}function bj(t){var e=t(Fn,Fn),n=1;function r(){return n===1?t(Fn,Fn):n===.5?t(nue,rue):t(RA(n),RA(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Sa(e)}function wj(){var t=bj(T0());return t.copy=function(){return Uf(t,wj()).exponent(t.exponent())},Ur.apply(t,arguments),t}function iue(){return wj.apply(null,arguments).exponent(.5)}function DA(t){return Math.sign(t)*t*t}function sue(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function kD(){var t=mj(),e=[0,1],n=!1,r;function i(s){var a=sue(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(DA(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Im)).map(DA)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return kD(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ur.apply(i,arguments),Sa(i)}function PD(){var t=[],e=[],n=[],r;function i(){var a=0,l=Math.max(1,e.length);for(n=new Array(l-1);++a<l;)n[a-1]=uce(t,a/l);return s}function s(a){return a==null||isNaN(a=+a)?r:e[$f(n,a)]}return s.invertExtent=function(a){var l=e.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let l of a)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(oa),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return PD().domain(t).range(e).unknown(r)},Ur.apply(s,arguments)}function ID(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[$f(r,c,0,n)]:s}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},a.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},a.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return ID().domain([t,e]).range(i).unknown(s)},Ur.apply(Sa(a),arguments)}function CD(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[$f(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return CD().domain(t).range(e).unknown(n)},Ur.apply(i,arguments)}const uv=new Date,dv=new Date;function Jt(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<a);return c},i.filter=s=>Jt(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!s(a););else for(;--l>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(uv.setTime(+s),dv.setTime(+a),t(uv),t(dv),Math.floor(n(uv,dv))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const Rm=Jt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Rm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Jt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Rm);Rm.range;const Yi=1e3,Tr=Yi*60,Qi=Tr*60,fs=Qi*24,_j=fs*7,LA=fs*30,fv=fs*365,Xa=Jt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Yi)},(t,e)=>(e-t)/Yi,t=>t.getUTCSeconds());Xa.range;const jj=Jt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Yi)},(t,e)=>{t.setTime(+t+e*Tr)},(t,e)=>(e-t)/Tr,t=>t.getMinutes());jj.range;const Sj=Jt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Tr)},(t,e)=>(e-t)/Tr,t=>t.getUTCMinutes());Sj.range;const Ej=Jt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Yi-t.getMinutes()*Tr)},(t,e)=>{t.setTime(+t+e*Qi)},(t,e)=>(e-t)/Qi,t=>t.getHours());Ej.range;const Nj=Jt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Qi)},(t,e)=>(e-t)/Qi,t=>t.getUTCHours());Nj.range;const Bf=Jt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Tr)/fs,t=>t.getDate()-1);Bf.range;const A0=Jt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fs,t=>t.getUTCDate()-1);A0.range;const OD=Jt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fs,t=>Math.floor(t/fs));OD.range;function Ro(t){return Jt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Tr)/_j)}const k0=Ro(0),Dm=Ro(1),aue=Ro(2),oue=Ro(3),nc=Ro(4),lue=Ro(5),cue=Ro(6);k0.range;Dm.range;aue.range;oue.range;nc.range;lue.range;cue.range;function Do(t){return Jt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/_j)}const P0=Do(0),Lm=Do(1),uue=Do(2),due=Do(3),rc=Do(4),fue=Do(5),hue=Do(6);P0.range;Lm.range;uue.range;due.range;rc.range;fue.range;hue.range;const Tj=Jt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Tj.range;const Aj=Jt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Aj.range;const hs=Jt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());hs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Jt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});hs.range;const ps=Jt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ps.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Jt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ps.range;function RD(t,e,n,r,i,s){const a=[[Xa,1,Yi],[Xa,5,5*Yi],[Xa,15,15*Yi],[Xa,30,30*Yi],[s,1,Tr],[s,5,5*Tr],[s,15,15*Tr],[s,30,30*Tr],[i,1,Qi],[i,3,3*Qi],[i,6,6*Qi],[i,12,12*Qi],[r,1,fs],[r,2,2*fs],[n,1,_j],[e,1,LA],[e,3,3*LA],[t,1,fv]];function l(u,d,f){const p=d<u;p&&([u,d]=[d,u]);const v=f&&typeof f.range=="function"?f:c(u,d,f),g=v?v.range(u,+d+1):[];return p?g.reverse():g}function c(u,d,f){const p=Math.abs(d-u)/f,v=uj(([,,m])=>m).right(a,p);if(v===a.length)return t.every(Ib(u/fv,d/fv,f));if(v===0)return Rm.every(Math.max(Ib(u,d,f),1));const[g,y]=a[p/a[v-1][2]<a[v][2]/p?v-1:v];return g.every(y)}return[l,c]}const[pue,mue]=RD(ps,Aj,P0,OD,Nj,Sj),[gue,yue]=RD(hs,Tj,k0,Bf,Ej,jj);function hv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function pv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function mu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function vue(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,l=t.months,c=t.shortMonths,u=gu(i),d=yu(i),f=gu(s),p=yu(s),v=gu(a),g=yu(a),y=gu(l),m=yu(l),x=gu(c),w=yu(c),b={a:M,A:L,b:F,B:W,c:null,d:VA,e:VA,f:Bue,g:Que,G:Zue,H:$ue,I:Fue,j:Uue,L:DD,m:Vue,M:zue,p:K,q:Y,Q:WA,s:HA,S:que,u:Wue,U:Hue,V:Kue,w:Gue,W:Xue,x:null,X:null,y:Yue,Y:Jue,Z:ede,"%":qA},T={a:z,A:oe,b:je,B:Pe,c:null,d:zA,e:zA,f:ide,g:pde,G:gde,H:tde,I:nde,j:rde,L:MD,m:sde,M:ade,p:Oe,q:Ye,Q:WA,s:HA,S:ode,u:lde,U:cde,V:ude,w:dde,W:fde,x:null,X:null,y:hde,Y:mde,Z:yde,"%":qA},N={a:O,A:P,b:R,B:C,c:V,d:UA,e:UA,f:Rue,g:FA,G:$A,H:BA,I:BA,j:Pue,L:Oue,m:kue,M:Iue,p:k,q:Aue,Q:Lue,s:Mue,S:Cue,u:jue,U:Sue,V:Eue,w:_ue,W:Nue,x:U,X:$,y:FA,Y:$A,Z:Tue,"%":Due};b.x=A(n,b),b.X=A(r,b),b.c=A(e,b),T.x=A(n,T),T.X=A(r,T),T.c=A(e,T);function A(re,ye){return function(ve){var J=[],Ue=-1,Te=0,nt=re.length,at,ie,ge;for(ve instanceof Date||(ve=new Date(+ve));++Ue<nt;)re.charCodeAt(Ue)===37&&(J.push(re.slice(Te,Ue)),(ie=MA[at=re.charAt(++Ue)])!=null?at=re.charAt(++Ue):ie=at==="e"?" ":"0",(ge=ye[at])&&(at=ge(ve,ie)),J.push(at),Te=Ue+1);return J.push(re.slice(Te,Ue)),J.join("")}}function _(re,ye){return function(ve){var J=mu(1900,void 0,1),Ue=S(J,re,ve+="",0),Te,nt;if(Ue!=ve.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(ye&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(Te=pv(mu(J.y,0,1)),nt=Te.getUTCDay(),Te=nt>4||nt===0?Lm.ceil(Te):Lm(Te),Te=A0.offset(Te,(J.V-1)*7),J.y=Te.getUTCFullYear(),J.m=Te.getUTCMonth(),J.d=Te.getUTCDate()+(J.w+6)%7):(Te=hv(mu(J.y,0,1)),nt=Te.getDay(),Te=nt>4||nt===0?Dm.ceil(Te):Dm(Te),Te=Bf.offset(Te,(J.V-1)*7),J.y=Te.getFullYear(),J.m=Te.getMonth(),J.d=Te.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),nt="Z"in J?pv(mu(J.y,0,1)).getUTCDay():hv(mu(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(nt+5)%7:J.w+J.U*7-(nt+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,pv(J)):hv(J)}}function S(re,ye,ve,J){for(var Ue=0,Te=ye.length,nt=ve.length,at,ie;Ue<Te;){if(J>=nt)return-1;if(at=ye.charCodeAt(Ue++),at===37){if(at=ye.charAt(Ue++),ie=N[at in MA?ye.charAt(Ue++):at],!ie||(J=ie(re,ve,J))<0)return-1}else if(at!=ve.charCodeAt(J++))return-1}return J}function k(re,ye,ve){var J=u.exec(ye.slice(ve));return J?(re.p=d.get(J[0].toLowerCase()),ve+J[0].length):-1}function O(re,ye,ve){var J=v.exec(ye.slice(ve));return J?(re.w=g.get(J[0].toLowerCase()),ve+J[0].length):-1}function P(re,ye,ve){var J=f.exec(ye.slice(ve));return J?(re.w=p.get(J[0].toLowerCase()),ve+J[0].length):-1}function R(re,ye,ve){var J=x.exec(ye.slice(ve));return J?(re.m=w.get(J[0].toLowerCase()),ve+J[0].length):-1}function C(re,ye,ve){var J=y.exec(ye.slice(ve));return J?(re.m=m.get(J[0].toLowerCase()),ve+J[0].length):-1}function V(re,ye,ve){return S(re,e,ye,ve)}function U(re,ye,ve){return S(re,n,ye,ve)}function $(re,ye,ve){return S(re,r,ye,ve)}function M(re){return a[re.getDay()]}function L(re){return s[re.getDay()]}function F(re){return c[re.getMonth()]}function W(re){return l[re.getMonth()]}function K(re){return i[+(re.getHours()>=12)]}function Y(re){return 1+~~(re.getMonth()/3)}function z(re){return a[re.getUTCDay()]}function oe(re){return s[re.getUTCDay()]}function je(re){return c[re.getUTCMonth()]}function Pe(re){return l[re.getUTCMonth()]}function Oe(re){return i[+(re.getUTCHours()>=12)]}function Ye(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var ye=A(re+="",b);return ye.toString=function(){return re},ye},parse:function(re){var ye=_(re+="",!1);return ye.toString=function(){return re},ye},utcFormat:function(re){var ye=A(re+="",T);return ye.toString=function(){return re},ye},utcParse:function(re){var ye=_(re+="",!0);return ye.toString=function(){return re},ye}}}var MA={"-":"",_:" ",0:"0"},on=/^\s*\d+/,xue=/^%/,bue=/[\\^$*+?|[\]().{}]/g;function Ke(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function wue(t){return t.replace(bue,"\\$&")}function gu(t){return new RegExp("^(?:"+t.map(wue).join("|")+")","i")}function yu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function _ue(t,e,n){var r=on.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function jue(t,e,n){var r=on.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Sue(t,e,n){var r=on.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Eue(t,e,n){var r=on.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Nue(t,e,n){var r=on.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function $A(t,e,n){var r=on.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function FA(t,e,n){var r=on.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Tue(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Aue(t,e,n){var r=on.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function kue(t,e,n){var r=on.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function UA(t,e,n){var r=on.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Pue(t,e,n){var r=on.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function BA(t,e,n){var r=on.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Iue(t,e,n){var r=on.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Cue(t,e,n){var r=on.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Oue(t,e,n){var r=on.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Rue(t,e,n){var r=on.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Due(t,e,n){var r=xue.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Lue(t,e,n){var r=on.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Mue(t,e,n){var r=on.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function VA(t,e){return Ke(t.getDate(),e,2)}function $ue(t,e){return Ke(t.getHours(),e,2)}function Fue(t,e){return Ke(t.getHours()%12||12,e,2)}function Uue(t,e){return Ke(1+Bf.count(hs(t),t),e,3)}function DD(t,e){return Ke(t.getMilliseconds(),e,3)}function Bue(t,e){return DD(t,e)+"000"}function Vue(t,e){return Ke(t.getMonth()+1,e,2)}function zue(t,e){return Ke(t.getMinutes(),e,2)}function que(t,e){return Ke(t.getSeconds(),e,2)}function Wue(t){var e=t.getDay();return e===0?7:e}function Hue(t,e){return Ke(k0.count(hs(t)-1,t),e,2)}function LD(t){var e=t.getDay();return e>=4||e===0?nc(t):nc.ceil(t)}function Kue(t,e){return t=LD(t),Ke(nc.count(hs(t),t)+(hs(t).getDay()===4),e,2)}function Gue(t){return t.getDay()}function Xue(t,e){return Ke(Dm.count(hs(t)-1,t),e,2)}function Yue(t,e){return Ke(t.getFullYear()%100,e,2)}function Que(t,e){return t=LD(t),Ke(t.getFullYear()%100,e,2)}function Jue(t,e){return Ke(t.getFullYear()%1e4,e,4)}function Zue(t,e){var n=t.getDay();return t=n>=4||n===0?nc(t):nc.ceil(t),Ke(t.getFullYear()%1e4,e,4)}function ede(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ke(e/60|0,"0",2)+Ke(e%60,"0",2)}function zA(t,e){return Ke(t.getUTCDate(),e,2)}function tde(t,e){return Ke(t.getUTCHours(),e,2)}function nde(t,e){return Ke(t.getUTCHours()%12||12,e,2)}function rde(t,e){return Ke(1+A0.count(ps(t),t),e,3)}function MD(t,e){return Ke(t.getUTCMilliseconds(),e,3)}function ide(t,e){return MD(t,e)+"000"}function sde(t,e){return Ke(t.getUTCMonth()+1,e,2)}function ade(t,e){return Ke(t.getUTCMinutes(),e,2)}function ode(t,e){return Ke(t.getUTCSeconds(),e,2)}function lde(t){var e=t.getUTCDay();return e===0?7:e}function cde(t,e){return Ke(P0.count(ps(t)-1,t),e,2)}function $D(t){var e=t.getUTCDay();return e>=4||e===0?rc(t):rc.ceil(t)}function ude(t,e){return t=$D(t),Ke(rc.count(ps(t),t)+(ps(t).getUTCDay()===4),e,2)}function dde(t){return t.getUTCDay()}function fde(t,e){return Ke(Lm.count(ps(t)-1,t),e,2)}function hde(t,e){return Ke(t.getUTCFullYear()%100,e,2)}function pde(t,e){return t=$D(t),Ke(t.getUTCFullYear()%100,e,2)}function mde(t,e){return Ke(t.getUTCFullYear()%1e4,e,4)}function gde(t,e){var n=t.getUTCDay();return t=n>=4||n===0?rc(t):rc.ceil(t),Ke(t.getUTCFullYear()%1e4,e,4)}function yde(){return"+0000"}function qA(){return"%"}function WA(t){return+t}function HA(t){return Math.floor(+t/1e3)}var Ho,FD,UD;vde({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function vde(t){return Ho=vue(t),FD=Ho.format,Ho.parse,UD=Ho.utcFormat,Ho.utcParse,Ho}function xde(t){return new Date(t)}function bde(t){return t instanceof Date?+t:+new Date(+t)}function kj(t,e,n,r,i,s,a,l,c,u){var d=mj(),f=d.invert,p=d.domain,v=u(".%L"),g=u(":%S"),y=u("%I:%M"),m=u("%I %p"),x=u("%a %d"),w=u("%b %d"),b=u("%B"),T=u("%Y");function N(A){return(c(A)<A?v:l(A)<A?g:a(A)<A?y:s(A)<A?m:r(A)<A?i(A)<A?x:w:n(A)<A?b:T)(A)}return d.invert=function(A){return new Date(f(A))},d.domain=function(A){return arguments.length?p(Array.from(A,bde)):p().map(xde)},d.ticks=function(A){var _=p();return t(_[0],_[_.length-1],A??10)},d.tickFormat=function(A,_){return _==null?N:u(_)},d.nice=function(A){var _=p();return(!A||typeof A.range!="function")&&(A=e(_[0],_[_.length-1],A??10)),A?p(ND(_,A)):d},d.copy=function(){return Uf(d,kj(t,e,n,r,i,s,a,l,c,u))},d}function wde(){return Ur.apply(kj(gue,yue,hs,Tj,k0,Bf,Ej,jj,Xa,FD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _de(){return Ur.apply(kj(pue,mue,ps,Aj,P0,A0,Nj,Sj,Xa,UD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function I0(){var t=0,e=1,n,r,i,s,a=Fn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:a(i===0?.5:(f=(s(f)-n)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(p){var v,g;return arguments.length?([v,g]=p,a=f(v,g),u):[a(0),a(1)]}}return u.range=d($c),u.rangeRound=d(pj),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Ea(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function BD(){var t=Sa(I0()(Fn));return t.copy=function(){return Ea(t,BD())},js.apply(t,arguments)}function VD(){var t=vj(I0()).domain([1,10]);return t.copy=function(){return Ea(t,VD()).base(t.base())},js.apply(t,arguments)}function zD(){var t=xj(I0());return t.copy=function(){return Ea(t,zD()).constant(t.constant())},js.apply(t,arguments)}function Pj(){var t=bj(I0());return t.copy=function(){return Ea(t,Pj()).exponent(t.exponent())},js.apply(t,arguments)}function jde(){return Pj.apply(null,arguments).exponent(.5)}function qD(){var t=[],e=Fn;function n(r){if(r!=null&&!isNaN(r=+r))return e(($f(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(oa),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>cce(t,s/r))},n.copy=function(){return qD(e).domain(t)},js.apply(n,arguments)}function C0(){var t=0,e=.5,n=1,r=1,i,s,a,l,c,u=Fn,d,f=!1,p;function v(y){return isNaN(y=+y)?p:(y=.5+((y=+d(y))-s)*(r*y<r*s?l:c),u(f?Math.max(0,Math.min(1,y)):y))}v.domain=function(y){return arguments.length?([t,e,n]=y,i=d(t=+t),s=d(e=+e),a=d(n=+n),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,v):[t,e,n]},v.clamp=function(y){return arguments.length?(f=!!y,v):f},v.interpolator=function(y){return arguments.length?(u=y,v):u};function g(y){return function(m){var x,w,b;return arguments.length?([x,w,b]=m,u=Dce(y,[x,w,b]),v):[u(0),u(.5),u(1)]}}return v.range=g($c),v.rangeRound=g(pj),v.unknown=function(y){return arguments.length?(p=y,v):p},function(y){return d=y,i=y(t),s=y(e),a=y(n),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,v}}function WD(){var t=Sa(C0()(Fn));return t.copy=function(){return Ea(t,WD())},js.apply(t,arguments)}function HD(){var t=vj(C0()).domain([.1,1,10]);return t.copy=function(){return Ea(t,HD()).base(t.base())},js.apply(t,arguments)}function KD(){var t=xj(C0());return t.copy=function(){return Ea(t,KD()).constant(t.constant())},js.apply(t,arguments)}function Ij(){var t=bj(C0());return t.copy=function(){return Ea(t,Ij()).exponent(t.exponent())},js.apply(t,arguments)}function Sde(){return Ij.apply(null,arguments).exponent(.5)}const KA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$d,scaleDiverging:WD,scaleDivergingLog:HD,scaleDivergingPow:Ij,scaleDivergingSqrt:Sde,scaleDivergingSymlog:KD,scaleIdentity:ED,scaleImplicit:Cb,scaleLinear:Om,scaleLog:TD,scaleOrdinal:dj,scalePoint:Yu,scalePow:wj,scaleQuantile:PD,scaleQuantize:ID,scaleRadial:kD,scaleSequential:BD,scaleSequentialLog:VD,scaleSequentialPow:Pj,scaleSequentialQuantile:qD,scaleSequentialSqrt:jde,scaleSequentialSymlog:zD,scaleSqrt:iue,scaleSymlog:AD,scaleThreshold:CD,scaleTime:wde,scaleUtc:_de,tickFormat:SD},Symbol.toStringTag,{value:"Module"}));var Ede=kc;function Nde(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],a=e(s);if(a!=null&&(l===void 0?a===a&&!Ede(a):n(a,l)))var l=a,c=s}return c}var GD=Nde;function Tde(t,e){return t>e}var Ade=Tde,kde=GD,Pde=Ade,Ide=Lc;function Cde(t){return t&&t.length?kde(t,Ide,Pde):void 0}var Ode=Cde;const O0=st(Ode);function Rde(t,e){return t<e}var Dde=Rde,Lde=GD,Mde=Dde,$de=Lc;function Fde(t){return t&&t.length?Lde(t,$de,Mde):void 0}var Ude=Fde;const R0=st(Ude);var Bde=W_,Vde=ja,zde=nD,qde=rr;function Wde(t,e){var n=qde(t)?Bde:zde;return n(t,Vde(e))}var Hde=Wde,Kde=eD,Gde=Hde;function Xde(t,e){return Kde(Gde(t,e),1)}var Yde=Xde;const Qde=st(Yde);var Jde=aj;function Zde(t,e){return Jde(t,e)}var efe=Zde;const D0=st(efe);var Fc=1e9,tfe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Oj,xt=!0,Lr="[DecimalError] ",ro=Lr+"Invalid argument: ",Cj=Lr+"Exponent out of range: ",Uc=Math.floor,$a=Math.pow,nfe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,cr,nn=1e7,ht=7,XD=9007199254740991,Mm=Uc(XD/ht),ue={};ue.absoluteValue=ue.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ue.comparedTo=ue.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};ue.decimalPlaces=ue.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ht;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ue.dividedBy=ue.div=function(t){return rs(this,new this.constructor(t))};ue.dividedToIntegerBy=ue.idiv=function(t){var e=this,n=e.constructor;return it(rs(e,new n(t),0,1),n.precision)};ue.equals=ue.eq=function(t){return!this.cmp(t)};ue.exponent=function(){return zt(this)};ue.greaterThan=ue.gt=function(t){return this.cmp(t)>0};ue.greaterThanOrEqualTo=ue.gte=function(t){return this.cmp(t)>=0};ue.isInteger=ue.isint=function(){return this.e>this.d.length-2};ue.isNegative=ue.isneg=function(){return this.s<0};ue.isPositive=ue.ispos=function(){return this.s>0};ue.isZero=function(){return this.s===0};ue.lessThan=ue.lt=function(t){return this.cmp(t)<0};ue.lessThanOrEqualTo=ue.lte=function(t){return this.cmp(t)<1};ue.logarithm=ue.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(cr))throw Error(Lr+"NaN");if(n.s<1)throw Error(Lr+(n.s?"NaN":"-Infinity"));return n.eq(cr)?new r(0):(xt=!1,e=rs(zd(n,s),zd(t,s),s),xt=!0,it(e,i))};ue.minus=ue.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?JD(e,t):YD(e,(t.s=-t.s,t))};ue.modulo=ue.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Lr+"NaN");return n.s?(xt=!1,e=rs(n,t,0,1).times(t),xt=!0,n.minus(e)):it(new r(n),i)};ue.naturalExponential=ue.exp=function(){return QD(this)};ue.naturalLogarithm=ue.ln=function(){return zd(this)};ue.negated=ue.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ue.plus=ue.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?YD(e,t):JD(e,(t.s=-t.s,t))};ue.precision=ue.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ro+t);if(e=zt(i)+1,r=i.d.length-1,n=r*ht+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ue.squareRoot=ue.sqrt=function(){var t,e,n,r,i,s,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Lr+"NaN")}for(t=zt(l),xt=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=wi(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Uc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=a=n+3;;)if(s=r,r=s.plus(rs(l,s,a+2)).times(.5),wi(s.d).slice(0,a)===(e=wi(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(it(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(e!="9999")break;a+=4}return xt=!0,it(r,n)};ue.times=ue.mul=function(t){var e,n,r,i,s,a,l,c,u,d=this,f=d.constructor,p=d.d,v=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,c=p.length,u=v.length,c<u&&(s=p,p=v,v=s,a=c,c=u,u=a),s=[],a=c+u,r=a;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)l=s[i]+v[r]*p[i-r-1]+e,s[i--]=l%nn|0,e=l/nn|0;s[i]=(s[i]+e)%nn|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,xt?it(t,f.precision):t};ue.toDecimalPlaces=ue.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ri(t,0,Fc),e===void 0?e=r.rounding:Ri(e,0,8),it(n,t+zt(n)+1,e))};ue.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=wo(r,!0):(Ri(t,0,Fc),e===void 0?e=i.rounding:Ri(e,0,8),r=it(new i(r),t+1,e),n=wo(r,!0,t+1)),n};ue.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?wo(i):(Ri(t,0,Fc),e===void 0?e=s.rounding:Ri(e,0,8),r=it(new s(i),t+zt(i)+1,e),n=wo(r.abs(),!1,t+zt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ue.toInteger=ue.toint=function(){var t=this,e=t.constructor;return it(new e(t),zt(t)+1,e.rounding)};ue.toNumber=function(){return+this};ue.toPower=ue.pow=function(t){var e,n,r,i,s,a,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(cr);if(l=new c(l),!l.s){if(t.s<1)throw Error(Lr+"Infinity");return l}if(l.eq(cr))return l;if(r=c.precision,t.eq(cr))return it(l,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=l.s,a){if((n=d<0?-d:d)<=XD){for(i=new c(cr),e=Math.ceil(r/ht+4),xt=!1;n%2&&(i=i.times(l),XA(i.d,e)),n=Uc(n/2),n!==0;)l=l.times(l),XA(l.d,e);return xt=!0,t.s<0?new c(cr).div(i):it(i,r)}}else if(s<0)throw Error(Lr+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,xt=!1,i=t.times(zd(l,r+u)),xt=!0,i=QD(i),i.s=s,i};ue.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=zt(i),r=wo(i,n<=s.toExpNeg||n>=s.toExpPos)):(Ri(t,1,Fc),e===void 0?e=s.rounding:Ri(e,0,8),i=it(new s(i),t,e),n=zt(i),r=wo(i,t<=n||n<=s.toExpNeg,t)),r};ue.toSignificantDigits=ue.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ri(t,1,Fc),e===void 0?e=r.rounding:Ri(e,0,8)),it(new r(n),t,e)};ue.toString=ue.valueOf=ue.val=ue.toJSON=ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=zt(t),n=t.constructor;return wo(t,e<=n.toExpNeg||e>=n.toExpPos)};function YD(t,e){var n,r,i,s,a,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),xt?it(e,f):e;if(c=t.d,u=e.d,a=t.e,i=e.e,c=c.slice(),s=a-i,s){for(s<0?(r=c,s=-s,l=u.length):(r=u,i=a,l=c.length),a=Math.ceil(f/ht),l=a>l?a+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,r=u,u=c,c=r),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/nn|0,c[s]%=nn;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,xt?it(e,f):e}function Ri(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ro+t)}function wi(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=ht-r.length,n&&(s+=Ms(n)),s+=r;a=t[e],r=a+"",n=ht-r.length,n&&(s+=Ms(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var rs=function(){function t(r,i){var s,a=0,l=r.length;for(r=r.slice();l--;)s=r[l]*i+a,r[l]=s%nn|0,a=s/nn|0;return a&&r.unshift(a),r}function e(r,i,s,a){var l,c;if(s!=a)c=s>a?1:-1;else for(l=c=0;l<s;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*nn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var l,c,u,d,f,p,v,g,y,m,x,w,b,T,N,A,_,S,k=r.constructor,O=r.s==i.s?1:-1,P=r.d,R=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(Lr+"Division by zero");for(c=r.e-i.e,_=R.length,N=P.length,v=new k(O),g=v.d=[],u=0;R[u]==(P[u]||0);)++u;if(R[u]>(P[u]||0)&&--c,s==null?w=s=k.precision:a?w=s+(zt(r)-zt(i))+1:w=s,w<0)return new k(0);if(w=w/ht+2|0,u=0,_==1)for(d=0,R=R[0],w++;(u<N||d)&&w--;u++)b=d*nn+(P[u]||0),g[u]=b/R|0,d=b%R|0;else{for(d=nn/(R[0]+1)|0,d>1&&(R=t(R,d),P=t(P,d),_=R.length,N=P.length),T=_,y=P.slice(0,_),m=y.length;m<_;)y[m++]=0;S=R.slice(),S.unshift(0),A=R[0],R[1]>=nn/2&&++A;do d=0,l=e(R,y,_,m),l<0?(x=y[0],_!=m&&(x=x*nn+(y[1]||0)),d=x/A|0,d>1?(d>=nn&&(d=nn-1),f=t(R,d),p=f.length,m=y.length,l=e(f,y,p,m),l==1&&(d--,n(f,_<p?S:R,p))):(d==0&&(l=d=1),f=R.slice()),p=f.length,p<m&&f.unshift(0),n(y,f,m),l==-1&&(m=y.length,l=e(R,y,_,m),l<1&&(d++,n(y,_<m?S:R,m))),m=y.length):l===0&&(d++,y=[0]),g[u++]=d,l&&y[0]?y[m++]=P[T]||0:(y=[P[T]],m=1);while((T++<N||y[0]!==void 0)&&w--)}return g[0]||g.shift(),v.e=c,it(v,a?s+zt(v)+1:s)}}();function QD(t,e){var n,r,i,s,a,l,c=0,u=0,d=t.constructor,f=d.precision;if(zt(t)>16)throw Error(Cj+zt(t));if(!t.s)return new d(cr);for(xt=!1,l=f,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log($a(2,u))/Math.LN10*2+5|0,l+=r,n=i=s=new d(cr),d.precision=l;;){if(i=it(i.times(t),l),n=n.times(++c),a=s.plus(rs(i,n,l)),wi(a.d).slice(0,l)===wi(s.d).slice(0,l)){for(;u--;)s=it(s.times(s),l);return d.precision=f,e==null?(xt=!0,it(s,f)):s}s=a}}function zt(t){for(var e=t.e*ht,n=t.d[0];n>=10;n/=10)e++;return e}function mv(t,e,n){if(e>t.LN10.sd())throw xt=!0,n&&(t.precision=n),Error(Lr+"LN10 precision limit exceeded");return it(new t(t.LN10),e)}function Ms(t){for(var e="";t--;)e+="0";return e}function zd(t,e){var n,r,i,s,a,l,c,u,d,f=1,p=10,v=t,g=v.d,y=v.constructor,m=y.precision;if(v.s<1)throw Error(Lr+(v.s?"NaN":"-Infinity"));if(v.eq(cr))return new y(0);if(e==null?(xt=!1,u=m):u=e,v.eq(10))return e==null&&(xt=!0),mv(y,u);if(u+=p,y.precision=u,n=wi(g),r=n.charAt(0),s=zt(v),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(t),n=wi(v.d),r=n.charAt(0),f++;s=zt(v),r>1?(v=new y("0."+n),s++):v=new y(r+"."+n.slice(1))}else return c=mv(y,u+2,m).times(s+""),v=zd(new y(r+"."+n.slice(1)),u-p).plus(c),y.precision=m,e==null?(xt=!0,it(v,m)):v;for(l=a=v=rs(v.minus(cr),v.plus(cr),u),d=it(v.times(v),u),i=3;;){if(a=it(a.times(d),u),c=l.plus(rs(a,new y(i),u)),wi(c.d).slice(0,u)===wi(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(mv(y,u+2,m).times(s+""))),l=rs(l,new y(f),u),y.precision=m,e==null?(xt=!0,it(l,m)):l;l=c,i+=2}}function GA(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Uc(n/ht),t.d=[],r=(n+1)%ht,n<0&&(r+=ht),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ht;r<i;)t.d.push(+e.slice(r,r+=ht));e=e.slice(r),r=ht-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),xt&&(t.e>Mm||t.e<-Mm))throw Error(Cj+n)}else t.s=0,t.e=0,t.d=[0];return t}function it(t,e,n){var r,i,s,a,l,c,u,d,f=t.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=ht,i=e,u=f[d=0];else{if(d=Math.ceil((r+1)/ht),s=f.length,d>=s)return t;for(u=s=f[d],a=1;s>=10;s/=10)a++;r%=ht,i=r-ht+a}if(n!==void 0&&(s=$a(10,a-i-1),l=u/s%10|0,c=e<0||f[d+1]!==void 0||u%s,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?u/$a(10,a-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return c?(s=zt(t),f.length=1,e=e-s-1,f[0]=$a(10,(ht-e%ht)%ht),t.e=Uc(-e/ht)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,s=1,d--):(f.length=d+1,s=$a(10,ht-r),f[d]=i>0?(u/$a(10,a-i)%$a(10,i)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==nn&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=nn)break;f[d--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(xt&&(t.e>Mm||t.e<-Mm))throw Error(Cj+zt(t));return t}function JD(t,e){var n,r,i,s,a,l,c,u,d,f,p=t.constructor,v=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),xt?it(e,v):e;if(c=t.d,f=e.d,r=e.e,u=t.e,c=c.slice(),a=u-r,a){for(d=a<0,d?(n=c,a=-a,l=f.length):(n=f,r=u,l=c.length),i=Math.max(Math.ceil(v/ht),l)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}a=0}for(d&&(n=c,c=f,f=n,e.s=-e.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>a;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=nn-1;--c[s],c[i]+=nn}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,xt?it(e,v):e):new p(0)}function wo(t,e,n){var r,i=zt(t),s=wi(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+Ms(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Ms(-i-1)+s,n&&(r=n-a)>0&&(s+=Ms(r))):i>=a?(s+=Ms(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+Ms(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=Ms(r))),t.s<0?"-"+s:s}function XA(t,e){if(t.length>e)return t.length=e,!0}function ZD(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(ro+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return GA(a,s.toString())}else if(typeof s!="string")throw Error(ro+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,nfe.test(s))GA(a,s);else throw Error(ro+s)}if(i.prototype=ue,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=ZD,i.config=i.set=rfe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function rfe(t){if(!t||typeof t!="object")throw Error(Lr+"Object expected");var e,n,r,i=["precision",1,Fc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Uc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ro+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ro+n+": "+r);return this}var Oj=ZD(tfe);cr=new Oj(1);const et=Oj;function ife(t){return lfe(t)||ofe(t)||afe(t)||sfe()}function sfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function afe(t,e){if(t){if(typeof t=="string")return Lb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lb(t,e)}}function ofe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function lfe(t){if(Array.isArray(t))return Lb(t)}function Lb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var cfe=function(e){return e},eL={},tL=function(e){return e===eL},YA=function(e){return function n(){return arguments.length===0||arguments.length===1&&tL(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},ufe=function t(e,n){return e===1?n:YA(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.filter(function(l){return l!==eL}).length;return a>=e?n.apply(void 0,i):t(e-a,YA(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(f){return tL(f)?c.shift():f});return n.apply(void 0,ife(d).concat(c))}))})},L0=function(e){return ufe(e.length,e)},Mb=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},dfe=L0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),ffe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return cfe;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},$b=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},nL=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n&&s.every(function(l,c){return l===n[c]})||(n=s,r=e.apply(void 0,s)),r}};function hfe(t){var e;return t===0?e=1:e=Math.floor(new et(t).abs().log(10).toNumber())+1,e}function pfe(t,e,n){for(var r=new et(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var mfe=L0(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),gfe=L0(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),yfe=L0(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const M0={rangeStep:pfe,getDigitCount:hfe,interpolateNumber:mfe,uninterpolateNumber:gfe,uninterpolateTruncation:yfe};function Fb(t){return bfe(t)||xfe(t)||rL(t)||vfe()}function vfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xfe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function bfe(t){if(Array.isArray(t))return Ub(t)}function qd(t,e){return jfe(t)||_fe(t,e)||rL(t,e)||wfe()}function wfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rL(t,e){if(t){if(typeof t=="string")return Ub(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ub(t,e)}}function Ub(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _fe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),l;!(r=(l=a.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,s=c}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw s}}return n}}function jfe(t){if(Array.isArray(t))return t}function iL(t){var e=qd(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function sL(t,e,n){if(t.lte(0))return new et(0);var r=M0.getDigitCount(t.toNumber()),i=new et(10).pow(r),s=t.div(i),a=r!==1?.05:.1,l=new et(Math.ceil(s.div(a).toNumber())).add(n).mul(a),c=l.mul(i);return e?c:new et(Math.ceil(c))}function Sfe(t,e,n){var r=1,i=new et(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new et(10).pow(M0.getDigitCount(t)-1),i=new et(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new et(Math.floor(t)))}else t===0?i=new et(Math.floor((e-1)/2)):n||(i=new et(Math.floor(t)));var a=Math.floor((e-1)/2),l=ffe(dfe(function(c){return i.add(new et(c-a).mul(r)).toNumber()}),Mb);return l(0,e)}function aL(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new et(0),tickMin:new et(0),tickMax:new et(0)};var s=sL(new et(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new et(0):(a=new et(t).add(e).div(2),a=a.sub(new et(a).mod(s)));var l=Math.ceil(a.sub(t).div(s).toNumber()),c=Math.ceil(new et(e).sub(a).div(s).toNumber()),u=l+c+1;return u>n?aL(t,e,n,r,i+1):(u<n&&(c=e>0?c+(n-u):c,l=e>0?l:l+(n-u)),{step:s,tickMin:a.sub(new et(l).mul(s)),tickMax:a.add(new et(c).mul(s))})}function Efe(t){var e=qd(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),l=iL([n,r]),c=qd(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Fb(Mb(0,i-1).map(function(){return 1/0}))):[].concat(Fb(Mb(0,i-1).map(function(){return-1/0})),[d]);return n>r?$b(f):f}if(u===d)return Sfe(u,i,s);var p=aL(u,d,a,s),v=p.step,g=p.tickMin,y=p.tickMax,m=M0.rangeStep(g,y.add(new et(.1).mul(v)),v);return n>r?$b(m):m}function Nfe(t,e){var n=qd(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=iL([r,i]),l=qd(a,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var d=Math.max(e,2),f=sL(new et(u).sub(c).div(d-1),s,0),p=[].concat(Fb(M0.rangeStep(new et(c),new et(u).sub(new et(.99).mul(f)),f)),[u]);return r>i?$b(p):p}var Tfe=nL(Efe),Afe=nL(Nfe),kfe="Invariant failed";function _o(t,e){throw new Error(kfe)}var Pfe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function $m(){return $m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$m.apply(this,arguments)}function Ife(t,e){return Dfe(t)||Rfe(t,e)||Ofe(t,e)||Cfe()}function Cfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ofe(t,e){if(t){if(typeof t=="string")return QA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QA(t,e)}}function QA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function Dfe(t){if(Array.isArray(t))return t}function Lfe(t,e){if(t==null)return{};var n=Mfe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $fe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ffe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cL(r.key),r)}}function Ufe(t,e,n){return e&&Ffe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bfe(t,e,n){return e=Fm(e),Vfe(t,oL()?Reflect.construct(e,n||[],Fm(t).constructor):e.apply(t,n))}function Vfe(t,e){if(e&&(ic(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zfe(t)}function zfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oL=function(){return!!t})()}function Fm(t){return Fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fm(t)}function qfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bb(t,e)}function Bb(t,e){return Bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Bb(t,e)}function lL(t,e,n){return e=cL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cL(t){var e=Wfe(t,"string");return ic(e)=="symbol"?e:e+""}function Wfe(t,e){if(ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vf=function(t){function e(){return $fe(this,e),Bfe(this,e,arguments)}return qfe(e,t),Ufe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,a=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,p=Lfe(r,Pfe),v=Me(p,!1);this.props.direction==="x"&&d.type!=="number"&&_o();var g=c.map(function(y){var m=u(y,l),x=m.x,w=m.y,b=m.value,T=m.errorVal;if(!T)return null;var N=[],A,_;if(Array.isArray(T)){var S=Ife(T,2);A=S[0],_=S[1]}else A=_=T;if(s==="vertical"){var k=d.scale,O=w+i,P=O+a,R=O-a,C=k(b-A),V=k(b+_);N.push({x1:V,y1:P,x2:V,y2:R}),N.push({x1:C,y1:O,x2:V,y2:O}),N.push({x1:C,y1:P,x2:C,y2:R})}else if(s==="horizontal"){var U=f.scale,$=x+i,M=$-a,L=$+a,F=U(b-A),W=U(b+_);N.push({x1:M,y1:W,x2:L,y2:W}),N.push({x1:$,y1:F,x2:$,y2:W}),N.push({x1:M,y1:F,x2:L,y2:F})}return B.createElement(Dt,$m({className:"recharts-errorBar",key:"bar-".concat(N.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},v),N.map(function(K){return B.createElement("line",$m({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return B.createElement(Dt,{className:"recharts-errorBars"},g)}}])}(B.Component);lL(Vf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});lL(Vf,"displayName","ErrorBar");function Wd(t){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(t)}function JA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ca(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JA(Object(n),!0).forEach(function(r){Hfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hfe(t,e,n){return e=Kfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kfe(t){var e=Gfe(t,"string");return Wd(e)=="symbol"?e:e+""}function Gfe(t,e){if(Wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uL=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=lr(n,Al);if(!a)return null;var l=Al.defaultProps,c=l!==void 0?Ca(Ca({},l),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:s==="children"?u=(r||[]).reduce(function(d,f){var p=f.item,v=f.props,g=v.sectors||v.data||[];return d.concat(g.map(function(y){return{type:a.props.iconType||p.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(d){var f=d.item,p=f.type.defaultProps,v=p!==void 0?Ca(Ca({},p),f.props):{},g=v.dataKey,y=v.name,m=v.legendType,x=v.hide;return{inactive:x,dataKey:g,type:c.iconType||m||"square",color:Rj(f),value:y||g,payload:v}}),Ca(Ca(Ca({},c),Al.getWithHeight(a,i)),{},{payload:u,item:a})};function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function ZA(t){return Jfe(t)||Qfe(t)||Yfe(t)||Xfe()}function Xfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yfe(t,e){if(t){if(typeof t=="string")return Vb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vb(t,e)}}function Qfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jfe(t){if(Array.isArray(t))return Vb(t)}function Vb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(n),!0).forEach(function(r){Pl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pl(t,e,n){return e=Zfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zfe(t){var e=ehe(t,"string");return Hd(e)=="symbol"?e:e+""}function ehe(t,e){if(Hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yr(t,e,n){return Ie(t)||Ie(e)?n:Xt(e)?Pr(t,e,n):ke(e)?e(t):n}function Qu(t,e,n,r){var i=Qde(t,function(l){return yr(l,e)});if(n==="number"){var s=i.filter(function(l){return ae(l)||parseFloat(l)});return s.length?[R0(s),O0(s)]:[1/0,-1/0]}var a=r?i.filter(function(l){return!Ie(l)}):i;return a.map(function(l){return Xt(l)||l instanceof Date?l:""})}var the=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,p=u>=l-1?i[0].coordinate:i[u+1].coordinate,v=void 0;if(si(f-d)!==si(p-f)){var g=[];if(si(p-f)===si(c[1]-c[0])){v=p;var y=f+c[1]-c[0];g[0]=Math.min(y,(y+d)/2),g[1]=Math.max(y,(y+d)/2)}else{v=d;var m=p+c[1]-c[0];g[0]=Math.min(f,(m+f)/2),g[1]=Math.max(f,(m+f)/2)}var x=[Math.min(f,(v+f)/2),Math.max(f,(v+f)/2)];if(e>x[0]&&e<=x[1]||e>=g[0]&&e<=g[1]){a=i[u].index;break}}else{var w=Math.min(d,p),b=Math.max(d,p);if(e>(w+f)/2&&e<=(b+f)/2){a=i[u].index;break}}}else for(var T=0;T<l;T++)if(T===0&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<l-1&&e>(r[T].coordinate+r[T-1].coordinate)/2&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T===l-1&&e>(r[T].coordinate+r[T-1].coordinate)/2){a=r[T].index;break}return a},Rj=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Pt(Pt({},e.type.defaultProps),e.props):e.props,a=s.stroke,l=s.fill,c;switch(i){case"Line":c=a;break;case"Area":case"Radar":c=a&&a!=="none"?a:l;break;default:c=l;break}return c},nhe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),p=0,v=f.length;p<v;p++){var g=d[f[p]],y=g.items,m=g.cateAxisId,x=y.filter(function(_){return ts(_.type).indexOf("Bar")>=0});if(x&&x.length){var w=x[0].type.defaultProps,b=w!==void 0?Pt(Pt({},w),x[0].props):x[0].props,T=b.barSize,N=b[m];a[N]||(a[N]=[]);var A=Ie(T)?n:T;a[N].push({item:x[0],stackList:x.slice(1),barSize:Ie(A)?void 0:bo(A,r,0)})}}return a},rhe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,l=e.maxBarSize,c=a.length;if(c<1)return null;var u=bo(n,i,0,!0),d,f=[];if(a[0].barSize===+a[0].barSize){var p=!1,v=i/c,g=a.reduce(function(T,N){return T+N.barSize||0},0);g+=(c-1)*u,g>=i&&(g-=(c-1)*u,u=0),g>=i&&v>0&&(p=!0,v*=.9,g=c*v);var y=(i-g)/2>>0,m={offset:y-u,size:0};d=a.reduce(function(T,N){var A={item:N.item,position:{offset:m.offset+m.size+u,size:p?v:N.barSize}},_=[].concat(ZA(T),[A]);return m=_[_.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(S){_.push({item:S,position:m})}),_},f)}else{var x=bo(r,i,0,!0);i-2*x-(c-1)*u<=0&&(u=0);var w=(i-2*x-(c-1)*u)/c;w>1&&(w>>=0);var b=l===+l?Math.min(w,l):w;d=a.reduce(function(T,N,A){var _=[].concat(ZA(T),[{item:N.item,position:{offset:x+(w+u)*A+(w-b)/2,size:b}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(S){_.push({item:S,position:_[_.length-1].position})}),_},f)}return d},ihe=function(e,n,r,i){var s=r.children,a=r.width,l=r.margin,c=a-(l.left||0)-(l.right||0),u=uL({children:s,legendWidth:c});if(u){var d=i||{},f=d.width,p=d.height,v=u.align,g=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&g==="middle")&&v!=="center"&&ae(e[v]))return Pt(Pt({},e),{},Pl({},v,e[v]+(f||0)));if((y==="horizontal"||y==="vertical"&&v==="center")&&g!=="middle"&&ae(e[g]))return Pt(Pt({},e),{},Pl({},g,e[g]+(p||0)))}return e},she=function(e,n,r){return Ie(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},dL=function(e,n,r,i,s){var a=n.props.children,l=Ir(a,Vf).filter(function(u){return she(i,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=yr(d,r);if(Ie(f))return u;var p=Array.isArray(f)?[R0(f),O0(f)]:[f,f],v=c.reduce(function(g,y){var m=yr(d,y,0),x=p[0]-Math.abs(Array.isArray(m)?m[0]:m),w=p[1]+Math.abs(Array.isArray(m)?m[1]:m);return[Math.min(x,g[0]),Math.max(w,g[1])]},[1/0,-1/0]);return[Math.min(v[0],u[0]),Math.max(v[1],u[1])]},[1/0,-1/0])}return null},ahe=function(e,n,r,i,s){var a=n.map(function(l){return dL(e,l,r,s,i)}).filter(function(l){return!Ie(l)});return a&&a.length?a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},fL=function(e,n,r,i,s){var a=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&dL(e,c,u,i)||Qu(e,u,r,s)});if(r==="number")return a.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return a.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},hL=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},pL=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var s,a,l=e.map(function(c){return c.coordinate===n&&(s=!0),c.coordinate===r&&(a=!0),c.coordinate});return s||l.push(n),a||l.push(r),l},Ji=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?si(l[0]-l[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var p=s?s.indexOf(f):f;return{coordinate:i(p)+u,value:f,offset:u}});return d.filter(function(f){return!Df(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,p){return{coordinate:i(f)+u,value:f,index:p,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,p){return{coordinate:i(f)+u,value:s?s[f]:f,index:p,offset:u}})},gv=new WeakMap,$h=function(e,n){if(typeof n!="function")return e;gv.has(e)||gv.set(e,new WeakMap);var r=gv.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},ohe=function(e,n,r){var i=e.scale,s=e.type,a=e.layout,l=e.axisType;if(i==="auto")return a==="radial"&&l==="radiusAxis"?{scale:$d(),realScaleType:"band"}:a==="radial"&&l==="angleAxis"?{scale:Om(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Yu(),realScaleType:"point"}:s==="category"?{scale:$d(),realScaleType:"band"}:{scale:Om(),realScaleType:"linear"};if(xo(i)){var c="scale".concat(b0(i));return{scale:(KA[c]||Yu)(),realScaleType:KA[c]?c:"point"}}return ke(i)?{scale:i}:{scale:Yu(),realScaleType:"point"}},tk=1e-4,lhe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-tk,a=Math.max(i[0],i[1])+tk,l=e(n[0]),c=e(n[r-1]);(l<s||l>a||c<s||c>a)&&e.domain([n[0],n[r-1]])}},che=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},uhe=function(e,n){if(!n||n.length!==2||!ae(n[0])||!ae(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!ae(e[0])||e[0]<r)&&(s[0]=r),(!ae(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},dhe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0,l=0;l<n;++l){var c=Df(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1]):(e[l][r][0]=a,e[l][r][1]=a+c,a=e[l][r][1])}},fhe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0;a<n;++a){var l=Df(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},hhe={sign:dhe,expand:TZ,none:Yl,silhouette:AZ,wiggle:kZ,positive:fhe},phe=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),s=hhe[r],a=NZ().keys(i).value(function(l,c){return+yr(l,c,0)}).order(hb).offset(s);return a(e)},mhe=function(e,n,r,i,s,a){if(!e)return null;var l=a?n.reverse():n,c={},u=l.reduce(function(f,p){var v,g=(v=p.type)!==null&&v!==void 0&&v.defaultProps?Pt(Pt({},p.type.defaultProps),p.props):p.props,y=g.stackId,m=g.hide;if(m)return f;var x=g[r],w=f[x]||{hasStack:!1,stackGroups:{}};if(Xt(y)){var b=w.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};b.items.push(p),w.hasStack=!0,w.stackGroups[y]=b}else w.stackGroups[Lf("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[p]};return Pt(Pt({},f),{},Pl({},x,w))},c),d={};return Object.keys(u).reduce(function(f,p){var v=u[p];if(v.hasStack){var g={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(y,m){var x=v.stackGroups[m];return Pt(Pt({},y),{},Pl({},m,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:phe(e,x.items,s)}))},g)}return Pt(Pt({},f),{},Pl({},p,v))},d)},ghe=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,a=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=Tfe(u,s,l);return e.domain([R0(d),O0(d)]),{niceTicks:d}}if(s&&i==="number"){var f=e.domain(),p=Afe(f,s,l);return{niceTicks:p}}return null};function nk(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ie(i[e.dataKey])){var l=um(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var c=yr(i,Ie(a)?e.dataKey:a);return Ie(c)?null:e.scale(c)}var rk=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,a=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=yr(a,n.dataKey,n.domain[l]);return Ie(c)?null:n.scale(c)-s/2+i},yhe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},vhe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Pt(Pt({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Xt(s)){var a=n[s];if(a){var l=a.items.indexOf(e);return l>=0?a.stackedData[l]:null}}return null},xhe=function(e){return e.reduce(function(n,r){return[R0(r.concat([n[0]]).filter(ae)),O0(r.concat([n[1]]).filter(ae))]},[1/0,-1/0])},mL=function(e,n,r){return Object.keys(e).reduce(function(i,s){var a=e[s],l=a.stackedData,c=l.reduce(function(u,d){var f=xhe(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},ik=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zb=function(e,n,r){if(ke(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ae(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(ik.test(e[0])){var s=+ik.exec(e[0])[1];i[0]=n[0]-s}else ke(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ae(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(sk.test(e[1])){var a=+sk.exec(e[1])[1];i[1]=n[1]+a}else ke(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Um=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=lj(n,function(f){return f.coordinate}),a=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},ak=function(e,n,r){return!e||!e.length||D0(e,Pr(r,"type.defaultProps.domain"))?n:e},gL=function(e,n){var r=e.type.defaultProps?Pt(Pt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,a=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return Pt(Pt({},Me(e,!1)),{},{dataKey:i,unit:a,formatter:l,name:s||i,color:Rj(e),value:yr(n,i),type:c,payload:n,chartType:u,hide:d})};function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ok(Object(n),!0).forEach(function(r){bhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bhe(t,e,n){return e=whe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function whe(t){var e=_he(t,"string");return Kd(e)=="symbol"?e:e+""}function _he(t,e){if(Kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bm=Math.PI/180,jhe=function(e){return e*180/Math.PI},mn=function(e,n,r,i){return{x:e+Math.cos(-Bm*i)*r,y:n+Math.sin(-Bm*i)*r}},She=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-a,2))},Ehe=function(e,n){var r=e.x,i=e.y,s=n.cx,a=n.cy,l=She({x:r,y:i},{x:s,y:a});if(l<=0)return{radius:l};var c=(r-s)/l,u=Math.acos(c);return i>a&&(u=2*Math.PI-u),{radius:l,angle:jhe(u),angleInRadian:u}},Nhe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return{startAngle:n-a*360,endAngle:r-a*360}},The=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),a=Math.floor(i/360),l=Math.min(s,a);return e+l*360},ck=function(e,n){var r=e.x,i=e.y,s=Ehe({x:r,y:i},n),a=s.radius,l=s.angle,c=n.innerRadius,u=n.outerRadius;if(a<c||a>u)return!1;if(a===0)return!0;var d=Nhe(n),f=d.startAngle,p=d.endAngle,v=l,g;if(f<=p){for(;v>p;)v-=360;for(;v<f;)v+=360;g=v>=f&&v<=p}else{for(;v>f;)v-=360;for(;v<p;)v+=360;g=v>=p&&v<=f}return g?lk(lk({},n),{},{radius:a,angle:The(v,n)}):null};function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}var Ahe=["offset"];function khe(t){return Ohe(t)||Che(t)||Ihe(t)||Phe()}function Phe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ihe(t,e){if(t){if(typeof t=="string")return qb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qb(t,e)}}function Che(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ohe(t){if(Array.isArray(t))return qb(t)}function qb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rhe(t,e){if(t==null)return{};var n=Dhe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uk(Object(n),!0).forEach(function(r){Lhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lhe(t,e,n){return e=Mhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mhe(t){var e=$he(t,"string");return Gd(e)=="symbol"?e:e+""}function $he(t,e){if(Gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xd(){return Xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xd.apply(this,arguments)}var Fhe=function(e){var n=e.value,r=e.formatter,i=Ie(e.children)?n:e.children;return ke(r)?r(i):i},Uhe=function(e,n){var r=si(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Bhe=function(e,n,r){var i=e.position,s=e.viewBox,a=e.offset,l=e.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,p=c.outerRadius,v=c.startAngle,g=c.endAngle,y=c.clockWise,m=(f+p)/2,x=Uhe(v,g),w=x>=0?1:-1,b,T;i==="insideStart"?(b=v+w*a,T=y):i==="insideEnd"?(b=g-w*a,T=!y):i==="end"&&(b=g+w*a,T=y),T=x<=0?T:!T;var N=mn(u,d,m,b),A=mn(u,d,m,b+(T?1:-1)*359),_="M".concat(N.x,",").concat(N.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(T?0:1,`,
    `).concat(A.x,",").concat(A.y),S=Ie(e.id)?Lf("recharts-radial-line-"):e.id;return B.createElement("text",Xd({},r,{dominantBaseline:"central",className:ze("recharts-radial-bar-label",l)}),B.createElement("defs",null,B.createElement("path",{id:S,d:_})),B.createElement("textPath",{xlinkHref:"#".concat(S)},n))},Vhe=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,a=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,p=(d+f)/2;if(i==="outside"){var v=mn(a,l,u+r,p),g=v.x,y=v.y;return{x:g,y,textAnchor:g>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"end"};var m=(c+u)/2,x=mn(a,l,m,p),w=x.x,b=x.y;return{x:w,y:b,textAnchor:"middle",verticalAnchor:"middle"}},zhe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,a=n,l=a.x,c=a.y,u=a.width,d=a.height,f=d>=0?1:-1,p=f*i,v=f>0?"end":"start",g=f>0?"start":"end",y=u>=0?1:-1,m=y*i,x=y>0?"end":"start",w=y>0?"start":"end";if(s==="top"){var b={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:v};return Wt(Wt({},b),r?{height:Math.max(c-r.y,0),width:u}:{})}if(s==="bottom"){var T={x:l+u/2,y:c+d+p,textAnchor:"middle",verticalAnchor:g};return Wt(Wt({},T),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(s==="left"){var N={x:l-m,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return Wt(Wt({},N),r?{width:Math.max(N.x-r.x,0),height:d}:{})}if(s==="right"){var A={x:l+u+m,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return Wt(Wt({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:d}:{})}var _=r?{width:u,height:d}:{};return s==="insideLeft"?Wt({x:l+m,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},_):s==="insideRight"?Wt({x:l+u-m,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},_):s==="insideTop"?Wt({x:l+u/2,y:c+p,textAnchor:"middle",verticalAnchor:g},_):s==="insideBottom"?Wt({x:l+u/2,y:c+d-p,textAnchor:"middle",verticalAnchor:v},_):s==="insideTopLeft"?Wt({x:l+m,y:c+p,textAnchor:w,verticalAnchor:g},_):s==="insideTopRight"?Wt({x:l+u-m,y:c+p,textAnchor:x,verticalAnchor:g},_):s==="insideBottomLeft"?Wt({x:l+m,y:c+d-p,textAnchor:w,verticalAnchor:v},_):s==="insideBottomRight"?Wt({x:l+u-m,y:c+d-p,textAnchor:x,verticalAnchor:v},_):Pc(s)&&(ae(s.x)||Ka(s.x))&&(ae(s.y)||Ka(s.y))?Wt({x:l+bo(s.x,u),y:c+bo(s.y,d),textAnchor:"end",verticalAnchor:"end"},_):Wt({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},qhe=function(e){return"cx"in e&&ae(e.cx)};function Pn(t){var e=t.offset,n=e===void 0?5:e,r=Rhe(t,Ahe),i=Wt({offset:n},r),s=i.viewBox,a=i.position,l=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,p=i.textBreakAll;if(!s||Ie(l)&&Ie(c)&&!E.isValidElement(u)&&!ke(u))return null;if(E.isValidElement(u))return E.cloneElement(u,i);var v;if(ke(u)){if(v=E.createElement(u,i),E.isValidElement(v))return v}else v=Fhe(i);var g=qhe(s),y=Me(i,!0);if(g&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Bhe(i,v,y);var m=g?Vhe(i):zhe(i);return B.createElement(Nm,Xd({className:ze("recharts-label",f)},y,m,{breakAll:p}),v)}Pn.displayName="Label";var yL=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,p=e.y,v=e.top,g=e.left,y=e.width,m=e.height,x=e.clockWise,w=e.labelViewBox;if(w)return w;if(ae(y)&&ae(m)){if(ae(f)&&ae(p))return{x:f,y:p,width:y,height:m};if(ae(v)&&ae(g))return{x:v,y:g,width:y,height:m}}return ae(f)&&ae(p)?{x:f,y:p,width:0,height:0}:ae(n)&&ae(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:e.viewBox?e.viewBox:{}},Whe=function(e,n){return e?e===!0?B.createElement(Pn,{key:"label-implicit",viewBox:n}):Xt(e)?B.createElement(Pn,{key:"label-implicit",viewBox:n,value:e}):E.isValidElement(e)?e.type===Pn?E.cloneElement(e,{key:"label-implicit",viewBox:n}):B.createElement(Pn,{key:"label-implicit",content:e,viewBox:n}):ke(e)?B.createElement(Pn,{key:"label-implicit",content:e,viewBox:n}):Pc(e)?B.createElement(Pn,Xd({viewBox:n},e,{key:"label-implicit"})):null:null},Hhe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=yL(e),a=Ir(i,Pn).map(function(c,u){return E.cloneElement(c,{viewBox:n||s,key:"label-".concat(u)})});if(!r)return a;var l=Whe(e.label,n||s);return[l].concat(khe(a))};Pn.parseViewBox=yL;Pn.renderCallByParent=Hhe;function Khe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Ghe=Khe;const Xhe=st(Ghe);function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}var Yhe=["valueAccessor"],Qhe=["data","dataKey","clockWise","id","textBreakAll"];function Jhe(t){return npe(t)||tpe(t)||epe(t)||Zhe()}function Zhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function epe(t,e){if(t){if(typeof t=="string")return Wb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wb(t,e)}}function tpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function npe(t){if(Array.isArray(t))return Wb(t)}function Wb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vm(){return Vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vm.apply(this,arguments)}function dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dk(Object(n),!0).forEach(function(r){rpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rpe(t,e,n){return e=ipe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ipe(t){var e=spe(t,"string");return Yd(e)=="symbol"?e:e+""}function spe(t,e){if(Yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hk(t,e){if(t==null)return{};var n=ape(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ape(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ope=function(e){return Array.isArray(e.value)?Xhe(e.value):e.value};function la(t){var e=t.valueAccessor,n=e===void 0?ope:e,r=hk(t,Yhe),i=r.data,s=r.dataKey,a=r.clockWise,l=r.id,c=r.textBreakAll,u=hk(r,Qhe);return!i||!i.length?null:B.createElement(Dt,{className:"recharts-label-list"},i.map(function(d,f){var p=Ie(s)?n(d,f):yr(d&&d.payload,s),v=Ie(l)?{}:{id:"".concat(l,"-").concat(f)};return B.createElement(Pn,Vm({},Me(d,!0),u,v,{parentViewBox:d.parentViewBox,value:p,textBreakAll:c,viewBox:Pn.parseViewBox(Ie(a)?d:fk(fk({},d),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}la.displayName="LabelList";function lpe(t,e){return t?t===!0?B.createElement(la,{key:"labelList-implicit",data:e}):B.isValidElement(t)||ke(t)?B.createElement(la,{key:"labelList-implicit",data:e,content:t}):Pc(t)?B.createElement(la,Vm({data:e},t,{key:"labelList-implicit"})):null:null}function cpe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Ir(r,la).map(function(a,l){return E.cloneElement(a,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var s=lpe(t.label,e);return[s].concat(Jhe(i))}la.renderCallByParent=cpe;function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}function Hb(){return Hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hb.apply(this,arguments)}function pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pk(Object(n),!0).forEach(function(r){upe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function upe(t,e,n){return e=dpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dpe(t){var e=fpe(t,"string");return Qd(e)=="symbol"?e:e+""}function fpe(t,e){if(Qd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hpe=function(e,n){var r=si(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Fh=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,a=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+i,f=Math.asin(c/d)/Bm,p=u?s:s+a*f,v=mn(n,r,d,p),g=mn(n,r,i,p),y=u?s-a*f:s,m=mn(n,r,d*Math.cos(f*Bm),y);return{center:v,circleTangency:g,lineTangency:m,theta:f}},vL=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,l=e.endAngle,c=hpe(a,l),u=a+c,d=mn(n,r,s,a),f=mn(n,r,s,u),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var v=mn(n,r,i,a),g=mn(n,r,i,u);p+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=u),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},ppe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=si(d-u),p=Fh({cx:n,cy:r,radius:s,angle:u,sign:f,cornerRadius:a,cornerIsExternal:c}),v=p.circleTangency,g=p.lineTangency,y=p.theta,m=Fh({cx:n,cy:r,radius:s,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:c}),x=m.circleTangency,w=m.lineTangency,b=m.theta,T=c?Math.abs(u-d):Math.abs(u-d)-y-b;if(T<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):vL({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d});var N="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(T>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var A=Fh({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),_=A.circleTangency,S=A.lineTangency,k=A.theta,O=Fh({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),P=O.circleTangency,R=O.lineTangency,C=O.theta,V=c?Math.abs(u-d):Math.abs(u-d)-k-C;if(V<0&&a===0)return"".concat(N,"L").concat(n,",").concat(r,"Z");N+="L".concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(V>180),",").concat(+(f>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,"Z")}else N+="L".concat(n,",").concat(r,"Z");return N},mpe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},xL=function(e){var n=mk(mk({},mpe),e),r=n.cx,i=n.cy,s=n.innerRadius,a=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,p=n.className;if(a<s||d===f)return null;var v=ze("recharts-sector",p),g=a-s,y=bo(l,g,0,!0),m;return y>0&&Math.abs(d-f)<360?m=ppe({cx:r,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(y,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):m=vL({cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:d,endAngle:f}),B.createElement("path",Hb({},Me(n,!0),{className:v,d:m,role:"img"}))};function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}function Kb(){return Kb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kb.apply(this,arguments)}function gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(n),!0).forEach(function(r){gpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gpe(t,e,n){return e=ype(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ype(t){var e=vpe(t,"string");return Jd(e)=="symbol"?e:e+""}function vpe(t,e){if(Jd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vk={curveBasisClosed:mZ,curveBasisOpen:gZ,curveBasis:pZ,curveBumpX:eZ,curveBumpY:tZ,curveLinearClosed:yZ,curveLinear:_0,curveMonotoneX:vZ,curveMonotoneY:xZ,curveNatural:bZ,curveStep:wZ,curveStepAfter:jZ,curveStepBefore:_Z},Uh=function(e){return e.x===+e.x&&e.y===+e.y},vu=function(e){return e.x},xu=function(e){return e.y},xpe=function(e,n){if(ke(e))return e;var r="curve".concat(b0(e));return(r==="curveMonotone"||r==="curveBump")&&n?vk["".concat(r).concat(n==="vertical"?"Y":"X")]:vk[r]||_0},bpe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,a=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=xpe(r,l),f=u?s.filter(function(y){return Uh(y)}):s,p;if(Array.isArray(a)){var v=u?a.filter(function(y){return Uh(y)}):a,g=f.map(function(y,m){return yk(yk({},y),{},{base:v[m]})});return l==="vertical"?p=Ph().y(xu).x1(vu).x0(function(y){return y.base.x}):p=Ph().x(vu).y1(xu).y0(function(y){return y.base.y}),p.defined(Uh).curve(d),p(g)}return l==="vertical"&&ae(a)?p=Ph().y(xu).x1(vu).x0(a):ae(a)?p=Ph().x(vu).y1(xu).y0(a):p=x3().x(vu).y(xu),p.defined(Uh).curve(d),p(f)},Gb=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?bpe(e):i;return E.createElement("path",Kb({},Me(e,!1),dm(e),{className:ze("recharts-curve",n),d:a,ref:s}))},bL={exports:{}},wpe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",_pe=wpe,jpe=_pe;function wL(){}function _L(){}_L.resetWarningCache=wL;var Spe=function(){function t(r,i,s,a,l,c){if(c!==jpe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:_L,resetWarningCache:wL};return n.PropTypes=n,n};bL.exports=Spe();var Epe=bL.exports;const Xe=st(Epe);var Npe=Object.getOwnPropertyNames,Tpe=Object.getOwnPropertySymbols,Ape=Object.prototype.hasOwnProperty;function xk(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function Bh(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,a=s.get(n),l=s.get(r);if(a&&l)return a===r&&l===n;s.set(n,r),s.set(r,n);var c=t(n,r,i);return s.delete(n),s.delete(r),c}}function kpe(t){return t!=null?t[Symbol.toStringTag]:void 0}function bk(t){return Npe(t).concat(Tpe(t))}var Ppe=Object.hasOwn||function(t,e){return Ape.call(t,e)};function Lo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Ipe="__v",Cpe="__o",Ope="_owner",wk=Object.getOwnPropertyDescriptor,_k=Object.keys;function Rpe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Dpe(t,e){return Lo(t.getTime(),e.getTime())}function Lpe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Mpe(t,e){return t===e}function jk(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),a,l,c=0;(a=s.next())&&!a.done;){for(var u=e.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(i[f]){f++;continue}var p=a.value,v=l.value;if(n.equals(p[0],v[0],c,f,t,e,n)&&n.equals(p[1],v[1],p[0],v[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var $pe=Lo;function Fpe(t,e,n){var r=_k(t),i=r.length;if(_k(e).length!==i)return!1;for(;i-- >0;)if(!jL(t,e,n,r[i]))return!1;return!0}function bu(t,e,n){var r=bk(t),i=r.length;if(bk(e).length!==i)return!1;for(var s,a,l;i-- >0;)if(s=r[i],!jL(t,e,n,s)||(a=wk(t,s),l=wk(e,s),(a||l)&&(!a||!l||a.configurable!==l.configurable||a.enumerable!==l.enumerable||a.writable!==l.writable)))return!1;return!0}function Upe(t,e){return Lo(t.valueOf(),e.valueOf())}function Bpe(t,e){return t.source===e.source&&t.flags===e.flags}function Sk(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),a,l;(a=s.next())&&!a.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!i[d]&&n.equals(a.value,l.value,a.value,l.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function Vpe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function zpe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function jL(t,e,n,r){return(r===Ope||r===Cpe||r===Ipe)&&(t.$$typeof||e.$$typeof)?!0:Ppe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var qpe="[object Arguments]",Wpe="[object Boolean]",Hpe="[object Date]",Kpe="[object Error]",Gpe="[object Map]",Xpe="[object Number]",Ype="[object Object]",Qpe="[object RegExp]",Jpe="[object Set]",Zpe="[object String]",eme="[object URL]",tme=Array.isArray,Ek=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,Nk=Object.assign,nme=Object.prototype.toString.call.bind(Object.prototype.toString);function rme(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,a=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,p=t.areUrlsEqual,v=t.unknownTagComparators;return function(y,m,x){if(y===m)return!0;if(y==null||m==null)return!1;var w=typeof y;if(w!==typeof m)return!1;if(w!=="object")return w==="number"?a(y,m,x):w==="function"?i(y,m,x):!1;var b=y.constructor;if(b!==m.constructor)return!1;if(b===Object)return l(y,m,x);if(tme(y))return e(y,m,x);if(Ek!=null&&Ek(y))return f(y,m,x);if(b===Date)return n(y,m,x);if(b===RegExp)return u(y,m,x);if(b===Map)return s(y,m,x);if(b===Set)return d(y,m,x);var T=nme(y);if(T===Hpe)return n(y,m,x);if(T===Qpe)return u(y,m,x);if(T===Gpe)return s(y,m,x);if(T===Jpe)return d(y,m,x);if(T===Ype)return typeof y.then!="function"&&typeof m.then!="function"&&l(y,m,x);if(T===eme)return p(y,m,x);if(T===Kpe)return r(y,m,x);if(T===qpe)return l(y,m,x);if(T===Wpe||T===Xpe||T===Zpe)return c(y,m,x);if(v){var N=v[T];if(!N){var A=kpe(y);A&&(N=v[A])}if(N)return N(y,m,x)}return!1}}function ime(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?bu:Rpe,areDatesEqual:Dpe,areErrorsEqual:Lpe,areFunctionsEqual:Mpe,areMapsEqual:r?xk(jk,bu):jk,areNumbersEqual:$pe,areObjectsEqual:r?bu:Fpe,arePrimitiveWrappersEqual:Upe,areRegExpsEqual:Bpe,areSetsEqual:r?xk(Sk,bu):Sk,areTypedArraysEqual:r?bu:Vpe,areUrlsEqual:zpe,unknownTagComparators:void 0};if(n&&(i=Nk({},i,n(i))),e){var s=Bh(i.areArraysEqual),a=Bh(i.areMapsEqual),l=Bh(i.areObjectsEqual),c=Bh(i.areSetsEqual);i=Nk({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:l,areSetsEqual:c})}return i}function sme(t){return function(e,n,r,i,s,a,l){return t(e,n,l)}}function ame(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(c,u){var d=r(),f=d.cache,p=f===void 0?e?new WeakMap:void 0:f,v=d.meta;return n(c,u,{cache:p,equals:i,meta:v,strict:s})};if(e)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,u){return n(c,u,a)}}var ome=Na();Na({strict:!0});Na({circular:!0});Na({circular:!0,strict:!0});Na({createInternalComparator:function(){return Lo}});Na({strict:!0,createInternalComparator:function(){return Lo}});Na({circular:!0,createInternalComparator:function(){return Lo}});Na({circular:!0,createInternalComparator:function(){return Lo},strict:!0});function Na(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,a=s===void 0?!1:s,l=ime(t),c=rme(l),u=r?r(c):sme(c);return ame({circular:n,comparator:c,createState:i,equals:u,strict:a})}function lme(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Tk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):lme(i)};requestAnimationFrame(r)}function Xb(t){"@babel/helpers - typeof";return Xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xb(t)}function cme(t){return hme(t)||fme(t)||dme(t)||ume()}function ume(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dme(t,e){if(t){if(typeof t=="string")return Ak(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ak(t,e)}}function Ak(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hme(t){if(Array.isArray(t))return t}function pme(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var a=s,l=cme(a),c=l[0],u=l.slice(1);if(typeof c=="number"){Tk(i.bind(null,u),c);return}i(c),Tk(i.bind(null,u));return}Xb(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}function kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(n),!0).forEach(function(r){SL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SL(t,e,n){return e=mme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mme(t){var e=gme(t,"string");return Zd(e)==="symbol"?e:String(e)}function gme(t,e){if(Zd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yme=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},vme=function(e){return e},xme=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Ju=function(e,n){return Object.keys(n).reduce(function(r,i){return Pk(Pk({},r),{},SL({},i,e(i,n[i])))},{})},Ik=function(e,n,r){return e.map(function(i){return"".concat(xme(i)," ").concat(n,"ms ").concat(r)}).join(",")};function bme(t,e){return jme(t)||_me(t,e)||EL(t,e)||wme()}function wme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _me(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function jme(t){if(Array.isArray(t))return t}function Sme(t){return Tme(t)||Nme(t)||EL(t)||Eme()}function Eme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EL(t,e){if(t){if(typeof t=="string")return Yb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yb(t,e)}}function Nme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tme(t){if(Array.isArray(t))return Yb(t)}function Yb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var zm=1e-4,NL=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},TL=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},Ck=function(e,n){return function(r){var i=NL(e,n);return TL(i,r)}},Ame=function(e,n){return function(r){var i=NL(e,n),s=[].concat(Sme(i.map(function(a,l){return a*l}).slice(1)),[0]);return TL(s,r)}},Ok=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],a=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,a=1,l=1;break;case"ease":i=.25,s=.1,a=.25,l=1;break;case"ease-in":i=.42,s=0,a=1,l=1;break;case"ease-out":i=.42,s=0,a=.58,l=1;break;case"ease-in-out":i=0,s=0,a=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(m){return parseFloat(m)}),d=bme(u,4);i=d[0],s=d[1],a=d[2],l=d[3]}}}var f=Ck(i,a),p=Ck(s,l),v=Ame(i,a),g=function(x){return x>1?1:x<0?0:x},y=function(x){for(var w=x>1?1:x,b=w,T=0;T<8;++T){var N=f(b)-w,A=v(b);if(Math.abs(N-w)<zm||A<zm)return p(b);b=g(b-N/A)}return p(b)};return y.isStepper=!1,y},kme=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,a=e.dt,l=a===void 0?17:a,c=function(d,f,p){var v=-(d-f)*r,g=p*s,y=p+(v-g)*l/1e3,m=p*l/1e3+d;return Math.abs(m-f)<zm&&Math.abs(y)<zm?[f,0]:[m,y]};return c.isStepper=!0,c.dt=l,c},Pme=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Ok(i);case"spring":return kme();default:if(i.split("(")[0]==="cubic-bezier")return Ok(i)}return typeof i=="function"?i:null};function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function Rk(t){return Ome(t)||Cme(t)||AL(t)||Ime()}function Ime(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ome(t){if(Array.isArray(t))return Jb(t)}function Dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(n),!0).forEach(function(r){Qb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qb(t,e,n){return e=Rme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rme(t){var e=Dme(t,"string");return ef(e)==="symbol"?e:String(e)}function Dme(t,e){if(ef(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ef(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lme(t,e){return Fme(t)||$me(t,e)||AL(t,e)||Mme()}function Mme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AL(t,e){if(t){if(typeof t=="string")return Jb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jb(t,e)}}function Jb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $me(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function Fme(t){if(Array.isArray(t))return t}var qm=function(e,n,r){return e+(n-e)*r},Zb=function(e){var n=e.from,r=e.to;return n!==r},Ume=function t(e,n,r){var i=Ju(function(s,a){if(Zb(a)){var l=e(a.from,a.to,a.velocity),c=Lme(l,2),u=c[0],d=c[1];return un(un({},a),{},{from:u,velocity:d})}return a},n);return r<1?Ju(function(s,a){return Zb(a)?un(un({},a),{},{velocity:qm(a.velocity,i[s].velocity,r),from:qm(a.from,i[s].from,r)}):a},n):t(e,i,r-1)};const Bme=function(t,e,n,r,i){var s=yme(t,e),a=s.reduce(function(m,x){return un(un({},m),{},Qb({},x,[t[x],e[x]]))},{}),l=s.reduce(function(m,x){return un(un({},m),{},Qb({},x,{from:t[x],velocity:0,to:e[x]}))},{}),c=-1,u,d,f=function(){return null},p=function(){return Ju(function(x,w){return w.from},l)},v=function(){return!Object.values(l).filter(Zb).length},g=function(x){u||(u=x);var w=x-u,b=w/n.dt;l=Ume(n,l,b),i(un(un(un({},t),e),p())),u=x,v()||(c=requestAnimationFrame(f))},y=function(x){d||(d=x);var w=(x-d)/r,b=Ju(function(N,A){return qm.apply(void 0,Rk(A).concat([n(w)]))},a);if(i(un(un(un({},t),e),b)),w<1)c=requestAnimationFrame(f);else{var T=Ju(function(N,A){return qm.apply(void 0,Rk(A).concat([n(1)]))},a);i(un(un(un({},t),e),T))}};return f=n.isStepper?g:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function sc(t){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(t)}var Vme=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function zme(t,e){if(t==null)return{};var n=qme(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qme(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function yv(t){return Gme(t)||Kme(t)||Hme(t)||Wme()}function Wme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hme(t,e){if(t){if(typeof t=="string")return ew(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ew(t,e)}}function Kme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gme(t){if(Array.isArray(t))return ew(t)}function ew(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lk(Object(n),!0).forEach(function(r){Ou(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ou(t,e,n){return e=kL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kL(r.key),r)}}function Qme(t,e,n){return e&&Yme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kL(t){var e=Jme(t,"string");return sc(e)==="symbol"?e:String(e)}function Jme(t,e){if(sc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tw(t,e)}function tw(t,e){return tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tw(t,e)}function ege(t){var e=tge();return function(){var r=Wm(t),i;if(e){var s=Wm(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return nw(this,i)}}function nw(t,e){if(e&&(sc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rw(t)}function rw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wm(t){return Wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wm(t)}var ms=function(t){Zme(n,t);var e=ege(n);function n(r,i){var s;Xme(this,n),s=e.call(this,r,i);var a=s.props,l=a.isActive,c=a.attributeName,u=a.from,d=a.to,f=a.steps,p=a.children,v=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(rw(s)),s.changeStyle=s.changeStyle.bind(rw(s)),!l||v<=0)return s.state={style:{}},typeof p=="function"&&(s.state={style:d}),nw(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof p=="function")return s.state={style:u},nw(s);s.state={style:c?Ou({},c,u):u}}else s.state={style:{}};return s}return Qme(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,p=this.state.style;if(l){if(!a){var v={style:c?Ou({},c,d):d};this.state&&p&&(c&&p[c]!==d||!c&&p!==d)&&this.setState(v);return}if(!(ome(i.to,d)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=g||u?f:i.to;if(this.state&&p){var m={style:c?Ou({},c,y):y};(c&&p[c]!==y||!c&&p!==y)&&this.setState(m)}this.runAnimation(Hr(Hr({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,p=i.onAnimationStart,v=Bme(a,l,Pme(u),c,this.changeStyle),g=function(){s.stopJSAnimation=v()};this.manager.start([p,d,g,c,f])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,l=i.begin,c=i.onAnimationStart,u=a[0],d=u.style,f=u.duration,p=f===void 0?0:f,v=function(y,m,x){if(x===0)return y;var w=m.duration,b=m.easing,T=b===void 0?"ease":b,N=m.style,A=m.properties,_=m.onAnimationEnd,S=x>0?a[x-1]:m,k=A||Object.keys(N);if(typeof T=="function"||T==="spring")return[].concat(yv(y),[s.runJSAnimation.bind(s,{from:S.style,to:N,duration:w,easing:T}),w]);var O=Ik(k,w,T),P=Hr(Hr(Hr({},S.style),N),{},{transition:O});return[].concat(yv(y),[P,w,_]).filter(vme)};return this.manager.start([c].concat(yv(a.reduce(v,[d,Math.max(p,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=pme());var s=i.begin,a=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,p=i.steps,v=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof v=="function"||u==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var y=l?Ou({},l,c):c,m=Ik(Object.keys(y),a,u);g.start([d,s,Hr(Hr({},y),{},{transition:m}),a,f])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=zme(i,Vme),u=E.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||a<=0)return s;var f=function(v){var g=v.props,y=g.style,m=y===void 0?{}:y,x=g.className,w=E.cloneElement(v,Hr(Hr({},c),{},{style:Hr(Hr({},m),d),className:x}));return w};return u===1?f(E.Children.only(s)):B.createElement("div",null,E.Children.map(s,function(p){return f(p)}))}}]),n}(E.PureComponent);ms.displayName="Animate";ms.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ms.propTypes={from:Xe.oneOfType([Xe.object,Xe.string]),to:Xe.oneOfType([Xe.object,Xe.string]),attributeName:Xe.string,duration:Xe.number,begin:Xe.number,easing:Xe.oneOfType([Xe.string,Xe.func]),steps:Xe.arrayOf(Xe.shape({duration:Xe.number.isRequired,style:Xe.object.isRequired,easing:Xe.oneOfType([Xe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Xe.func]),properties:Xe.arrayOf("string"),onAnimationEnd:Xe.func})),children:Xe.oneOfType([Xe.node,Xe.func]),isActive:Xe.bool,canBegin:Xe.bool,onAnimationEnd:Xe.func,shouldReAnimate:Xe.bool,onAnimationStart:Xe.func,onAnimationReStart:Xe.func};function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function Hm(){return Hm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hm.apply(this,arguments)}function nge(t,e){return age(t)||sge(t,e)||ige(t,e)||rge()}function rge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ige(t,e){if(t){if(typeof t=="string")return Mk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mk(t,e)}}function Mk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function age(t){if(Array.isArray(t))return t}function $k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(n),!0).forEach(function(r){oge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oge(t,e,n){return e=lge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lge(t){var e=cge(t,"string");return tf(e)=="symbol"?e:e+""}function cge(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uk=function(e,n,r,i,s){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(a>0&&s instanceof Array){for(var f=[0,0,0,0],p=0,v=4;p<v;p++)f[p]=s[p]>a?a:s[p];d="M".concat(e,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(n)),d+="L ".concat(e+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+l*f[1])),d+="L ".concat(e+r,",").concat(n+i-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-c*f[2],",").concat(n+i)),d+="L ".concat(e+c*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-l*f[3])),d+="Z"}else if(a>0&&s===+s&&s>0){var g=Math.min(a,s);d="M ".concat(e,",").concat(n+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+c*g,",").concat(n,`
            L `).concat(e+r-c*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(n+l*g,`
            L `).concat(e+r,",").concat(n+i-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-c*g,",").concat(n+i,`
            L `).concat(e+c*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(n+i-l*g," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},uge=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,a=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(a,a+c),p=Math.max(a,a+c);return r>=u&&r<=d&&i>=f&&i<=p}return!1},dge={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Dj=function(e){var n=Fk(Fk({},dge),e),r=E.useRef(),i=E.useState(-1),s=nge(i,2),a=s[0],l=s[1];E.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&l(T)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,p=n.radius,v=n.className,g=n.animationEasing,y=n.animationDuration,m=n.animationBegin,x=n.isAnimationActive,w=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=ze("recharts-rectangle",v);return w?B.createElement(ms,{canBegin:a>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:y,animationEasing:g,isActive:w},function(T){var N=T.width,A=T.height,_=T.x,S=T.y;return B.createElement(ms,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:y,isActive:x,easing:g},B.createElement("path",Hm({},Me(n,!0),{className:b,d:Uk(_,S,N,A,p),ref:r})))}):B.createElement("path",Hm({},Me(n,!0),{className:b,d:Uk(c,u,d,f,p)}))};function iw(){return iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iw.apply(this,arguments)}var Lj=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,a=ze("recharts-dot",s);return n===+n&&r===+r&&i===+i?E.createElement("circle",iw({},Me(e,!1),dm(e),{className:a,cx:n,cy:r,r:i})):null};function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}var fge=["x","y","top","left","width","height","className"];function sw(){return sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sw.apply(this,arguments)}function Bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bk(Object(n),!0).forEach(function(r){pge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pge(t,e,n){return e=mge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mge(t){var e=gge(t,"string");return nf(e)=="symbol"?e:e+""}function gge(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yge(t,e){if(t==null)return{};var n=vge(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var xge=function(e,n,r,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},bge=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.top,l=a===void 0?0:a,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,p=e.height,v=p===void 0?0:p,g=e.className,y=yge(e,fge),m=hge({x:r,y:s,top:l,left:u,width:f,height:v},y);return!ae(r)||!ae(s)||!ae(f)||!ae(v)||!ae(l)||!ae(u)?null:B.createElement("path",sw({},Me(m,!0),{className:ze("recharts-cross",g),d:xge(r,s,f,v,l,u)}))},wge=z3,_ge=wge(Object.getPrototypeOf,Object),jge=_ge,Sge=ws,Ege=jge,Nge=_s,Tge="[object Object]",Age=Function.prototype,kge=Object.prototype,PL=Age.toString,Pge=kge.hasOwnProperty,Ige=PL.call(Object);function Cge(t){if(!Nge(t)||Sge(t)!=Tge)return!1;var e=Ege(t);if(e===null)return!0;var n=Pge.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&PL.call(n)==Ige}var Oge=Cge;const Rge=st(Oge);var Dge=ws,Lge=_s,Mge="[object Boolean]";function $ge(t){return t===!0||t===!1||Lge(t)&&Dge(t)==Mge}var Fge=$ge;const Uge=st(Fge);function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function Km(){return Km=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Km.apply(this,arguments)}function Bge(t,e){return Wge(t)||qge(t,e)||zge(t,e)||Vge()}function Vge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zge(t,e){if(t){if(typeof t=="string")return Vk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vk(t,e)}}function Vk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function Wge(t){if(Array.isArray(t))return t}function zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zk(Object(n),!0).forEach(function(r){Hge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hge(t,e,n){return e=Kge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kge(t){var e=Gge(t,"string");return rf(e)=="symbol"?e:e+""}function Gge(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wk=function(e,n,r,i,s){var a=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-a/2,",").concat(n+s),l+="L ".concat(e+r-a/2-i,",").concat(n+s),l+="L ".concat(e,",").concat(n," Z"),l},Xge={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Yge=function(e){var n=qk(qk({},Xge),e),r=E.useRef(),i=E.useState(-1),s=Bge(i,2),a=s[0],l=s[1];E.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&l(b)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,p=n.height,v=n.className,g=n.animationEasing,y=n.animationDuration,m=n.animationBegin,x=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||p!==+p||d===0&&f===0||p===0)return null;var w=ze("recharts-trapezoid",v);return x?B.createElement(ms,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:p,x:c,y:u},duration:y,animationEasing:g,isActive:x},function(b){var T=b.upperWidth,N=b.lowerWidth,A=b.height,_=b.x,S=b.y;return B.createElement(ms,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:y,easing:g},B.createElement("path",Km({},Me(n,!0),{className:w,d:Wk(_,S,T,N,A),ref:r})))}):B.createElement("g",null,B.createElement("path",Km({},Me(n,!0),{className:w,d:Wk(c,u,d,f,p)})))},Qge=["option","shapeType","propTransformer","activeClassName","isActive"];function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function Jge(t,e){if(t==null)return{};var n=Zge(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(n),!0).forEach(function(r){e0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e0e(t,e,n){return e=t0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t0e(t){var e=n0e(t,"string");return sf(e)=="symbol"?e:e+""}function n0e(t,e){if(sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r0e(t,e){return Gm(Gm({},e),t)}function i0e(t,e){return t==="symbols"}function Kk(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return B.createElement(Dj,n);case"trapezoid":return B.createElement(Yge,n);case"sector":return B.createElement(xL,n);case"symbols":if(i0e(e))return B.createElement(ej,n);break;default:return null}}function s0e(t){return E.isValidElement(t)?t.props:t}function a0e(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?r0e:r,s=t.activeClassName,a=s===void 0?"recharts-active-shape":s,l=t.isActive,c=Jge(t,Qge),u;if(E.isValidElement(e))u=E.cloneElement(e,Gm(Gm({},c),s0e(e)));else if(ke(e))u=e(c);else if(Rge(e)&&!Uge(e)){var d=i(e,c);u=B.createElement(Kk,{shapeType:n,elementProps:d})}else{var f=c;u=B.createElement(Kk,{shapeType:n,elementProps:f})}return l?B.createElement(Dt,{className:a},u):u}function $0(t,e){return e!=null&&"trapezoids"in t.props}function F0(t,e){return e!=null&&"sectors"in t.props}function af(t,e){return e!=null&&"points"in t.props}function o0e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function l0e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function c0e(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function u0e(t,e){var n;return $0(t,e)?n=o0e:F0(t,e)?n=l0e:af(t,e)&&(n=c0e),n}function d0e(t,e){var n;return $0(t,e)?n="trapezoids":F0(t,e)?n="sectors":af(t,e)&&(n="points"),n}function f0e(t,e){if($0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(F0(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return af(t,e)?e.payload:{}}function h0e(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=d0e(n,e),s=f0e(n,e),a=r.filter(function(c,u){var d=D0(s,c),f=n.props[i].filter(function(g){var y=u0e(n,e);return y(g,e)}),p=n.props[i].indexOf(f[f.length-1]),v=u===p;return d&&v}),l=r.indexOf(a[a.length-1]);return l}var p0e=Math.ceil,m0e=Math.max;function g0e(t,e,n,r){for(var i=-1,s=m0e(p0e((e-t)/(n||1)),0),a=Array(s);s--;)a[r?s:++i]=t,t+=n;return a}var y0e=g0e,v0e=lD,Gk=1/0,x0e=17976931348623157e292;function b0e(t){if(!t)return t===0?t:0;if(t=v0e(t),t===Gk||t===-Gk){var e=t<0?-1:1;return e*x0e}return t===t?t:0}var IL=b0e,w0e=y0e,_0e=N0,vv=IL;function j0e(t){return function(e,n,r){return r&&typeof r!="number"&&_0e(e,n,r)&&(n=r=void 0),e=vv(e),n===void 0?(n=e,e=0):n=vv(n),r=r===void 0?e<n?1:-1:vv(r),w0e(e,n,r,t)}}var S0e=j0e,E0e=S0e,N0e=E0e(),T0e=N0e;const Xm=st(T0e);function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function Xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xk(Object(n),!0).forEach(function(r){CL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CL(t,e,n){return e=A0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A0e(t){var e=k0e(t,"string");return of(e)=="symbol"?e:e+""}function k0e(t,e){if(of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var P0e=["Webkit","Moz","O","ms"],I0e=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=P0e.reduce(function(s,a){return Yk(Yk({},s),{},CL({},a+r,n))},{});return i[e]=n,i};function ac(t){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ac(t)}function Ym(){return Ym=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ym.apply(this,arguments)}function Qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qk(Object(n),!0).forEach(function(r){ar(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RL(r.key),r)}}function O0e(t,e,n){return e&&Jk(t.prototype,e),n&&Jk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function R0e(t,e,n){return e=Qm(e),D0e(t,OL()?Reflect.construct(e,n||[],Qm(t).constructor):e.apply(t,n))}function D0e(t,e){if(e&&(ac(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L0e(t)}function L0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OL=function(){return!!t})()}function Qm(t){return Qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qm(t)}function M0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aw(t,e)}function aw(t,e){return aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aw(t,e)}function ar(t,e,n){return e=RL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RL(t){var e=$0e(t,"string");return ac(e)=="symbol"?e:e+""}function $0e(t,e){if(ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var F0e=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,a=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=Yu().domain(Xm(0,c)).range([s,s+a-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},Zk=function(e){return e.changedTouches&&!!e.changedTouches.length},oc=function(t){function e(n){var r;return C0e(this,e),r=R0e(this,e,[n]),ar(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),ar(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),ar(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,a=i.onDragEnd,l=i.startIndex;a==null||a({endIndex:s,startIndex:l})}),r.detachDragEndListener()}),ar(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ar(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ar(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ar(r,"handleSlideDragStart",function(i){var s=Zk(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return M0e(e,t),O0e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,a=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(i,s),p=Math.max(i,s),v=e.getIndexInRange(a,f),g=e.getIndexInRange(a,p);return{startIndex:v-v%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,a=i.tickFormatter,l=i.dataKey,c=yr(s[r],l,r);return ke(a)?a(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,a=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,p=c.startIndex,v=c.endIndex,g=c.onChange,y=r.pageX-s;y>0?y=Math.min(y,u+d-f-l,u+d-f-a):y<0&&(y=Math.max(y,u-a,u-l));var m=this.getIndex({startX:a+y,endX:l+y});(m.startIndex!==p||m.endIndex!==v)&&g&&g(m),this.setState({startX:a+y,endX:l+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=Zk(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[a],d=this.props,f=d.x,p=d.width,v=d.travellerWidth,g=d.onChange,y=d.gap,m=d.data,x={startX:this.state.startX,endX:this.state.endX},w=r.pageX-s;w>0?w=Math.min(w,f+p-v-u):w<0&&(w=Math.max(w,f-u)),x[a]=u+w;var b=this.getIndex(x),T=b.startIndex,N=b.endIndex,A=function(){var S=m.length-1;return a==="startX"&&(l>c?T%y===0:N%y===0)||l<c&&N===S||a==="endX"&&(l>c?N%y===0:T%y===0)||l>c&&N===S};this.setState(ar(ar({},a,u+w),"brushMoveStartX",r.pageX),function(){g&&A()&&g(b)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,a=this.state,l=a.scaleValues,c=a.startX,u=a.endX,d=this.state[i],f=l.indexOf(d);if(f!==-1){var p=f+r;if(!(p===-1||p>=l.length)){var v=l[p];i==="startX"&&v>=u||i==="endX"&&v<=c||this.setState(ar({},i,v),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,l=r.height,c=r.fill,u=r.stroke;return B.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:a,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,f=E.Children.only(u);return f?B.cloneElement(f,{x:i,y:s,width:a,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,a,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,p=c.traveller,v=c.ariaLabel,g=c.data,y=c.startIndex,m=c.endIndex,x=Math.max(r,this.props.x),w=xv(xv({},Me(this.props,!1)),{},{x,y:u,width:d,height:f}),b=v||"Min value: ".concat((s=g[y])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=g[m])===null||a===void 0?void 0:a.name);return B.createElement(Dt,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,w))}},{key:"renderSlide",value:function(r,i){var s=this.props,a=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return B.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:a,width:f,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,a=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,p=d.endX,v=5,g={pointerEvents:"none",fill:u};return B.createElement(Dt,{className:"recharts-brush-texts"},B.createElement(Nm,Ym({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-v,y:a+l/2},g),this.getTextOfTick(i)),B.createElement(Nm,Ym({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+c+v,y:a+l/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,a=r.children,l=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,p=this.state,v=p.startX,g=p.endX,y=p.isTextActive,m=p.isSlideMoving,x=p.isTravellerMoving,w=p.isTravellerFocused;if(!i||!i.length||!ae(l)||!ae(c)||!ae(u)||!ae(d)||u<=0||d<=0)return null;var b=ze("recharts-brush",s),T=B.Children.count(a)===1,N=I0e("userSelect","none");return B.createElement(Dt,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(v,g),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(g,"endX"),(y||m||x||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,a=r.width,l=r.height,c=r.stroke,u=Math.floor(s+l/2)-1;return B.createElement(B.Fragment,null,B.createElement("rect",{x:i,y:s,width:a,height:l,fill:c,stroke:"none"}),B.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),B.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return B.isValidElement(r)?s=B.cloneElement(r,i):ke(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,a=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return xv({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:a},s&&s.length?F0e({data:s,width:a,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+a-c]);var p=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,a=0,l=s-1;l-a>1;){var c=Math.floor((a+l)/2);r[c]>i?l=c:a=c}return i>=r[l]?l:a}}])}(E.PureComponent);ar(oc,"displayName","Brush");ar(oc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var U0e=oj;function B0e(t,e){var n;return U0e(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}var V0e=B0e,z0e=D3,q0e=ja,W0e=V0e,H0e=rr,K0e=N0;function G0e(t,e,n){var r=H0e(t)?z0e:W0e;return n&&K0e(t,e,n)&&(e=void 0),r(t,q0e(e))}var X0e=G0e;const Y0e=st(X0e);var Ii=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},eP=rD;function Q0e(t,e,n){e=="__proto__"&&eP?eP(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var J0e=Q0e,Z0e=J0e,eye=tD,tye=ja;function nye(t,e){var n={};return e=tye(e),eye(t,function(r,i,s){Z0e(n,i,e(r,i,s))}),n}var rye=nye;const iye=st(rye);function sye(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var aye=sye,oye=oj;function lye(t,e){var n=!0;return oye(t,function(r,i,s){return n=!!e(r,i,s),n}),n}var cye=lye,uye=aye,dye=cye,fye=ja,hye=rr,pye=N0;function mye(t,e,n){var r=hye(t)?uye:dye;return n&&pye(t,e,n)&&(e=void 0),r(t,fye(e))}var gye=mye;const DL=st(gye);var yye=["x","y"];function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function ow(){return ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ow.apply(this,arguments)}function tP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(n),!0).forEach(function(r){vye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vye(t,e,n){return e=xye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xye(t){var e=bye(t,"string");return lf(e)=="symbol"?e:e+""}function bye(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wye(t,e){if(t==null)return{};var n=_ye(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _ye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jye(t,e){var n=t.x,r=t.y,i=wye(t,yye),s="".concat(n),a=parseInt(s,10),l="".concat(r),c=parseInt(l,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),p=parseInt(f,10);return wu(wu(wu(wu(wu({},e),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:d,width:p,name:e.name,radius:e.radius})}function nP(t){return B.createElement(a0e,ow({shapeType:"rectangle",propTransformer:jye,activeClassName:"recharts-active-bar"},t))}var Sye=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=ae(r)||FQ(r);return s?e(r,i):(s||_o(),n)}},Eye=["value","background"],LL;function lc(t){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc(t)}function Nye(t,e){if(t==null)return{};var n=Tye(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Jm(){return Jm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jm.apply(this,arguments)}function rP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rP(Object(n),!0).forEach(function(r){Hs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$L(r.key),r)}}function kye(t,e,n){return e&&iP(t.prototype,e),n&&iP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pye(t,e,n){return e=Zm(e),Iye(t,ML()?Reflect.construct(e,n||[],Zm(t).constructor):e.apply(t,n))}function Iye(t,e){if(e&&(lc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cye(t)}function Cye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ML(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ML=function(){return!!t})()}function Zm(t){return Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zm(t)}function Oye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lw(t,e)}function lw(t,e){return lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lw(t,e)}function Hs(t,e,n){return e=$L(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $L(t){var e=Rye(t,"string");return lc(e)=="symbol"?e:e+""}function Rye(t,e){if(lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zf=function(t){function e(){var n;Aye(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Pye(this,e,[].concat(i)),Hs(n,"state",{isAnimationFinished:!1}),Hs(n,"id",Lf("recharts-bar-")),Hs(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Hs(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return Oye(e,t),kye(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,a=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=Me(this.props,!1);return r&&r.map(function(f,p){var v=p===c,g=v?u:a,y=Bt(Bt(Bt({},d),f),{},{isActive:v,option:g,index:p,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return B.createElement(Dt,Jm({className:"recharts-bar-rectangle"},fm(i.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),B.createElement(nP,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,a=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,p=this.state.prevData;return B.createElement(ms,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var g=v.t,y=s.map(function(m,x){var w=p&&p[x];if(w){var b=Zr(w.x,m.x),T=Zr(w.y,m.y),N=Zr(w.width,m.width),A=Zr(w.height,m.height);return Bt(Bt({},m),{},{x:b(g),y:T(g),width:N(g),height:A(g)})}if(a==="horizontal"){var _=Zr(0,m.height),S=_(g);return Bt(Bt({},m),{},{y:m.y+m.height-S,height:S})}var k=Zr(0,m.width),O=k(g);return Bt(Bt({},m),{},{width:O})});return B.createElement(Dt,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!D0(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,a=i.dataKey,l=i.activeIndex,c=Me(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,p=Nye(u,Eye);if(!f)return null;var v=Bt(Bt(Bt(Bt(Bt({},p),{},{fill:"#eee"},f),c),fm(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return B.createElement(nP,Jm({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},v))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=Ir(d,Vf);if(!f)return null;var p=u==="vertical"?a[0].height/2:a[0].width/2,v=function(m,x){var w=Array.isArray(m.value)?m.value[1]:m.value;return{x:m.x,y:m.y,value:w,errorVal:yr(m,x)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return B.createElement(Dt,g,f.map(function(y){return B.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:a,xAxis:l,yAxis:c,layout:u,offset:p,dataPointFormatter:v})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,a=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,p=r.height,v=r.isAnimationActive,g=r.background,y=r.id;if(i||!s||!s.length)return null;var m=this.state.isAnimationFinished,x=ze("recharts-bar",a),w=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,T=w||b,N=Ie(y)?this.id:y;return B.createElement(Dt,{className:x},w||b?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(N)},B.createElement("rect",{x:w?u:u-f/2,y:b?d:d-p/2,width:w?f:f*2,height:b?p:p*2}))):null,B.createElement(Dt,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(N,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,N),(!v||m)&&la.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(E.PureComponent);LL=zf;Hs(zf,"displayName","Bar");Hs(zf,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Mc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Hs(zf,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,a=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,p=t.offset,v=che(r,n);if(!v)return null;var g=e.layout,y=n.type.defaultProps,m=y!==void 0?Bt(Bt({},y),n.props):n.props,x=m.dataKey,w=m.children,b=m.minPointSize,T=g==="horizontal"?a:s,N=u?T.scale.domain():null,A=yhe({numericAxis:T}),_=Ir(w,uD),S=f.map(function(k,O){var P,R,C,V,U,$;u?P=uhe(u[d+O],N):(P=yr(k,x),Array.isArray(P)||(P=[A,P]));var M=Sye(b,LL.defaultProps.minPointSize)(P[1],O);if(g==="horizontal"){var L,F=[a.scale(P[0]),a.scale(P[1])],W=F[0],K=F[1];R=rk({axis:s,ticks:l,bandSize:i,offset:v.offset,entry:k,index:O}),C=(L=K??W)!==null&&L!==void 0?L:void 0,V=v.size;var Y=W-K;if(U=Number.isNaN(Y)?0:Y,$={x:R,y:a.y,width:V,height:a.height},Math.abs(M)>0&&Math.abs(U)<Math.abs(M)){var z=si(U||M)*(Math.abs(M)-Math.abs(U));C-=z,U+=z}}else{var oe=[s.scale(P[0]),s.scale(P[1])],je=oe[0],Pe=oe[1];if(R=je,C=rk({axis:a,ticks:c,bandSize:i,offset:v.offset,entry:k,index:O}),V=Pe-je,U=v.size,$={x:s.x,y:C,width:s.width,height:U},Math.abs(M)>0&&Math.abs(V)<Math.abs(M)){var Oe=si(V||M)*(Math.abs(M)-Math.abs(V));V+=Oe}}return Bt(Bt(Bt({},k),{},{x:R,y:C,width:V,height:U,value:u?P:P[1],payload:k,background:$},_&&_[O]&&_[O].props),{},{tooltipPayload:[gL(n,k)],tooltipPosition:{x:R+V/2,y:C+U/2}})});return Bt({data:S,layout:g},p)});function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function Dye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FL(r.key),r)}}function Lye(t,e,n){return e&&sP(t.prototype,e),n&&sP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function aP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aP(Object(n),!0).forEach(function(r){U0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U0(t,e,n){return e=FL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FL(t){var e=Mye(t,"string");return cf(e)=="symbol"?e:e+""}function Mye(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $ye=function(e,n,r,i,s){var a=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},p=!!lr(u,zf);return d.reduce(function(v,g){var y=n[g],m=y.orientation,x=y.domain,w=y.padding,b=w===void 0?{}:w,T=y.mirror,N=y.reversed,A="".concat(m).concat(T?"Mirror":""),_,S,k,O,P;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var R=x[1]-x[0],C=1/0,V=y.categoricalDomain.sort(VQ);if(V.forEach(function(oe,je){je>0&&(C=Math.min((oe||0)-(V[je-1]||0),C))}),Number.isFinite(C)){var U=C/R,$=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(_=U*$/2),y.padding==="no-gap"){var M=bo(e.barCategoryGap,U*$),L=U*$/2;_=L-M-(L-M)/$*M}}}i==="xAxis"?S=[r.left+(b.left||0)+(_||0),r.left+r.width-(b.right||0)-(_||0)]:i==="yAxis"?S=c==="horizontal"?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(_||0),r.top+r.height-(b.bottom||0)-(_||0)]:S=y.range,N&&(S=[S[1],S[0]]);var F=ohe(y,s,p),W=F.scale,K=F.realScaleType;W.domain(x).range(S),lhe(W);var Y=ghe(W,Yr(Yr({},y),{},{realScaleType:K}));i==="xAxis"?(P=m==="top"&&!T||m==="bottom"&&T,k=r.left,O=f[A]-P*y.height):i==="yAxis"&&(P=m==="left"&&!T||m==="right"&&T,k=f[A]-P*y.width,O=r.top);var z=Yr(Yr(Yr({},y),Y),{},{realScaleType:K,x:k,y:O,scale:W,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return z.bandSize=Um(z,Y),!y.hide&&i==="xAxis"?f[A]+=(P?-1:1)*z.height:y.hide||(f[A]+=(P?-1:1)*z.width),Yr(Yr({},v),{},U0({},g,z))},{})},UL=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return{x:Math.min(r,s),y:Math.min(i,a),width:Math.abs(s-r),height:Math.abs(a-i)}},Fye=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return UL({x:n,y:r},{x:i,y:s})},BL=function(){function t(e){Dye(this,t),this.scale=e}return Lye(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();U0(BL,"EPS",1e-4);var Mj=function(e){var n=Object.keys(e).reduce(function(r,i){return Yr(Yr({},r),{},U0({},i,BL.create(e[i])))},{});return Yr(Yr({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,l=s.position;return iye(i,function(c,u){return n[u].apply(c,{bandAware:a,position:l})})},isInRange:function(i){return DL(i,function(s,a){return n[a].isInRange(s)})}})};function Uye(t){return(t%180+180)%180}var Bye=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Uye(i),a=s*Math.PI/180,l=Math.atan(r/n),c=a>l&&a<Math.PI-l?r/Math.sin(a):n/Math.cos(a);return Math.abs(c)},Vye=ja,zye=Mf,qye=S0;function Wye(t){return function(e,n,r){var i=Object(e);if(!zye(e)){var s=Vye(n);e=qye(e),n=function(l){return s(i[l],l,i)}}var a=t(e,n,r);return a>-1?i[s?e[a]:a]:void 0}}var Hye=Wye,Kye=IL;function Gye(t){var e=Kye(t),n=e%1;return e===e?n?e-n:e:0}var Xye=Gye,Yye=X3,Qye=ja,Jye=Xye,Zye=Math.max;function eve(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Jye(n);return i<0&&(i=Zye(r+i,0)),Yye(t,Qye(e),i)}var tve=eve,nve=Hye,rve=tve,ive=nve(rve),sve=ive;const ave=st(sve);var ove=WY(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),$j=E.createContext(void 0),Fj=E.createContext(void 0),VL=E.createContext(void 0),zL=E.createContext({}),qL=E.createContext(void 0),WL=E.createContext(0),HL=E.createContext(0),oP=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,a=e.clipPathId,l=e.children,c=e.width,u=e.height,d=ove(s);return B.createElement($j.Provider,{value:r},B.createElement(Fj.Provider,{value:i},B.createElement(zL.Provider,{value:s},B.createElement(VL.Provider,{value:d},B.createElement(qL.Provider,{value:a},B.createElement(WL.Provider,{value:u},B.createElement(HL.Provider,{value:c},l)))))))},lve=function(){return E.useContext(qL)},KL=function(e){var n=E.useContext($j);n==null&&_o();var r=n[e];return r==null&&_o(),r},cve=function(){var e=E.useContext($j);return Us(e)},uve=function(){var e=E.useContext(Fj),n=ave(e,function(r){return DL(r.domain,Number.isFinite)});return n||Us(e)},GL=function(e){var n=E.useContext(Fj);n==null&&_o();var r=n[e];return r==null&&_o(),r},dve=function(){var e=E.useContext(VL);return e},fve=function(){return E.useContext(zL)},Uj=function(){return E.useContext(HL)},Bj=function(){return E.useContext(WL)};function cc(t){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cc(t)}function hve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YL(r.key),r)}}function mve(t,e,n){return e&&pve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gve(t,e,n){return e=eg(e),yve(t,XL()?Reflect.construct(e,n||[],eg(t).constructor):e.apply(t,n))}function yve(t,e){if(e&&(cc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vve(t)}function vve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XL=function(){return!!t})()}function eg(t){return eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eg(t)}function xve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cw(t,e)}function cw(t,e){return cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cw(t,e)}function lP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(n),!0).forEach(function(r){Vj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vj(t,e,n){return e=YL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YL(t){var e=bve(t,"string");return cc(e)=="symbol"?e:e+""}function bve(t,e){if(cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wve(t,e){return Eve(t)||Sve(t,e)||jve(t,e)||_ve()}function _ve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jve(t,e){if(t){if(typeof t=="string")return uP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uP(t,e)}}function uP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function Eve(t){if(Array.isArray(t))return t}function uw(){return uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uw.apply(this,arguments)}var Nve=function(e,n){var r;return B.isValidElement(e)?r=B.cloneElement(e,n):ke(e)?r=e(n):r=B.createElement("line",uw({},n,{className:"recharts-reference-line-line"})),r},Tve=function(e,n,r,i,s,a,l,c,u){var d=s.x,f=s.y,p=s.width,v=s.height;if(r){var g=u.y,y=e.y.apply(g,{position:a});if(Ii(u,"discard")&&!e.y.isInRange(y))return null;var m=[{x:d+p,y},{x:d,y}];return c==="left"?m.reverse():m}if(n){var x=u.x,w=e.x.apply(x,{position:a});if(Ii(u,"discard")&&!e.x.isInRange(w))return null;var b=[{x:w,y:f+v},{x:w,y:f}];return l==="top"?b.reverse():b}if(i){var T=u.segment,N=T.map(function(A){return e.apply(A,{position:a})});return Ii(u,"discard")&&Y0e(N,function(A){return!e.isInRange(A)})?null:N}return null};function Ave(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,a=t.shape,l=t.className,c=t.alwaysShow,u=lve(),d=KL(i),f=GL(s),p=dve();if(!u||!p)return null;ns(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=Mj({x:d.scale,y:f.scale}),g=Xt(e),y=Xt(n),m=r&&r.length===2,x=Tve(v,g,y,m,p,t.position,d.orientation,f.orientation,t);if(!x)return null;var w=wve(x,2),b=w[0],T=b.x,N=b.y,A=w[1],_=A.x,S=A.y,k=Ii(t,"hidden")?"url(#".concat(u,")"):void 0,O=cP(cP({clipPath:k},Me(t,!0)),{},{x1:T,y1:N,x2:_,y2:S});return B.createElement(Dt,{className:ze("recharts-reference-line",l)},Nve(a,O),Pn.renderCallByParent(t,Fye({x1:T,y1:N,x2:_,y2:S})))}var zj=function(t){function e(){return hve(this,e),gve(this,e,arguments)}return xve(e,t),mve(e,[{key:"render",value:function(){return B.createElement(Ave,this.props)}}])}(B.Component);Vj(zj,"displayName","ReferenceLine");Vj(zj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function dw(){return dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dw.apply(this,arguments)}function uc(t){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(t)}function dP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dP(Object(n),!0).forEach(function(r){B0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JL(r.key),r)}}function Ive(t,e,n){return e&&Pve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cve(t,e,n){return e=tg(e),Ove(t,QL()?Reflect.construct(e,n||[],tg(t).constructor):e.apply(t,n))}function Ove(t,e){if(e&&(uc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rve(t)}function Rve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QL=function(){return!!t})()}function tg(t){return tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tg(t)}function Dve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fw(t,e)}function fw(t,e){return fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fw(t,e)}function B0(t,e,n){return e=JL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JL(t){var e=Lve(t,"string");return uc(e)=="symbol"?e:e+""}function Lve(t,e){if(uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mve=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,a=Mj({x:i.scale,y:s.scale}),l=a.apply({x:n,y:r},{bandAware:!0});return Ii(e,"discard")&&!a.isInRange(l)?null:l},V0=function(t){function e(){return kve(this,e),Cve(this,e,arguments)}return Dve(e,t),Ive(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,a=r.r,l=r.alwaysShow,c=r.clipPathId,u=Xt(i),d=Xt(s);if(ns(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Mve(this.props);if(!f)return null;var p=f.x,v=f.y,g=this.props,y=g.shape,m=g.className,x=Ii(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=fP(fP({clipPath:x},Me(this.props,!0)),{},{cx:p,cy:v});return B.createElement(Dt,{className:ze("recharts-reference-dot",m)},e.renderDot(y,w),Pn.renderCallByParent(this.props,{x:p-a,y:v-a,width:2*a,height:2*a}))}}])}(B.Component);B0(V0,"displayName","ReferenceDot");B0(V0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});B0(V0,"renderDot",function(t,e){var n;return B.isValidElement(t)?n=B.cloneElement(t,e):ke(t)?n=t(e):n=B.createElement(Lj,dw({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hw.apply(this,arguments)}function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}function hP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(n),!0).forEach(function(r){z0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eM(r.key),r)}}function Uve(t,e,n){return e&&Fve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bve(t,e,n){return e=ng(e),Vve(t,ZL()?Reflect.construct(e,n||[],ng(t).constructor):e.apply(t,n))}function Vve(t,e){if(e&&(dc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zve(t)}function zve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZL=function(){return!!t})()}function ng(t){return ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ng(t)}function qve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pw(t,e)}function pw(t,e){return pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pw(t,e)}function z0(t,e,n){return e=eM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eM(t){var e=Wve(t,"string");return dc(e)=="symbol"?e:e+""}function Wve(t,e){if(dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hve=function(e,n,r,i,s){var a=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var p=Mj({x:d.scale,y:f.scale}),v={x:e?p.x.apply(a,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(c,{position:"start"}):p.y.rangeMin},g={x:n?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(u,{position:"end"}):p.y.rangeMax};return Ii(s,"discard")&&(!p.isInRange(v)||!p.isInRange(g))?null:UL(v,g)},q0=function(t){function e(){return $ve(this,e),Bve(this,e,arguments)}return qve(e,t),Uve(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,a=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;ns(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Xt(i),p=Xt(s),v=Xt(a),g=Xt(l),y=this.props.shape;if(!f&&!p&&!v&&!g&&!y)return null;var m=Hve(f,p,v,g,this.props);if(!m&&!y)return null;var x=Ii(this.props,"hidden")?"url(#".concat(d,")"):void 0;return B.createElement(Dt,{className:ze("recharts-reference-area",c)},e.renderRect(y,pP(pP({clipPath:x},Me(this.props,!0)),m)),Pn.renderCallByParent(this.props,m))}}])}(B.Component);z0(q0,"displayName","ReferenceArea");z0(q0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});z0(q0,"renderRect",function(t,e){var n;return B.isValidElement(t)?n=B.cloneElement(t,e):ke(t)?n=t(e):n=B.createElement(Dj,hw({},e,{className:"recharts-reference-area-rect"})),n});function tM(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Kve(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Bye(r,n)}function Gve(t,e,n){var r=n==="width",i=t.x,s=t.y,a=t.width,l=t.height;return e===1?{start:r?i:s,end:r?i+a:s+l}:{start:r?i+a:s+l,end:r?i:s}}function rg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Xve(t,e){return tM(t,e+1)}function Yve(t,e,n,r,i){for(var s=(r||[]).slice(),a=e.start,l=e.end,c=0,u=1,d=a,f=function(){var g=r==null?void 0:r[c];if(g===void 0)return{v:tM(r,u)};var y=c,m,x=function(){return m===void 0&&(m=n(g,y)),m},w=g.coordinate,b=c===0||rg(t,w,x,d,l);b||(c=0,d=a,u+=1),b&&(d=w+t*(x()/2+i),c+=u)},p;u<=s.length;)if(p=f(),p)return p.v;return[]}function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function mP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(n),!0).forEach(function(r){Qve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qve(t,e,n){return e=Jve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jve(t){var e=Zve(t,"string");return uf(e)=="symbol"?e:e+""}function Zve(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function exe(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,l=e.start,c=e.end,u=function(p){var v=s[p],g,y=function(){return g===void 0&&(g=n(v,p)),g};if(p===a-1){var m=t*(v.coordinate+t*y()/2-c);s[p]=v=Nn(Nn({},v),{},{tickCoord:m>0?v.coordinate-m*t:v.coordinate})}else s[p]=v=Nn(Nn({},v),{},{tickCoord:v.coordinate});var x=rg(t,v.tickCoord,y,l,c);x&&(c=v.tickCoord-t*(y()/2+i),s[p]=Nn(Nn({},v),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return s}function txe(t,e,n,r,i,s){var a=(r||[]).slice(),l=a.length,c=e.start,u=e.end;if(s){var d=r[l-1],f=n(d,l-1),p=t*(d.coordinate+t*f/2-u);a[l-1]=d=Nn(Nn({},d),{},{tickCoord:p>0?d.coordinate-p*t:d.coordinate});var v=rg(t,d.tickCoord,function(){return f},c,u);v&&(u=d.tickCoord-t*(f/2+i),a[l-1]=Nn(Nn({},d),{},{isShow:!0}))}for(var g=s?l-1:l,y=function(w){var b=a[w],T,N=function(){return T===void 0&&(T=n(b,w)),T};if(w===0){var A=t*(b.coordinate-t*N()/2-c);a[w]=b=Nn(Nn({},b),{},{tickCoord:A<0?b.coordinate-A*t:b.coordinate})}else a[w]=b=Nn(Nn({},b),{},{tickCoord:b.coordinate});var _=rg(t,b.tickCoord,N,c,u);_&&(c=b.tickCoord+t*(N()/2+i),a[w]=Nn(Nn({},b),{},{isShow:!0}))},m=0;m<g;m++)y(m);return a}function qj(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,a=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ae(c)||Mc.isSsr)return Xve(i,typeof c=="number"&&ae(c)?c:0);var p=[],v=l==="top"||l==="bottom"?"width":"height",g=d&&v==="width"?Xu(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(b,T){var N=ke(u)?u(b.value,T):b.value;return v==="width"?Kve(Xu(N,{fontSize:e,letterSpacing:n}),g,f):Xu(N,{fontSize:e,letterSpacing:n})[v]},m=i.length>=2?si(i[1].coordinate-i[0].coordinate):1,x=Gve(s,m,v);return c==="equidistantPreserveStart"?Yve(m,x,y,i,a):(c==="preserveStart"||c==="preserveStartEnd"?p=txe(m,x,y,i,a,c==="preserveStartEnd"):p=exe(m,x,y,i,a),p.filter(function(w){return w.isShow}))}var nxe=["viewBox"],rxe=["viewBox"],ixe=["ticks"];function fc(t){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(t)}function dl(){return dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dl.apply(this,arguments)}function gP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(n),!0).forEach(function(r){Wj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bv(t,e){if(t==null)return{};var n=sxe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function axe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rM(r.key),r)}}function oxe(t,e,n){return e&&yP(t.prototype,e),n&&yP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lxe(t,e,n){return e=ig(e),cxe(t,nM()?Reflect.construct(e,n||[],ig(t).constructor):e.apply(t,n))}function cxe(t,e){if(e&&(fc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uxe(t)}function uxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nM=function(){return!!t})()}function ig(t){return ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ig(t)}function dxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mw(t,e)}function mw(t,e){return mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mw(t,e)}function Wj(t,e,n){return e=rM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rM(t){var e=fxe(t,"string");return fc(e)=="symbol"?e:e+""}function fxe(t,e){if(fc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bc=function(t){function e(n){var r;return axe(this,e),r=lxe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return dxe(e,t),oxe(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,a=bv(r,nxe),l=this.props,c=l.viewBox,u=bv(l,rxe);return!Tl(s,c)||!Tl(a,u)||!Tl(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,a=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,p=i.tickMargin,v,g,y,m,x,w,b=f?-1:1,T=r.tickSize||d,N=ae(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":v=g=r.coordinate,m=a+ +!f*c,y=m-b*T,w=y-b*p,x=N;break;case"left":y=m=r.coordinate,g=s+ +!f*l,v=g-b*T,x=v-b*p,w=N;break;case"right":y=m=r.coordinate,g=s+ +f*l,v=g+b*T,x=v+b*p,w=N;break;default:v=g=r.coordinate,m=a+ +f*c,y=m+b*T,w=y+b*p,x=N;break}return{line:{x1:v,y1:y,x2:g,y2:m},tick:{x,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,f=qt(qt(qt({},Me(this.props,!1)),Me(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!u||c==="bottom"&&u);f=qt(qt({},f),{},{x1:i,y1:s+p*l,x2:i+a,y2:s+p*l})}else{var v=+(c==="left"&&!u||c==="right"&&u);f=qt(qt({},f),{},{x1:i+v*a,y1:s,x2:i+v*a,y2:s+l})}return B.createElement("line",dl({},f,{className:ze("recharts-cartesian-axis-line",Pr(d,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var a=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,p=l.unit,v=qj(qt(qt({},this.props),{},{ticks:r}),i,s),g=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),m=Me(this.props,!1),x=Me(d,!1),w=qt(qt({},m),{},{fill:"none"},Me(c,!1)),b=v.map(function(T,N){var A=a.getTickLineCoord(T),_=A.line,S=A.tick,k=qt(qt(qt(qt({textAnchor:g,verticalAnchor:y},m),{},{stroke:"none",fill:u},x),S),{},{index:N,payload:T,visibleTicksCount:v.length,tickFormatter:f});return B.createElement(Dt,dl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},fm(a.props,T,N)),c&&B.createElement("line",dl({},w,_,{className:ze("recharts-cartesian-axis-tick-line",Pr(c,"className"))})),d&&e.renderTickItem(d,k,"".concat(ke(f)?f(T.value,N):T.value).concat(p||"")))});return B.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,a=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,p=f.ticks,v=bv(f,ixe),g=p;return ke(c)&&(g=p&&p.length>0?c(this.props):c(v)),a<=0||l<=0||!g||!g.length?null:B.createElement(Dt,{className:ze("recharts-cartesian-axis",u),ref:function(m){r.layerReference=m}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Pn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var a,l=ze(i.className,"recharts-cartesian-axis-tick-value");return B.isValidElement(r)?a=B.cloneElement(r,qt(qt({},i),{},{className:l})):ke(r)?a=r(qt(qt({},i),{},{className:l})):a=B.createElement(Nm,dl({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])}(E.Component);Wj(Bc,"displayName","CartesianAxis");Wj(Bc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var hxe=["x1","y1","x2","y2","key"],pxe=["offset"];function jo(t){"@babel/helpers - typeof";return jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jo(t)}function vP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vP(Object(n),!0).forEach(function(r){mxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mxe(t,e,n){return e=gxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gxe(t){var e=yxe(t,"string");return jo(e)=="symbol"?e:e+""}function yxe(t,e){if(jo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ya(){return Ya=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ya.apply(this,arguments)}function xP(t,e){if(t==null)return{};var n=vxe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var xxe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,a=e.width,l=e.height,c=e.ry;return B.createElement("rect",{x:i,y:s,ry:c,width:a,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function iM(t,e){var n;if(B.isValidElement(t))n=B.cloneElement(t,e);else if(ke(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,a=e.y2,l=e.key,c=xP(e,hxe),u=Me(c,!1);u.offset;var d=xP(u,pxe);n=B.createElement("line",Ya({},d,{x1:r,y1:i,x2:s,y2:a,fill:"none",key:l}))}return n}function bxe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(l,c){var u=In(In({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return iM(i,u)});return B.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function wxe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(l,c){var u=In(In({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return iM(i,u)});return B.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function _xe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,a=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(p){return Math.round(p+i-i)}).sort(function(p,v){return p-v});i!==d[0]&&d.unshift(0);var f=d.map(function(p,v){var g=!d[v+1],y=g?i+a-p:d[v+1]-p;if(y<=0)return null;var m=v%e.length;return B.createElement("rect",{key:"react-".concat(v),y:p,x:r,height:y,width:s,stroke:"none",fill:e[m],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function jxe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,a=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(p){return Math.round(p+s-s)}).sort(function(p,v){return p-v});s!==d[0]&&d.unshift(0);var f=d.map(function(p,v){var g=!d[v+1],y=g?s+l-p:d[v+1]-p;if(y<=0)return null;var m=v%r.length;return B.createElement("rect",{key:"react-".concat(v),x:p,y:a,width:y,height:c,stroke:"none",fill:r[m],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Sxe=function(e,n){var r=e.xAxis,i=e.width,s=e.height,a=e.offset;return pL(qj(In(In(In({},Bc.defaultProps),r),{},{ticks:Ji(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.left,a.left+a.width,n)},Exe=function(e,n){var r=e.yAxis,i=e.width,s=e.height,a=e.offset;return pL(qj(In(In(In({},Bc.defaultProps),r),{},{ticks:Ji(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.top,a.top+a.height,n)},Ko={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function sM(t){var e,n,r,i,s,a,l=Uj(),c=Bj(),u=fve(),d=In(In({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ko.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Ko.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Ko.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ko.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Ko.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Ko.verticalFill,x:ae(t.x)?t.x:u.left,y:ae(t.y)?t.y:u.top,width:ae(t.width)?t.width:u.width,height:ae(t.height)?t.height:u.height}),f=d.x,p=d.y,v=d.width,g=d.height,y=d.syncWithTicks,m=d.horizontalValues,x=d.verticalValues,w=cve(),b=uve();if(!ae(v)||v<=0||!ae(g)||g<=0||!ae(f)||f!==+f||!ae(p)||p!==+p)return null;var T=d.verticalCoordinatesGenerator||Sxe,N=d.horizontalCoordinatesGenerator||Exe,A=d.horizontalPoints,_=d.verticalPoints;if((!A||!A.length)&&ke(N)){var S=m&&m.length,k=N({yAxis:b?In(In({},b),{},{ticks:S?m:b.ticks}):void 0,width:l,height:c,offset:u},S?!0:y);ns(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(jo(k),"]")),Array.isArray(k)&&(A=k)}if((!_||!_.length)&&ke(T)){var O=x&&x.length,P=T({xAxis:w?In(In({},w),{},{ticks:O?x:w.ticks}):void 0,width:l,height:c,offset:u},O?!0:y);ns(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(jo(P),"]")),Array.isArray(P)&&(_=P)}return B.createElement("g",{className:"recharts-cartesian-grid"},B.createElement(xxe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),B.createElement(bxe,Ya({},d,{offset:u,horizontalPoints:A,xAxis:w,yAxis:b})),B.createElement(wxe,Ya({},d,{offset:u,verticalPoints:_,xAxis:w,yAxis:b})),B.createElement(_xe,Ya({},d,{horizontalPoints:A})),B.createElement(jxe,Ya({},d,{verticalPoints:_})))}sM.displayName="CartesianGrid";var Nxe=["type","layout","connectNulls","ref"],Txe=["key"];function hc(t){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(t)}function bP(t,e){if(t==null)return{};var n=Axe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Axe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Zu(){return Zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zu.apply(this,arguments)}function wP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(n),!0).forEach(function(r){Qr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Go(t){return Cxe(t)||Ixe(t)||Pxe(t)||kxe()}function kxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pxe(t,e){if(t){if(typeof t=="string")return gw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gw(t,e)}}function Ixe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cxe(t){if(Array.isArray(t))return gw(t)}function gw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oM(r.key),r)}}function Rxe(t,e,n){return e&&_P(t.prototype,e),n&&_P(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dxe(t,e,n){return e=sg(e),Lxe(t,aM()?Reflect.construct(e,n||[],sg(t).constructor):e.apply(t,n))}function Lxe(t,e){if(e&&(hc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mxe(t)}function Mxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aM=function(){return!!t})()}function sg(t){return sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sg(t)}function $xe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yw(t,e)}function yw(t,e){return yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yw(t,e)}function Qr(t,e,n){return e=oM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oM(t){var e=Fxe(t,"string");return hc(e)=="symbol"?e:e+""}function Fxe(t,e){if(hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qf=function(t){function e(){var n;Oxe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Dxe(this,e,[].concat(i)),Qr(n,"state",{isAnimationFinished:!0,totalLength:0}),Qr(n,"generateSimpleStrokeDasharray",function(a,l){return"".concat(l,"px ").concat(a-l,"px")}),Qr(n,"getStrokeDasharray",function(a,l,c){var u=c.reduce(function(x,w){return x+w});if(!u)return n.generateSimpleStrokeDasharray(l,a);for(var d=Math.floor(a/u),f=a%u,p=l-a,v=[],g=0,y=0;g<c.length;y+=c[g],++g)if(y+c[g]>f){v=[].concat(Go(c.slice(0,g)),[f-y]);break}var m=v.length%2===0?[0,p]:[p];return[].concat(Go(e.repeat(c,d)),Go(v),m).map(function(x){return"".concat(x,"px")}).join(", ")}),Qr(n,"id",Lf("recharts-line-")),Qr(n,"pathRef",function(a){n.mainCurve=a}),Qr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Qr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return $xe(e,t),Rxe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=Ir(d,Vf);if(!f)return null;var p=function(y,m){return{x:y.x,y:y.y,value:y.value,errorVal:yr(y.payload,m)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return B.createElement(Dt,v,f.map(function(g){return B.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:a,xAxis:l,yAxis:c,layout:u,dataPointFormatter:p})}))}},{key:"renderDots",value:function(r,i,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Me(this.props,!1),p=Me(c,!0),v=u.map(function(y,m){var x=sr(sr(sr({key:"dot-".concat(m),r:3},f),p),{},{index:m,cx:y.x,cy:y.y,value:y.value,dataKey:d,payload:y.payload,points:u});return e.renderDotItem(c,x)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return B.createElement(Dt,Zu({className:"recharts-line-dots",key:"dots"},g),v)}},{key:"renderCurveStatically",value:function(r,i,s,a){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=bP(l,Nxe),p=sr(sr(sr({},Me(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},a),{},{type:c,layout:u,connectNulls:d});return B.createElement(Gb,Zu({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,a=this.props,l=a.points,c=a.strokeDasharray,u=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,p=a.animationEasing,v=a.animationId,g=a.animateNewValues,y=a.width,m=a.height,x=this.state,w=x.prevPoints,b=x.totalLength;return B.createElement(ms,{begin:d,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var N=T.t;if(w){var A=w.length/l.length,_=l.map(function(R,C){var V=Math.floor(C*A);if(w[V]){var U=w[V],$=Zr(U.x,R.x),M=Zr(U.y,R.y);return sr(sr({},R),{},{x:$(N),y:M(N)})}if(g){var L=Zr(y*2,R.x),F=Zr(m/2,R.y);return sr(sr({},R),{},{x:L(N),y:F(N)})}return sr(sr({},R),{},{x:R.x,y:R.y})});return s.renderCurveStatically(_,r,i)}var S=Zr(0,b),k=S(N),O;if(c){var P="".concat(c).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});O=s.getStrokeDasharray(k,b,P)}else O=s.generateSimpleStrokeDasharray(b,k);return s.renderCurveStatically(l,r,i,{strokeDasharray:O})})}},{key:"renderCurve",value:function(r,i){var s=this.props,a=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&a&&a.length&&(!u&&d>0||!D0(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,a=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,p=i.left,v=i.width,g=i.height,y=i.isAnimationActive,m=i.id;if(s||!l||!l.length)return null;var x=this.state.isAnimationFinished,w=l.length===1,b=ze("recharts-line",c),T=u&&u.allowDataOverflow,N=d&&d.allowDataOverflow,A=T||N,_=Ie(m)?this.id:m,S=(r=Me(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=S.r,O=k===void 0?3:k,P=S.strokeWidth,R=P===void 0?2:P,C=QQ(a)?a:{},V=C.clipDot,U=V===void 0?!0:V,$=O*2+R;return B.createElement(Dt,{className:b},T||N?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(_)},B.createElement("rect",{x:T?p:p-v/2,y:N?f:f-g/2,width:T?v:v*2,height:N?g:g*2})),!U&&B.createElement("clipPath",{id:"clipPath-dots-".concat(_)},B.createElement("rect",{x:p-$/2,y:f-$/2,width:v+$,height:g+$}))):null,!w&&this.renderCurve(A,_),this.renderErrorBar(A,_),(w||a)&&this.renderDots(A,U,_),(!y||x)&&la.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(Go(r),[0]):r,a=[],l=0;l<i;++l)a=[].concat(Go(a),Go(s));return a}},{key:"renderDotItem",value:function(r,i){var s;if(B.isValidElement(r))s=B.cloneElement(r,i);else if(ke(r))s=r(i);else{var a=i.key,l=bP(i,Txe),c=ze("recharts-line-dot",typeof r!="boolean"?r.className:"");s=B.createElement(Lj,Zu({key:a},l,{className:c}))}return s}}])}(E.PureComponent);Qr(qf,"displayName","Line");Qr(qf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Mc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Qr(qf,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,a=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,f=c.map(function(p,v){var g=yr(p,a);return d==="horizontal"?{x:nk({axis:n,ticks:i,bandSize:l,entry:p,index:v}),y:Ie(g)?null:r.scale(g),value:g,payload:p}:{x:Ie(g)?null:n.scale(g),y:nk({axis:r,ticks:s,bandSize:l,entry:p,index:v}),value:g,payload:p}});return sr({points:f,layout:d},u)});function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}function Uxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uM(r.key),r)}}function Vxe(t,e,n){return e&&Bxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zxe(t,e,n){return e=ag(e),qxe(t,lM()?Reflect.construct(e,n||[],ag(t).constructor):e.apply(t,n))}function qxe(t,e){if(e&&(pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wxe(t)}function Wxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lM=function(){return!!t})()}function ag(t){return ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ag(t)}function Hxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vw(t,e)}function vw(t,e){return vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vw(t,e)}function cM(t,e,n){return e=uM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uM(t){var e=Kxe(t,"string");return pc(e)=="symbol"?e:e+""}function Kxe(t,e){if(pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function xw(){return xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xw.apply(this,arguments)}function Gxe(t){var e=t.xAxisId,n=Uj(),r=Bj(),i=KL(e);return i==null?null:E.createElement(Bc,xw({},i,{className:ze("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Ji(a,!0)}}))}var W0=function(t){function e(){return Uxe(this,e),zxe(this,e,arguments)}return Hxe(e,t),Vxe(e,[{key:"render",value:function(){return E.createElement(Gxe,this.props)}}])}(E.Component);cM(W0,"displayName","XAxis");cM(W0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function mc(t){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}function Xxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hM(r.key),r)}}function Qxe(t,e,n){return e&&Yxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jxe(t,e,n){return e=og(e),Zxe(t,dM()?Reflect.construct(e,n||[],og(t).constructor):e.apply(t,n))}function Zxe(t,e){if(e&&(mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ebe(t)}function ebe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dM=function(){return!!t})()}function og(t){return og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},og(t)}function tbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bw(t,e)}function bw(t,e){return bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bw(t,e)}function fM(t,e,n){return e=hM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hM(t){var e=nbe(t,"string");return mc(e)=="symbol"?e:e+""}function nbe(t,e){if(mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ww(){return ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ww.apply(this,arguments)}var rbe=function(e){var n=e.yAxisId,r=Uj(),i=Bj(),s=GL(n);return s==null?null:E.createElement(Bc,ww({},s,{className:ze("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return Ji(l,!0)}}))},H0=function(t){function e(){return Xxe(this,e),Jxe(this,e,arguments)}return tbe(e,t),Qxe(e,[{key:"render",value:function(){return E.createElement(rbe,this.props)}}])}(E.Component);fM(H0,"displayName","YAxis");fM(H0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function jP(t){return obe(t)||abe(t)||sbe(t)||ibe()}function ibe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sbe(t,e){if(t){if(typeof t=="string")return _w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _w(t,e)}}function abe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function obe(t){if(Array.isArray(t))return _w(t)}function _w(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var jw=function(e,n,r,i,s){var a=Ir(e,zj),l=Ir(e,V0),c=[].concat(jP(a),jP(l)),u=Ir(e,q0),d="".concat(i,"Id"),f=i[0],p=n;if(c.length&&(p=c.reduce(function(y,m){if(m.props[d]===r&&Ii(m.props,"extendDomain")&&ae(m.props[f])){var x=m.props[f];return[Math.min(y[0],x),Math.max(y[1],x)]}return y},p)),u.length){var v="".concat(f,"1"),g="".concat(f,"2");p=u.reduce(function(y,m){if(m.props[d]===r&&Ii(m.props,"extendDomain")&&ae(m.props[v])&&ae(m.props[g])){var x=m.props[v],w=m.props[g];return[Math.min(y[0],x,w),Math.max(y[1],x,w)]}return y},p)}return s&&s.length&&(p=s.reduce(function(y,m){return ae(m)?[Math.min(y[0],m),Math.max(y[1],m)]:y},p)),p},pM={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var v=new i(d,f||c,p),g=n?n+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],v]:c._events[g].push(v):(c._events[g]=v,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,v=f.length,g=new Array(v);p<v;p++)g[p]=f[p].fn;return g},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,p,v,g){var y=n?n+u:u;if(!this._events[y])return!1;var m=this._events[y],x=arguments.length,w,b;if(m.fn){switch(m.once&&this.removeListener(u,m.fn,void 0,!0),x){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,d),!0;case 3:return m.fn.call(m.context,d,f),!0;case 4:return m.fn.call(m.context,d,f,p),!0;case 5:return m.fn.call(m.context,d,f,p,v),!0;case 6:return m.fn.call(m.context,d,f,p,v,g),!0}for(b=1,w=new Array(x-1);b<x;b++)w[b-1]=arguments[b];m.fn.apply(m.context,w)}else{var T=m.length,N;for(b=0;b<T;b++)switch(m[b].once&&this.removeListener(u,m[b].fn,void 0,!0),x){case 1:m[b].fn.call(m[b].context);break;case 2:m[b].fn.call(m[b].context,d);break;case 3:m[b].fn.call(m[b].context,d,f);break;case 4:m[b].fn.call(m[b].context,d,f,p);break;default:if(!w)for(N=1,w=new Array(x-1);N<x;N++)w[N-1]=arguments[N];m[b].fn.apply(m[b].context,w)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,p){var v=n?n+u:u;if(!this._events[v])return this;if(!d)return a(this,v),this;var g=this._events[v];if(g.fn)g.fn===d&&(!p||g.once)&&(!f||g.context===f)&&a(this,v);else{for(var y=0,m=[],x=g.length;y<x;y++)(g[y].fn!==d||p&&!g[y].once||f&&g[y].context!==f)&&m.push(g[y]);m.length?this._events[v]=m.length===1?m[0]:m:a(this,v)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(pM);var lbe=pM.exports;const cbe=st(lbe);var wv=new cbe,_v="recharts.syncMouseEvents";function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function ube(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dbe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mM(r.key),r)}}function fbe(t,e,n){return e&&dbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jv(t,e,n){return e=mM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mM(t){var e=hbe(t,"string");return df(e)=="symbol"?e:e+""}function hbe(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pbe=function(){function t(){ube(this,t),jv(this,"activeIndex",0),jv(this,"coordinateList",[]),jv(this,"layout","horizontal")}return fbe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,a=n.container,l=a===void 0?null:a,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,p=n.mouseHandlerCallback,v=p===void 0?null:p;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=s+c+u,p=a+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function mbe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ae(r)&&ae(i))return!0}return!1}function gbe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function gM(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,a=mn(e,n,r,i),l=mn(e,n,r,s);return{points:[a,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function ybe(t,e,n){var r,i,s,a;if(t==="horizontal")r=e.x,s=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,p=mn(l,c,u,f),v=mn(l,c,d,f);r=p.x,i=p.y,s=v.x,a=v.y}else return gM(e);return[{x:r,y:i},{x:s,y:a}]}function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function SP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(n),!0).forEach(function(r){vbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vbe(t,e,n){return e=xbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xbe(t){var e=bbe(t,"string");return ff(e)=="symbol"?e:e+""}function bbe(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wbe(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,a=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,p=t.chartName,v=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!v||!s||!a||p!=="ScatterChart"&&i!=="axis")return null;var g,y=Gb;if(p==="ScatterChart")g=a,y=bge;else if(p==="BarChart")g=gbe(f,a,c,d),y=Dj;else if(f==="radial"){var m=gM(a),x=m.cx,w=m.cy,b=m.radius,T=m.startAngle,N=m.endAngle;g={cx:x,cy:w,startAngle:T,endAngle:N,innerRadius:b,outerRadius:b},y=xL}else g={points:ybe(f,a,c)},y=Gb;var A=Vh(Vh(Vh(Vh({stroke:"#ccc",pointerEvents:"none"},c),g),Me(v,!1)),{},{payload:l,payloadIndex:u,className:ze("recharts-tooltip-cursor",v.className)});return E.isValidElement(v)?E.cloneElement(v,A):E.createElement(y,A)}var _be=["item"],jbe=["children","className","width","height","style","compact","title","desc"];function gc(t){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}function fl(){return fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fl.apply(this,arguments)}function EP(t,e){return Nbe(t)||Ebe(t,e)||vM(t,e)||Sbe()}function Sbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ebe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function Nbe(t){if(Array.isArray(t))return t}function NP(t,e){if(t==null)return{};var n=Tbe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Abe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kbe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xM(r.key),r)}}function Pbe(t,e,n){return e&&kbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ibe(t,e,n){return e=lg(e),Cbe(t,yM()?Reflect.construct(e,n||[],lg(t).constructor):e.apply(t,n))}function Cbe(t,e){if(e&&(gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Obe(t)}function Obe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yM=function(){return!!t})()}function lg(t){return lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lg(t)}function Rbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sw(t,e)}function Sw(t,e){return Sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sw(t,e)}function yc(t){return Mbe(t)||Lbe(t)||vM(t)||Dbe()}function Dbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vM(t,e){if(t){if(typeof t=="string")return Ew(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ew(t,e)}}function Lbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mbe(t){if(Array.isArray(t))return Ew(t)}function Ew(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TP(Object(n),!0).forEach(function(r){we(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function we(t,e,n){return e=xM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xM(t){var e=$be(t,"string");return gc(e)=="symbol"?e:e+""}function $be(t,e){if(gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fbe={xAxis:["bottom","top"],yAxis:["left","right"]},Ube={width:"100%",height:"100%"},bM={x:0,y:0};function zh(t){return t}var Bbe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Vbe=function(e,n,r,i){var s=n.find(function(d){return d&&d.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,l=i.radius;return Q(Q(Q({},i),mn(i.cx,i.cy,l,a)),{},{angle:a,radius:l})}var c=s.coordinate,u=i.angle;return Q(Q(Q({},i),mn(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return bM},K0=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,a=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(yc(l),yc(u)):l},[]);return a.length>0?a:e&&e.length&&ae(i)&&ae(s)?e.slice(i,s+1):[]};function wM(t){return t==="number"?[0,"auto"]:void 0}var Nw=function(e,n,r,i){var s=e.graphicalItems,a=e.tooltipAxis,l=K0(n,e);return r<0||!s||!s.length||r>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(a.dataKey&&!a.allowDuplicatedCategory){var v=f===void 0?l:f;p=um(v,a.dataKey,i)}else p=f&&f[r]||l[r];return p?[].concat(yc(c),[gL(u,p)]):c},[])},AP=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},a=Bbe(s,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=the(a,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,p=Nw(e,n,d,f),v=Vbe(r,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:p,activeCoordinate:v}}return null},zbe=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,a=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,p=e.stackOffset,v=hL(d,s);return r.reduce(function(g,y){var m,x=y.type.defaultProps!==void 0?Q(Q({},y.type.defaultProps),y.props):y.props,w=x.type,b=x.dataKey,T=x.allowDataOverflow,N=x.allowDuplicatedCategory,A=x.scale,_=x.ticks,S=x.includeHidden,k=x[a];if(g[k])return g;var O=K0(e.data,{graphicalItems:i.filter(function(Y){var z,oe=a in Y.props?Y.props[a]:(z=Y.type.defaultProps)===null||z===void 0?void 0:z[a];return oe===k}),dataStartIndex:c,dataEndIndex:u}),P=O.length,R,C,V;mbe(x.domain,T,w)&&(R=zb(x.domain,null,T),v&&(w==="number"||A!=="auto")&&(V=Qu(O,b,"category")));var U=wM(w);if(!R||R.length===0){var $,M=($=x.domain)!==null&&$!==void 0?$:U;if(b){if(R=Qu(O,b,w),w==="category"&&v){var L=BQ(R);N&&L?(C=R,R=Xm(0,P)):N||(R=ak(M,R,y).reduce(function(Y,z){return Y.indexOf(z)>=0?Y:[].concat(yc(Y),[z])},[]))}else if(w==="category")N?R=R.filter(function(Y){return Y!==""&&!Ie(Y)}):R=ak(M,R,y).reduce(function(Y,z){return Y.indexOf(z)>=0||z===""||Ie(z)?Y:[].concat(yc(Y),[z])},[]);else if(w==="number"){var F=ahe(O,i.filter(function(Y){var z,oe,je=a in Y.props?Y.props[a]:(z=Y.type.defaultProps)===null||z===void 0?void 0:z[a],Pe="hide"in Y.props?Y.props.hide:(oe=Y.type.defaultProps)===null||oe===void 0?void 0:oe.hide;return je===k&&(S||!Pe)}),b,s,d);F&&(R=F)}v&&(w==="number"||A!=="auto")&&(V=Qu(O,b,"category"))}else v?R=Xm(0,P):l&&l[k]&&l[k].hasStack&&w==="number"?R=p==="expand"?[0,1]:mL(l[k].stackGroups,c,u):R=fL(O,i.filter(function(Y){var z=a in Y.props?Y.props[a]:Y.type.defaultProps[a],oe="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return z===k&&(S||!oe)}),w,d,!0);if(w==="number")R=jw(f,R,k,s,_),M&&(R=zb(M,R,T));else if(w==="category"&&M){var W=M,K=R.every(function(Y){return W.indexOf(Y)>=0});K&&(R=W)}}return Q(Q({},g),{},we({},k,Q(Q({},x),{},{axisType:s,domain:R,categoricalDomain:V,duplicateDomain:C,originalDomain:(m=x.domain)!==null&&m!==void 0?m:U,isCategorical:v,layout:d})))},{})},qbe=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,a=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,p=K0(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),v=p.length,g=hL(d,s),y=-1;return r.reduce(function(m,x){var w=x.type.defaultProps!==void 0?Q(Q({},x.type.defaultProps),x.props):x.props,b=w[a],T=wM("number");if(!m[b]){y++;var N;return g?N=Xm(0,v):l&&l[b]&&l[b].hasStack?(N=mL(l[b].stackGroups,c,u),N=jw(f,N,b,s)):(N=zb(T,fL(p,r.filter(function(A){var _,S,k=a in A.props?A.props[a]:(_=A.type.defaultProps)===null||_===void 0?void 0:_[a],O="hide"in A.props?A.props.hide:(S=A.type.defaultProps)===null||S===void 0?void 0:S.hide;return k===b&&!O}),"number",d),i.defaultProps.allowDataOverflow),N=jw(f,N,b,s)),Q(Q({},m),{},we({},b,Q(Q({axisType:s},i.defaultProps),{},{hide:!0,orientation:Pr(Fbe,"".concat(s,".").concat(y%2),null),domain:N,originalDomain:T,isCategorical:g,layout:d})))}return m},{})},Wbe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,a=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),p=Ir(d,s),v={};return p&&p.length?v=zbe(e,{axes:p,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):a&&a.length&&(v=qbe(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),v},Hbe=function(e){var n=Us(e),r=Ji(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:lj(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Um(n,r)}},kP=function(e){var n=e.children,r=e.defaultShowTooltip,i=lr(n,oc),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Kbe=function(e){return!e||!e.length?!1:e.some(function(n){var r=ts(n&&n.type);return r&&r.indexOf("Bar")>=0})},PP=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Gbe=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,f=r.children,p=r.margin||{},v=lr(f,oc),g=lr(f,Al),y=Object.keys(c).reduce(function(N,A){var _=c[A],S=_.orientation;return!_.mirror&&!_.hide?Q(Q({},N),{},we({},S,N[S]+_.width)):N},{left:p.left||0,right:p.right||0}),m=Object.keys(a).reduce(function(N,A){var _=a[A],S=_.orientation;return!_.mirror&&!_.hide?Q(Q({},N),{},we({},S,Pr(N,"".concat(S))+_.height)):N},{top:p.top||0,bottom:p.bottom||0}),x=Q(Q({},m),y),w=x.bottom;v&&(x.bottom+=v.props.height||oc.defaultProps.height),g&&n&&(x=ihe(x,i,r,n));var b=u-x.left-x.right,T=d-x.top-x.bottom;return Q(Q({brushBottom:w},x),{},{width:Math.max(b,0),height:Math.max(T,0)})},Xbe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Ybe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,l=a===void 0?["axis"]:a,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,p=function(x,w){var b=w.graphicalItems,T=w.stackGroups,N=w.offset,A=w.updateId,_=w.dataStartIndex,S=w.dataEndIndex,k=x.barSize,O=x.layout,P=x.barGap,R=x.barCategoryGap,C=x.maxBarSize,V=PP(O),U=V.numericAxisName,$=V.cateAxisName,M=Kbe(b),L=[];return b.forEach(function(F,W){var K=K0(x.data,{graphicalItems:[F],dataStartIndex:_,dataEndIndex:S}),Y=F.type.defaultProps!==void 0?Q(Q({},F.type.defaultProps),F.props):F.props,z=Y.dataKey,oe=Y.maxBarSize,je=Y["".concat(U,"Id")],Pe=Y["".concat($,"Id")],Oe={},Ye=c.reduce(function(Et,Zt){var H=w["".concat(Zt.axisType,"Map")],me=Y["".concat(Zt.axisType,"Id")];H&&H[me]||Zt.axisType==="zAxis"||_o();var de=H[me];return Q(Q({},Et),{},we(we({},Zt.axisType,de),"".concat(Zt.axisType,"Ticks"),Ji(de)))},Oe),re=Ye[$],ye=Ye["".concat($,"Ticks")],ve=T&&T[je]&&T[je].hasStack&&vhe(F,T[je].stackGroups),J=ts(F.type).indexOf("Bar")>=0,Ue=Um(re,ye),Te=[],nt=M&&nhe({barSize:k,stackGroups:T,totalSize:Xbe(Ye,$)});if(J){var at,ie,ge=Ie(oe)?C:oe,De=(at=(ie=Um(re,ye,!0))!==null&&ie!==void 0?ie:ge)!==null&&at!==void 0?at:0;Te=rhe({barGap:P,barCategoryGap:R,bandSize:De!==Ue?De:Ue,sizeList:nt[Pe],maxBarSize:ge}),De!==Ue&&(Te=Te.map(function(Et){return Q(Q({},Et),{},{position:Q(Q({},Et.position),{},{offset:Et.position.offset-De/2})})}))}var gt=F&&F.type&&F.type.getComposedData;gt&&L.push({props:Q(Q({},gt(Q(Q({},Ye),{},{displayedData:K,props:x,dataKey:z,item:F,bandSize:Ue,barPosition:Te,offset:N,stackedData:ve,layout:O,dataStartIndex:_,dataEndIndex:S}))),{},we(we(we({key:F.key||"item-".concat(W)},U,Ye[U]),$,Ye[$]),"animationId",A)),childIndex:eJ(F,x.children),item:F})}),L},v=function(x,w){var b=x.props,T=x.dataStartIndex,N=x.dataEndIndex,A=x.updateId;if(!Z2({props:b}))return null;var _=b.children,S=b.layout,k=b.stackOffset,O=b.data,P=b.reverseStackOrder,R=PP(S),C=R.numericAxisName,V=R.cateAxisName,U=Ir(_,r),$=mhe(O,U,"".concat(C,"Id"),"".concat(V,"Id"),k,P),M=c.reduce(function(Y,z){var oe="".concat(z.axisType,"Map");return Q(Q({},Y),{},we({},oe,Wbe(b,Q(Q({},z),{},{graphicalItems:U,stackGroups:z.axisType===C&&$,dataStartIndex:T,dataEndIndex:N}))))},{}),L=Gbe(Q(Q({},M),{},{props:b,graphicalItems:U}),w==null?void 0:w.legendBBox);Object.keys(M).forEach(function(Y){M[Y]=d(b,M[Y],L,Y.replace("Map",""),n)});var F=M["".concat(V,"Map")],W=Hbe(F),K=p(b,Q(Q({},M),{},{dataStartIndex:T,dataEndIndex:N,updateId:A,graphicalItems:U,stackGroups:$,offset:L}));return Q(Q({formattedGraphicalItems:K,graphicalItems:U,offset:L,stackGroups:$},W),M)},g=function(m){function x(w){var b,T,N;return Abe(this,x),N=Ibe(this,x,[w]),we(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),we(N,"accessibilityManager",new pbe),we(N,"handleLegendBBoxUpdate",function(A){if(A){var _=N.state,S=_.dataStartIndex,k=_.dataEndIndex,O=_.updateId;N.setState(Q({legendBBox:A},v({props:N.props,dataStartIndex:S,dataEndIndex:k,updateId:O},Q(Q({},N.state),{},{legendBBox:A}))))}}),we(N,"handleReceiveSyncEvent",function(A,_,S){if(N.props.syncId===A){if(S===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(_)}}),we(N,"handleBrushChange",function(A){var _=A.startIndex,S=A.endIndex;if(_!==N.state.dataStartIndex||S!==N.state.dataEndIndex){var k=N.state.updateId;N.setState(function(){return Q({dataStartIndex:_,dataEndIndex:S},v({props:N.props,dataStartIndex:_,dataEndIndex:S,updateId:k},N.state))}),N.triggerSyncEvent({dataStartIndex:_,dataEndIndex:S})}}),we(N,"handleMouseEnter",function(A){var _=N.getMouseInfo(A);if(_){var S=Q(Q({},_),{},{isTooltipActive:!0});N.setState(S),N.triggerSyncEvent(S);var k=N.props.onMouseEnter;ke(k)&&k(S,A)}}),we(N,"triggeredAfterMouseMove",function(A){var _=N.getMouseInfo(A),S=_?Q(Q({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(S),N.triggerSyncEvent(S);var k=N.props.onMouseMove;ke(k)&&k(S,A)}),we(N,"handleItemMouseEnter",function(A){N.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),we(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),we(N,"handleMouseMove",function(A){A.persist(),N.throttleTriggeredAfterMouseMove(A)}),we(N,"handleMouseLeave",function(A){N.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};N.setState(_),N.triggerSyncEvent(_);var S=N.props.onMouseLeave;ke(S)&&S(_,A)}),we(N,"handleOuterEvent",function(A){var _=ZQ(A),S=Pr(N.props,"".concat(_));if(_&&ke(S)){var k,O;/.*touch.*/i.test(_)?O=N.getMouseInfo(A.changedTouches[0]):O=N.getMouseInfo(A),S((k=O)!==null&&k!==void 0?k:{},A)}}),we(N,"handleClick",function(A){var _=N.getMouseInfo(A);if(_){var S=Q(Q({},_),{},{isTooltipActive:!0});N.setState(S),N.triggerSyncEvent(S);var k=N.props.onClick;ke(k)&&k(S,A)}}),we(N,"handleMouseDown",function(A){var _=N.props.onMouseDown;if(ke(_)){var S=N.getMouseInfo(A);_(S,A)}}),we(N,"handleMouseUp",function(A){var _=N.props.onMouseUp;if(ke(_)){var S=N.getMouseInfo(A);_(S,A)}}),we(N,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),we(N,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&N.handleMouseDown(A.changedTouches[0])}),we(N,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&N.handleMouseUp(A.changedTouches[0])}),we(N,"handleDoubleClick",function(A){var _=N.props.onDoubleClick;if(ke(_)){var S=N.getMouseInfo(A);_(S,A)}}),we(N,"handleContextMenu",function(A){var _=N.props.onContextMenu;if(ke(_)){var S=N.getMouseInfo(A);_(S,A)}}),we(N,"triggerSyncEvent",function(A){N.props.syncId!==void 0&&wv.emit(_v,N.props.syncId,A,N.eventEmitterSymbol)}),we(N,"applySyncEvent",function(A){var _=N.props,S=_.layout,k=_.syncMethod,O=N.state.updateId,P=A.dataStartIndex,R=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)N.setState(Q({dataStartIndex:P,dataEndIndex:R},v({props:N.props,dataStartIndex:P,dataEndIndex:R,updateId:O},N.state)));else if(A.activeTooltipIndex!==void 0){var C=A.chartX,V=A.chartY,U=A.activeTooltipIndex,$=N.state,M=$.offset,L=$.tooltipTicks;if(!M)return;if(typeof k=="function")U=k(L,A);else if(k==="value"){U=-1;for(var F=0;F<L.length;F++)if(L[F].value===A.activeLabel){U=F;break}}var W=Q(Q({},M),{},{x:M.left,y:M.top}),K=Math.min(C,W.x+W.width),Y=Math.min(V,W.y+W.height),z=L[U]&&L[U].value,oe=Nw(N.state,N.props.data,U),je=L[U]?{x:S==="horizontal"?L[U].coordinate:K,y:S==="horizontal"?Y:L[U].coordinate}:bM;N.setState(Q(Q({},A),{},{activeLabel:z,activeCoordinate:je,activePayload:oe,activeTooltipIndex:U}))}else N.setState(A)}),we(N,"renderCursor",function(A){var _,S=N.state,k=S.isTooltipActive,O=S.activeCoordinate,P=S.activePayload,R=S.offset,C=S.activeTooltipIndex,V=S.tooltipAxisBandSize,U=N.getTooltipEventType(),$=(_=A.props.active)!==null&&_!==void 0?_:k,M=N.props.layout,L=A.key||"_recharts-cursor";return B.createElement(wbe,{key:L,activeCoordinate:O,activePayload:P,activeTooltipIndex:C,chartName:n,element:A,isActive:$,layout:M,offset:R,tooltipAxisBandSize:V,tooltipEventType:U})}),we(N,"renderPolarAxis",function(A,_,S){var k=Pr(A,"type.axisType"),O=Pr(N.state,"".concat(k,"Map")),P=A.type.defaultProps,R=P!==void 0?Q(Q({},P),A.props):A.props,C=O&&O[R["".concat(k,"Id")]];return E.cloneElement(A,Q(Q({},C),{},{className:ze(k,C.className),key:A.key||"".concat(_,"-").concat(S),ticks:Ji(C,!0)}))}),we(N,"renderPolarGrid",function(A){var _=A.props,S=_.radialLines,k=_.polarAngles,O=_.polarRadius,P=N.state,R=P.radiusAxisMap,C=P.angleAxisMap,V=Us(R),U=Us(C),$=U.cx,M=U.cy,L=U.innerRadius,F=U.outerRadius;return E.cloneElement(A,{polarAngles:Array.isArray(k)?k:Ji(U,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray(O)?O:Ji(V,!0).map(function(W){return W.coordinate}),cx:$,cy:M,innerRadius:L,outerRadius:F,key:A.key||"polar-grid",radialLines:S})}),we(N,"renderLegend",function(){var A=N.state.formattedGraphicalItems,_=N.props,S=_.children,k=_.width,O=_.height,P=N.props.margin||{},R=k-(P.left||0)-(P.right||0),C=uL({children:S,formattedGraphicalItems:A,legendWidth:R,legendContent:u});if(!C)return null;var V=C.item,U=NP(C,_be);return E.cloneElement(V,Q(Q({},U),{},{chartWidth:k,chartHeight:O,margin:P,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),we(N,"renderTooltip",function(){var A,_=N.props,S=_.children,k=_.accessibilityLayer,O=lr(S,yi);if(!O)return null;var P=N.state,R=P.isTooltipActive,C=P.activeCoordinate,V=P.activePayload,U=P.activeLabel,$=P.offset,M=(A=O.props.active)!==null&&A!==void 0?A:R;return E.cloneElement(O,{viewBox:Q(Q({},$),{},{x:$.left,y:$.top}),active:M,label:U,payload:M?V:[],coordinate:C,accessibilityLayer:k})}),we(N,"renderBrush",function(A){var _=N.props,S=_.margin,k=_.data,O=N.state,P=O.offset,R=O.dataStartIndex,C=O.dataEndIndex,V=O.updateId;return E.cloneElement(A,{key:A.key||"_recharts-brush",onChange:$h(N.handleBrushChange,A.props.onChange),data:k,x:ae(A.props.x)?A.props.x:P.left,y:ae(A.props.y)?A.props.y:P.top+P.height+P.brushBottom-(S.bottom||0),width:ae(A.props.width)?A.props.width:P.width,startIndex:R,endIndex:C,updateId:"brush-".concat(V)})}),we(N,"renderReferenceElement",function(A,_,S){if(!A)return null;var k=N,O=k.clipPathId,P=N.state,R=P.xAxisMap,C=P.yAxisMap,V=P.offset,U=A.type.defaultProps||{},$=A.props,M=$.xAxisId,L=M===void 0?U.xAxisId:M,F=$.yAxisId,W=F===void 0?U.yAxisId:F;return E.cloneElement(A,{key:A.key||"".concat(_,"-").concat(S),xAxis:R[L],yAxis:C[W],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:O})}),we(N,"renderActivePoints",function(A){var _=A.item,S=A.activePoint,k=A.basePoint,O=A.childIndex,P=A.isRange,R=[],C=_.props.key,V=_.item.type.defaultProps!==void 0?Q(Q({},_.item.type.defaultProps),_.item.props):_.item.props,U=V.activeDot,$=V.dataKey,M=Q(Q({index:O,dataKey:$,cx:S.x,cy:S.y,r:4,fill:Rj(_.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},Me(U,!1)),dm(U));return R.push(x.renderActiveDot(U,M,"".concat(C,"-activePoint-").concat(O))),k?R.push(x.renderActiveDot(U,Q(Q({},M),{},{cx:k.x,cy:k.y}),"".concat(C,"-basePoint-").concat(O))):P&&R.push(null),R}),we(N,"renderGraphicChild",function(A,_,S){var k=N.filterFormatItem(A,_,S);if(!k)return null;var O=N.getTooltipEventType(),P=N.state,R=P.isTooltipActive,C=P.tooltipAxis,V=P.activeTooltipIndex,U=P.activeLabel,$=N.props.children,M=lr($,yi),L=k.props,F=L.points,W=L.isRange,K=L.baseLine,Y=k.item.type.defaultProps!==void 0?Q(Q({},k.item.type.defaultProps),k.item.props):k.item.props,z=Y.activeDot,oe=Y.hide,je=Y.activeBar,Pe=Y.activeShape,Oe=!!(!oe&&R&&M&&(z||je||Pe)),Ye={};O!=="axis"&&M&&M.props.trigger==="click"?Ye={onClick:$h(N.handleItemMouseEnter,A.props.onClick)}:O!=="axis"&&(Ye={onMouseLeave:$h(N.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:$h(N.handleItemMouseEnter,A.props.onMouseEnter)});var re=E.cloneElement(A,Q(Q({},k.props),Ye));function ye(Zt){return typeof C.dataKey=="function"?C.dataKey(Zt.payload):null}if(Oe)if(V>=0){var ve,J;if(C.dataKey&&!C.allowDuplicatedCategory){var Ue=typeof C.dataKey=="function"?ye:"payload.".concat(C.dataKey.toString());ve=um(F,Ue,U),J=W&&K&&um(K,Ue,U)}else ve=F==null?void 0:F[V],J=W&&K&&K[V];if(Pe||je){var Te=A.props.activeIndex!==void 0?A.props.activeIndex:V;return[E.cloneElement(A,Q(Q(Q({},k.props),Ye),{},{activeIndex:Te})),null,null]}if(!Ie(ve))return[re].concat(yc(N.renderActivePoints({item:k,activePoint:ve,basePoint:J,childIndex:V,isRange:W})))}else{var nt,at=(nt=N.getItemByXY(N.state.activeCoordinate))!==null&&nt!==void 0?nt:{graphicalItem:re},ie=at.graphicalItem,ge=ie.item,De=ge===void 0?A:ge,gt=ie.childIndex,Et=Q(Q(Q({},k.props),Ye),{},{activeIndex:gt});return[E.cloneElement(De,Et),null,null]}return W?[re,null,null]:[re,null]}),we(N,"renderCustomized",function(A,_,S){return E.cloneElement(A,Q(Q({key:"recharts-customized-".concat(S)},N.props),N.state))}),we(N,"renderMap",{CartesianGrid:{handler:zh,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:zh},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:zh},YAxis:{handler:zh},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((b=w.id)!==null&&b!==void 0?b:Lf("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=cD(N.triggeredAfterMouseMove,(T=w.throttleDelay)!==null&&T!==void 0?T:1e3/60),N.state={},N}return Rbe(x,m),Pbe(x,[{key:"componentDidMount",value:function(){var b,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,T=b.children,N=b.data,A=b.height,_=b.layout,S=lr(T,yi);if(S){var k=S.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,P=Nw(this.state,N,k,O),R=this.state.tooltipTicks[k].coordinate,C=(this.state.offset.top+A)/2,V=_==="horizontal",U=V?{x:R,y:C}:{y:R,x:C},$=this.state.formattedGraphicalItems.find(function(L){var F=L.item;return F.type.name==="Scatter"});$&&(U=Q(Q({},U),$.props.points[k].tooltipPosition),P=$.props.points[k].tooltipPayload);var M={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:O,activePayload:P,activeCoordinate:U};this.setState(M),this.renderCursor(S),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var N,A;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(b){ib([lr(b.children,yi)],[lr(this.props.children,yi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=lr(this.props.children,yi);if(b&&typeof b.props.shared=="boolean"){var T=b.props.shared?"axis":"item";return l.indexOf(T)>=0?T:s}return s}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var T=this.container,N=T.getBoundingClientRect(),A=Tle(N),_={chartX:Math.round(b.pageX-A.left),chartY:Math.round(b.pageY-A.top)},S=N.width/T.offsetWidth||1,k=this.inRange(_.chartX,_.chartY,S);if(!k)return null;var O=this.state,P=O.xAxisMap,R=O.yAxisMap,C=this.getTooltipEventType(),V=AP(this.state,this.props.data,this.props.layout,k);if(C!=="axis"&&P&&R){var U=Us(P).scale,$=Us(R).scale,M=U&&U.invert?U.invert(_.chartX):null,L=$&&$.invert?$.invert(_.chartY):null;return Q(Q({},_),{},{xValue:M,yValue:L},V)}return V?Q(Q({},_),V):null}},{key:"inRange",value:function(b,T){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,_=b/N,S=T/N;if(A==="horizontal"||A==="vertical"){var k=this.state.offset,O=_>=k.left&&_<=k.left+k.width&&S>=k.top&&S<=k.top+k.height;return O?{x:_,y:S}:null}var P=this.state,R=P.angleAxisMap,C=P.radiusAxisMap;if(R&&C){var V=Us(R);return ck({x:_,y:S},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,T=this.getTooltipEventType(),N=lr(b,yi),A={};N&&T==="axis"&&(N.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=dm(this.props,this.handleOuterEvent);return Q(Q({},_),A)}},{key:"addListener",value:function(){wv.on(_v,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){wv.removeListener(_v,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,T,N){for(var A=this.state.formattedGraphicalItems,_=0,S=A.length;_<S;_++){var k=A[_];if(k.item===b||k.props.key===b.key||T===ts(k.item.type)&&N===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,T=this.state.offset,N=T.left,A=T.top,_=T.height,S=T.width;return B.createElement("defs",null,B.createElement("clipPath",{id:b},B.createElement("rect",{x:N,y:A,height:_,width:S})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(T,N){var A=EP(N,2),_=A[0],S=A[1];return Q(Q({},T),{},we({},_,S.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(T,N){var A=EP(N,2),_=A[0],S=A[1];return Q(Q({},T),{},we({},_,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[b])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(b){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[b])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(b){var T=this.state,N=T.formattedGraphicalItems,A=T.activeItem;if(N&&N.length)for(var _=0,S=N.length;_<S;_++){var k=N[_],O=k.props,P=k.item,R=P.type.defaultProps!==void 0?Q(Q({},P.type.defaultProps),P.props):P.props,C=ts(P.type);if(C==="Bar"){var V=(O.data||[]).find(function(L){return uge(b,L)});if(V)return{graphicalItem:k,payload:V}}else if(C==="RadialBar"){var U=(O.data||[]).find(function(L){return ck(b,L)});if(U)return{graphicalItem:k,payload:U}}else if($0(k,A)||F0(k,A)||af(k,A)){var $=h0e({graphicalItem:k,activeTooltipItem:A,itemData:R.data}),M=R.activeIndex===void 0?$:R.activeIndex;return{graphicalItem:Q(Q({},k),{},{childIndex:M}),payload:af(k,A)?R.data[$]:k.props.data[$]}}}return null}},{key:"render",value:function(){var b=this;if(!Z2(this))return null;var T=this.props,N=T.children,A=T.className,_=T.width,S=T.height,k=T.style,O=T.compact,P=T.title,R=T.desc,C=NP(T,jbe),V=Me(C,!1);if(O)return B.createElement(oP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement(ab,fl({},V,{width:_,height:S,title:P,desc:R}),this.renderClipPath(),tT(N,this.renderMap)));if(this.props.accessibilityLayer){var U,$;V.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,V.role=($=this.props.role)!==null&&$!==void 0?$:"application",V.onKeyDown=function(L){b.accessibilityManager.keyboardEvent(L)},V.onFocus=function(){b.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return B.createElement(oP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement("div",fl({className:ze("recharts-wrapper",A),style:Q({position:"relative",cursor:"default",width:_,height:S},k)},M,{ref:function(F){b.container=F}}),B.createElement(ab,fl({},V,{width:_,height:S,title:P,desc:R,style:Ube}),this.renderClipPath(),tT(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(E.Component);we(g,"displayName",n),we(g,"defaultProps",Q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),we(g,"getDerivedStateFromProps",function(m,x){var w=m.dataKey,b=m.data,T=m.children,N=m.width,A=m.height,_=m.layout,S=m.stackOffset,k=m.margin,O=x.dataStartIndex,P=x.dataEndIndex;if(x.updateId===void 0){var R=kP(m);return Q(Q(Q({},R),{},{updateId:0},v(Q(Q({props:m},R),{},{updateId:0}),x)),{},{prevDataKey:w,prevData:b,prevWidth:N,prevHeight:A,prevLayout:_,prevStackOffset:S,prevMargin:k,prevChildren:T})}if(w!==x.prevDataKey||b!==x.prevData||N!==x.prevWidth||A!==x.prevHeight||_!==x.prevLayout||S!==x.prevStackOffset||!Tl(k,x.prevMargin)){var C=kP(m),V={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},U=Q(Q({},AP(x,b,_)),{},{updateId:x.updateId+1}),$=Q(Q(Q({},C),V),U);return Q(Q(Q({},$),v(Q({props:m},$),x)),{},{prevDataKey:w,prevData:b,prevWidth:N,prevHeight:A,prevLayout:_,prevStackOffset:S,prevMargin:k,prevChildren:T})}if(!ib(T,x.prevChildren)){var M,L,F,W,K=lr(T,oc),Y=K&&(M=(L=K.props)===null||L===void 0?void 0:L.startIndex)!==null&&M!==void 0?M:O,z=K&&(F=(W=K.props)===null||W===void 0?void 0:W.endIndex)!==null&&F!==void 0?F:P,oe=Y!==O||z!==P,je=!Ie(b),Pe=je&&!oe?x.updateId:x.updateId+1;return Q(Q({updateId:Pe},v(Q(Q({props:m},x),{},{updateId:Pe,dataStartIndex:Y,dataEndIndex:z}),x)),{},{prevChildren:T,dataStartIndex:Y,dataEndIndex:z})}return null}),we(g,"renderActiveDot",function(m,x,w){var b;return E.isValidElement(m)?b=E.cloneElement(m,x):ke(m)?b=m(x):b=B.createElement(Lj,x),B.createElement(Dt,{className:"recharts-active-dot",key:w},b)});var y=E.forwardRef(function(x,w){return B.createElement(g,fl({},x,{ref:w}))});return y.displayName=g.displayName,y},Qbe=Ybe({chartName:"LineChart",GraphicalChild:qf,axisComponents:[{axisType:"xAxis",AxisComp:W0},{axisType:"yAxis",AxisComp:H0}],formatAxisMap:$ye});function Jbe(){const{user:t}=$e(),[e,n]=E.useState([]),[r,i]=E.useState(0),[s,a]=E.useState(0),[l,c]=E.useState(0),[u,d]=E.useState(0),[f,p]=E.useState(!1),v=E.useCallback(async()=>{var g;if(t){p(!0);try{const m=((g=(await k_.get({uid:t.uid,limit:Math.min(1e3,500)})).data)==null?void 0:g.trades)||[],x=new Date().toISOString().split("T")[0],w=m.filter(_=>(_.timestamp?new Date(_.timestamp).toISOString().split("T")[0]:"")===x).reduce((_,S)=>_+(S.pnl||0),0);i(w);const b=new Date(Date.now()-7*24*60*60*1e3),T=m.filter(_=>(_.timestamp?new Date(_.timestamp):new Date(0))>=b).reduce((_,S)=>_+(S.pnl||0),0);a(T);const N=m.filter(_=>_.pnl!==void 0&&_.pnl!==null);if(N.length>0){const _=N.filter(S=>S.pnl>0).length;c(_/N.length*100)}try{const k=((await A_.getLogs({limit:100})).data||[]).filter(O=>O.action==="EXECUTED"&&O.accuracyUsed);if(k.length>0){const O=k.reduce((P,R)=>P+(R.accuracyUsed||0),0)/k.length;d(O*100)}}catch(_){}const A=Array.from({length:30},(_,S)=>{const O=new Date(Date.now()-(29-S)*24*60*60*1e3).toISOString().split("T")[0],P=m.filter(R=>(R.timestamp?new Date(R.timestamp).toISOString().split("T")[0]:"")===O).reduce((R,C)=>R+(C.pnl||0),0);return{date:O.split("-").slice(1).join("/"),pnl:P}});n(A)}catch{}finally{p(!1)}}},[t]);return E.useEffect(()=>{if(t){v();const g=setInterval(v,6e4);return()=>clearInterval(g)}},[t,v]),f&&e.length===0?o.jsxs("div",{className:"bg-black/30 backdrop-blur-xl border border-purple-500/30 rounded-xl p-4 shadow-lg shadow-purple-500/10",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-cyan-400 bg-clip-text text-transparent mb-4",children:"PnL & Performance"}),o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"text-gray-400",children:"Loading PnL data..."})})]}):o.jsxs("div",{className:"bg-black/30 backdrop-blur-xl border border-purple-500/30 rounded-xl p-4 shadow-lg shadow-purple-500/10 hover:shadow-purple-500/15 transition-all duration-300 overflow-hidden",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-cyan-400 bg-clip-text text-transparent mb-6",children:"PnL & Performance"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-black/40 rounded-xl p-4 border border-purple-500/20",children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Daily PnL"}),o.jsxs("div",{className:`text-2xl font-bold ${r>=0?"text-green-400":"text-red-400"}`,children:["$",r.toFixed(2)]})]}),o.jsxs("div",{className:"bg-black/40 rounded-xl p-4 border border-purple-500/20",children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Weekly PnL"}),o.jsxs("div",{className:`text-2xl font-bold ${s>=0?"text-green-400":"text-red-400"}`,children:["$",s.toFixed(2)]})]}),o.jsxs("div",{className:"bg-black/40 rounded-xl p-4 border border-purple-500/20",children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Win Rate"}),o.jsxs("div",{className:`text-2xl font-bold ${l>=50?"text-green-400":l>=30?"text-yellow-400":"text-red-400"}`,children:[l.toFixed(1),"%"]})]}),o.jsxs("div",{className:"bg-black/40 rounded-xl p-4 border border-purple-500/20",children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Accuracy"}),o.jsxs("div",{className:`text-2xl font-bold ${u>=85?"text-green-400":u>=70?"text-yellow-400":"text-red-400"}`,children:[u.toFixed(1),"%"]})]})]}),o.jsx("div",{className:"h-48",children:e.length>0?o.jsx(ble,{width:"100%",height:"100%",children:o.jsxs(Qbe,{data:e,children:[o.jsx(sM,{strokeDasharray:"3 3",stroke:"#4b5563",opacity:.3}),o.jsx(W0,{dataKey:"date",stroke:"#9ca3af",fontSize:12,tick:{fill:"#9ca3af"}}),o.jsx(H0,{stroke:"#9ca3af",fontSize:12,tick:{fill:"#9ca3af"}}),o.jsx(yi,{contentStyle:{backgroundColor:"#0a0f1c",border:"1px solid #7c3aed",borderRadius:"8px",color:"#e5e7eb",padding:"8px"}}),o.jsx(qf,{type:"monotone",dataKey:"pnl",stroke:"#a855f7",strokeWidth:2,dot:!1,activeDot:{r:4,fill:"#a855f7"}})]})}):o.jsx("div",{className:"flex items-center justify-center h-full text-gray-400 text-sm",children:"No PnL data available yet"})})]})]})}function Zbe({message:t,onClose:e,autoCloseDelay:n=2e3}){return E.useEffect(()=>{const r=setTimeout(()=>{e()},n);return()=>clearTimeout(r)},[e,n]),o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-gradient-to-br from-green-500/20 via-emerald-500/20 to-teal-500/20 backdrop-blur-xl border border-green-400/50 rounded-2xl shadow-2xl max-w-md w-full p-6 animate-fade-in",children:[o.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors p-1 hover:bg-white/10 rounded-lg z-10",children:o.jsx(j_,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500/20 flex items-center justify-center mb-4 border-2 border-green-400/50",children:o.jsx(aa,{className:"w-10 h-10 text-green-400"})}),o.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Success!"}),o.jsx("p",{className:"text-gray-300 text-sm",children:t})]})]})})}const Os={binance:{name:"Binance",requiresPassphrase:!1,description:"World's largest cryptocurrency exchange",LogoComponent:C_,gradient:"from-yellow-500/20 via-orange-500/20 to-red-500/20"},bybit:{name:"Bybit",requiresPassphrase:!1,description:"Leading crypto derivatives exchange",LogoComponent:O_,gradient:"from-blue-500/20 via-cyan-500/20 to-teal-500/20"},kucoin:{name:"KuCoin",requiresPassphrase:!0,description:"Global cryptocurrency exchange",LogoComponent:R_,gradient:"from-green-500/20 via-emerald-500/20 to-teal-500/20"},okx:{name:"OKX",requiresPassphrase:!0,description:"Professional crypto trading platform",LogoComponent:D_,gradient:"from-purple-500/20 via-pink-500/20 to-rose-500/20"},coinbase:{name:"Coinbase",requiresPassphrase:!0,description:"Secure crypto exchange platform",LogoComponent:q5,gradient:"from-indigo-500/20 via-blue-500/20 to-cyan-500/20"},bitget:{name:"Bitget",requiresPassphrase:!0,description:"Leading crypto derivatives exchange",LogoComponent:L_,gradient:"from-orange-500/20 via-red-500/20 to-pink-500/20"},kraken:{name:"Kraken",requiresPassphrase:!1,description:"Secure cryptocurrency exchange",LogoComponent:W5,gradient:"from-blue-500/20 via-indigo-500/20 to-purple-500/20"},gateio:{name:"Gate.io",requiresPassphrase:!1,description:"Global crypto trading platform",LogoComponent:H5,gradient:"from-teal-500/20 via-cyan-500/20 to-blue-500/20"},bingx:{name:"BingX",requiresPassphrase:!1,description:"Social trading platform",LogoComponent:M_,gradient:"from-green-500/20 via-emerald-500/20 to-teal-500/20"},weex:{name:"WEEX",requiresPassphrase:!1,description:"Professional crypto trading platform",LogoComponent:$_,gradient:"from-purple-500/20 via-pink-500/20 to-rose-500/20"}},qh={name:"Custom Exchange",requiresPassphrase:!1,description:"Provide any exchange name and credentials. Passphrase optional.",LogoComponent:Gl,gradient:"from-slate-600/20 via-slate-700/20 to-slate-800/20"},IP={CONNECTED:"bg-green-500/20 text-green-200 border border-green-500/40",VERIFIED:"bg-green-500/20 text-green-200 border border-green-500/40",SAVED:"bg-blue-500/20 text-blue-200 border border-blue-500/40",UNVERIFIED:"bg-yellow-500/20 text-yellow-100 border border-yellow-500/30",CONNECTION_FAILED:"bg-orange-500/20 text-orange-200 border border-orange-500/40",ERROR:"bg-red-500/20 text-red-200 border border-red-500/40",DISABLED:"bg-gray-600/30 text-gray-200 border border-gray-500/50",DEFAULT:"bg-slate-500/20 text-slate-200 border border-slate-500/30"};function Hj(){const{user:t}=$e(),[e,n]=E.useState(null),[r,i]=E.useState(null),[s,a]=E.useState(null),[l,c]=E.useState([]),[u,d]=E.useState(""),[f,p]=E.useState(!1),[v,g]=E.useState(!1),[y,m]=E.useState({apiKey:"",secretKey:"",passphrase:""}),[x,w]=E.useState(!1),[b,T]=E.useState(!1),[N,A]=E.useState(null),[_,S]=E.useState(!1),[k,O]=E.useState(""),[P,R]=E.useState(!1),[C,V]=E.useState("selection"),{showError:U}=kf(),{addNotification:$}=Ac(),M=E.useRef(null),L=E.useMemo(()=>new Set(Object.keys(Os)),[]),F=E.useMemo(()=>l.find(ie=>{if(!ie.enabled)return!1;const ge=(ie.exchangeName||"").toLowerCase();return L.has(ge)}),[l,L]),W=E.useMemo(()=>F!=null&&F.exchangeName?F.exchangeName.toLowerCase():s!=null&&s.exchange?s.exchange.toLowerCase():null,[F,s]);E.useEffect(()=>{t&&K()},[t]),E.useEffect(()=>{const ie=ge=>{M.current&&!M.current.contains(ge.target)&&z()};return P&&(document.addEventListener("mousedown",ie),document.body.style.overflow="hidden"),()=>{document.removeEventListener("mousedown",ie),document.body.style.overflow="unset"}},[P]);const K=async()=>{var ie,ge,De;if(t)try{const[gt,Et]=await Promise.all([ii.fetch(),ii.status().catch(()=>null)]),Zt=(ie=gt.data)==null?void 0:ie.activeExchange,H=((ge=gt.data)==null?void 0:ge.list)||[];if((De=Et==null?void 0:Et.data)!=null&&De.status){const me=Et.data.status;H.forEach(de=>{const le=me[de.id];le&&(le.isConnected?de.status="CONNECTED":le.connectionStatus==="connection_failed"&&(de.status="CONNECTION_FAILED"))})}c(H),Zt?(n(Zt),a({exchange:Zt,testnet:!1,lastTested:new Date().toISOString()})):(n(null),a(null))}catch{n(null),a(null),c([])}},Y=()=>{R(!0),W?(L.has(W)?i(W):(i("custom"),d((s==null?void 0:s.exchange)||"")),V("form")):(V("selection"),i(null)),m({apiKey:"",secretKey:"",passphrase:""}),d(""),p(!1),g(!1)},z=()=>{R(!1),V("selection"),i(null),m({apiKey:"",secretKey:"",passphrase:""}),d(""),p(!1),g(!1)},oe=ie=>{i(ie)},je=()=>{if(r){if(r==="custom"&&!u.trim()){U("Please enter the exchange name before continuing","validation");return}V("form")}},Pe=async()=>{if(!r){U("Please select an exchange first","validation");return}if(r==="custom"){U("Automated validation is not available for custom exchanges yet","validation");return}if(!y.apiKey||!y.secretKey){U("Please enter API key and secret key","validation");return}const ie=Os[r];if(ie.requiresPassphrase&&!y.passphrase){U("Please enter passphrase","validation");return}try{T(!0);const ge=await Z.post("/exchange/test",{exchange:r,apiKey:y.apiKey,secret:y.secretKey,passphrase:ie.requiresPassphrase?y.passphrase:void 0,testnet:!0});ge.data.success?(Ye(`Connection successful: ${ge.data.message}`,"success"),await $({title:"Exchange Connected",message:`${ie.name} connection test successful`,type:"success"})):U(`Connection failed: ${ge.data.message}`,"exchange")}catch(ge){const{message:De,type:gt}=Nl(ge);U(De,gt)}finally{T(!1)}},Oe=async()=>{var Zt,H;if(!t)return;if(!r){U("Please select an exchange","validation");return}const ie=r==="custom",ge=ie?null:r,De=ie?u.trim():r;if(!De){U("Please enter the exchange name","validation");return}if(!y.apiKey){U("API key is required","validation");return}if(!ie&&!y.secretKey){U("Secret key is required for this exchange","validation");return}const Et=ie?f:!!(ge&&((Zt=Os[ge])!=null&&Zt.requiresPassphrase));if(Et&&!y.passphrase){U("Passphrase is required for this exchange","validation");return}try{w(!0);const de=((H=(await ii.submit({exchangeName:De,apiKey:y.apiKey,apiSecret:y.secretKey||void 0,passphrase:y.passphrase||void 0,validate:v,label:ie?De:ge?Os[ge].name:De,metadata:{source:"exchange-accounts-section",custom:ie,requiresPassphrase:Et,validateRequested:v}})).data)==null?void 0:H.status)||"SAVED";O(`Exchange API saved (${de})`),S(!0),Ye(`Exchange credentials saved (${de})`,"success"),await $({title:"Exchange Credentials Updated",message:`${De} credentials saved (${de})`,type:"success"}),await K(),z()}catch(me){const{message:de,type:le}=Nl(me);U(de,le)}finally{w(!1)}},Ye=(ie,ge)=>{A({message:ie,type:ge}),setTimeout(()=>A(null),3e3)},re=ie=>{var ge,De;return((ge=ie.meta)==null?void 0:ge.label)||((De=ie.meta)==null?void 0:De.displayName)||ie.exchangeName},ye=ie=>{const ge=(ie||"SAVED").toString().toUpperCase(),De=IP[ge]||IP.DEFAULT;return o.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full border ${De}`,children:ge})},ve=r==="custom",J=r?r==="custom"?{...qh,name:u||qh.name,requiresPassphrase:f}:Os[r]:null,Ue=C==="selection"?"Select Exchange":`${(J==null?void 0:J.name)??"Exchange"} API Setup`,Te=C==="selection"?"Choose an exchange to connect":"Enter your API credentials",nt=r?r!=="custom":!0,at=!!(r&&(ve?f:J!=null&&J.requiresPassphrase));return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"border-t border-purple-500/20 pt-6 mt-6",children:[o.jsxs("div",{className:"mb-6 flex items-center justify-between gap-4 flex-wrap",children:[o.jsxs("div",{className:"max-w-2xl",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Exchange Accounts"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Store encrypted API keys for any exchange. Supported venues can be activated for live trading, while the rest stay available for future adapters."})]}),o.jsxs("button",{onClick:Y,className:"inline-flex items-center gap-1.5 px-3.5 py-1.5 text-sm font-medium bg-gradient-to-r from-purple-600 via-pink-600 to-cyan-600 text-white rounded-lg hover:from-purple-500 hover:via-pink-500 hover:to-cyan-500 transition-all duration-300 shadow-md shadow-purple-500/30 hover:shadow-purple-500/50 ml-auto",children:[o.jsx(u5,{className:"w-4 h-4"}),"Add Exchange"]})]}),W&&o.jsxs("div",{className:"mb-5 p-3 rounded-xl bg-yellow-900/20 border border-yellow-500/30 text-yellow-100 text-sm",children:["Only one exchange can be connected at a time. Currently connected: ",(s==null?void 0:s.exchange)||(F==null?void 0:F.exchangeName)||"Unknown","."]}),e&&s&&o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:(()=>{const ie=e,ge=Os[ie]||{...qh,name:ie},De=ge.LogoComponent;return o.jsx("div",{className:`relative bg-gradient-to-br ${ge.gradient} backdrop-blur-xl rounded-2xl border border-purple-500/30 shadow-2xl transition-all duration-300 hover:scale-[1.02] hover:shadow-purple-500/20 ring-2 ring-green-400/50`,children:o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"flex items-start justify-between mb-4",children:o.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[o.jsx("div",{className:"w-12 h-12 flex items-center justify-center flex-shrink-0",children:o.jsx(De,{className:"w-full h-full"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("h3",{className:"text-xl font-semibold text-white",children:ge.name}),o.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-500/20 text-green-300 border border-green-400/30",children:[o.jsx(aa,{className:"w-3 h-3 mr-1"}),"Connected"]})]}),o.jsx("p",{className:"text-sm text-gray-300",children:ge.description}),s&&o.jsx("div",{className:"mt-2 text-xs text-gray-400",children:s.testnet&&o.jsx("span",{className:"px-2 py-0.5 rounded bg-yellow-500/20 text-yellow-300 border border-yellow-400/30",children:"Testnet"})})]})]})}),o.jsx("button",{onClick:()=>{const gt=ie.toLowerCase();L.has(gt)?(i(gt),d("")):(i("custom"),d(ie)),V("form"),R(!0),g(!1),d(""),p(!1),m({apiKey:"",secretKey:"",passphrase:""})},className:"w-full px-4 py-2 text-sm font-medium text-white bg-purple-500/20 border border-purple-500/30 rounded-lg hover:bg-purple-500/30 transition-all",children:"Update"})]})},ie)})()}),o.jsxs("div",{className:"mt-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h4",{className:"text-base font-semibold text-white",children:"Saved API Credentials"}),o.jsxs("p",{className:"text-xs text-gray-400",children:[l.length," saved"]})]}),l.length===0?o.jsx("p",{className:"text-sm text-gray-400",children:"No credentials saved yet. Add an exchange to get started."}):o.jsx("div",{className:"space-y-3",children:l.map(ie=>{var ge,De;return o.jsxs("div",{className:"p-4 rounded-xl border border-slate-700 bg-slate-900/40 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-white",children:re(ie)}),o.jsxs("p",{className:"text-xs text-gray-400",children:["Key: ",ie.maskedApiKey||"",ie.updatedAt&&`  Updated ${new Date(ie.updatedAt).toLocaleString()}`]}),((De=(ge=ie.meta)==null?void 0:ge.validation)==null?void 0:De.message)&&o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:ie.meta.validation.message})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[ye(ie.status),!ie.enabled&&o.jsx("span",{className:"px-2 py-0.5 text-[11px] rounded-full bg-gray-600/30 text-gray-200 border border-gray-500/40",children:"Disabled"})]})]},ie.id)})})]})]}),P&&o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsxs("div",{ref:M,className:"bg-slate-800 border border-purple-500/50 rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-slate-800/95 backdrop-blur-xl border-b border-purple-500/30 px-6 py-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:Ue}),o.jsx("p",{className:"text-sm text-gray-400 mt-1",children:Te})]}),o.jsx("button",{onClick:z,className:"text-gray-400 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-lg",children:o.jsx(j_,{className:"w-6 h-6"})})]}),o.jsx("div",{className:"p-6",children:C==="selection"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 mb-6",children:[Object.keys(Os).map(ie=>{const ge=Os[ie],De=r===ie,gt=!!W&&W!==ie,Et=ge.LogoComponent;return o.jsxs("button",{onClick:()=>!gt&&oe(ie),disabled:gt,className:`relative p-4 rounded-xl border-2 transition-all duration-300 ${De?"border-purple-500 bg-purple-500/20 shadow-lg shadow-purple-500/30 scale-105":"border-purple-500/30 bg-gradient-to-br "+ge.gradient+" hover:border-purple-500/50 hover:scale-102"} ${gt?"opacity-40 cursor-not-allowed":""}`,children:[o.jsx("div",{className:"w-12 h-12 mb-2 flex items-center justify-center mx-auto",children:o.jsx(Et,{className:"w-full h-full"})}),o.jsx("div",{className:"text-sm font-semibold text-white",children:ge.name}),De&&o.jsx("div",{className:"absolute top-2 right-2",children:o.jsx(aa,{className:"w-5 h-5 text-purple-400"})})]},ie)}),o.jsxs("button",{onClick:()=>oe("custom"),disabled:!!W,className:`relative p-4 rounded-xl border-2 transition-all duration-300 ${r==="custom"?"border-purple-500 bg-purple-500/20 shadow-lg shadow-purple-500/30 scale-105":"border-purple-500/30 bg-gradient-to-br "+qh.gradient+" hover:border-purple-500/50 hover:scale-102"} ${W?"opacity-40 cursor-not-allowed":""}`,children:[o.jsx("div",{className:"w-12 h-12 mb-2 flex items-center justify-center mx-auto",children:o.jsx(Gl,{className:"w-8 h-8 text-purple-300"})}),o.jsx("div",{className:"text-sm font-semibold text-white",children:"Other / Custom"}),o.jsx("p",{className:"text-xs text-gray-300 mt-1",children:"Bring your own exchange"}),r==="custom"&&o.jsx("div",{className:"absolute top-2 right-2",children:o.jsx(aa,{className:"w-5 h-5 text-purple-400"})})]})]}),r&&o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{onClick:je,className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-xl hover:from-purple-500 hover:to-pink-500 transition-all shadow-lg",children:["Continue",o.jsx(JW,{className:"w-5 h-5"})]})})]}):o.jsx(o.Fragment,{children:r&&J&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"mb-6 p-4 bg-gradient-to-br from-slate-700/50 to-slate-800/50 rounded-xl border border-purple-500/30",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 flex items-center justify-center",children:B.createElement(J.LogoComponent,{className:"w-full h-full"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold text-white",children:J.name}),o.jsx("p",{className:"text-sm text-gray-400",children:J.description})]})]})}),o.jsxs("div",{className:"space-y-4",children:[ve&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:["Exchange Name ",o.jsx("span",{className:"text-red-400",children:"*"})]}),o.jsx("input",{type:"text",value:u,onChange:ie=>d(ie.target.value),className:"w-full px-3 py-2.5 text-sm bg-slate-900/50 border border-purple-500/30 rounded-lg text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"e.g. bitstamp, mexc, etc."}),o.jsxs("label",{className:"mt-2 inline-flex items-center gap-2 text-xs text-gray-300",children:[o.jsx("input",{type:"checkbox",checked:f,onChange:ie=>p(ie.target.checked),className:"rounded border-purple-500/40 bg-slate-900 text-purple-500 focus:ring-purple-500"}),"This exchange uses a passphrase"]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:["API Key ",o.jsx("span",{className:"text-red-400",children:"*"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Gl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-purple-400"}),o.jsx("input",{type:"text",className:"w-full pl-10 pr-3 py-2.5 text-sm bg-slate-900/50 backdrop-blur-sm border border-purple-500/30 rounded-lg text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",value:y.apiKey,onChange:ie=>m({...y,apiKey:ie.target.value}),placeholder:"Enter your API key"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:["Secret Key"," ",nt?o.jsx("span",{className:"text-red-400",children:"*"}):o.jsx("span",{className:"text-gray-400 text-xs ml-1",children:"(optional)"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Qx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-purple-400"}),o.jsx("input",{type:"password",className:"w-full pl-10 pr-3 py-2.5 text-sm bg-slate-900/50 backdrop-blur-sm border border-purple-500/30 rounded-lg text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",value:y.secretKey,onChange:ie=>m({...y,secretKey:ie.target.value}),placeholder:"Enter your secret key"})]})]}),at&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:["Passphrase ",o.jsx("span",{className:"text-red-400",children:"*"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Qx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-purple-400"}),o.jsx("input",{type:"password",className:"w-full pl-10 pr-3 py-2.5 text-sm bg-slate-900/50 backdrop-blur-sm border border-purple-500/30 rounded-lg text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",value:y.passphrase,onChange:ie=>m({...y,passphrase:ie.target.value}),placeholder:"Enter your passphrase"})]})]}),o.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3 flex items-start space-x-2",children:[o.jsx(kd,{className:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5"}),o.jsx("p",{className:"text-xs text-yellow-200",children:"All credentials are encrypted in the backend and saved securely. Validation is optional and will not block saving."})]}),o.jsxs("label",{className:"inline-flex items-center gap-2 text-xs text-gray-300",children:[o.jsx("input",{type:"checkbox",checked:v,onChange:ie=>g(ie.target.checked),className:"rounded border-purple-500/40 bg-slate-900 text-purple-500 focus:ring-purple-500"}),"Attempt live credential validation (optional)"]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[o.jsx("button",{type:"button",onClick:()=>V("selection"),className:"px-4 py-2.5 text-sm font-medium text-gray-200 bg-slate-700/50 backdrop-blur-sm border border-purple-500/30 rounded-lg hover:bg-slate-700/70 transition-all",children:"Back"}),o.jsxs("button",{type:"button",onClick:Pe,disabled:x||b||ve,className:"flex-1 inline-flex items-center justify-center px-4 py-2.5 text-sm font-medium text-gray-200 bg-slate-700/50 backdrop-blur-sm border border-purple-500/30 rounded-lg hover:bg-slate-700/70 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(Zg,{className:`w-4 h-4 mr-2 ${b?"animate-spin":""}`}),ve?"Not Available":b?"Testing...":"Test Connection"]}),o.jsx("button",{type:"button",onClick:Oe,disabled:x||b,className:"flex-1 px-4 py-2.5 text-sm font-medium text-white bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-purple-500/50",children:x?"Saving...":"Save & Connect"})]})]})]})})})]})}),N&&o.jsx(bt,{message:N.message,type:N.type}),_&&o.jsx(Zbe,{message:k,onClose:()=>S(!1)})]})}function ewe(){const{user:t}=$e(),[e,n]=E.useState(null),[r,i]=E.useState(null),[s,a]=E.useState([]),[l,c]=E.useState(!1);E.useEffect(()=>{if(t){u();const y=setInterval(u,6e4);return()=>clearInterval(y)}},[t]);const u=async()=>{if(t)try{await Promise.all([d(),f()]),p()}catch{}},d=async()=>{if(t)try{const y=await to.getStatus();n(y.data)}catch{}},f=async()=>{if(t)try{const y=await El.getStats(t.uid);i(y.data)}catch{}},p=()=>{const y=[];e&&!e.isApiConnected&&y.push({type:"warning",message:"Exchange API not connected. Connect your API keys to enable auto-trading."}),e!=null&&e.circuitBreaker&&y.push({type:"error",message:"Auto-Trade stopped due to risk limits. Check your risk settings."}),r&&r.dailyPnl<0&&Math.abs(r.dailyPnl)>(r.maxDailyLoss||0)&&y.push({type:"warning",message:"Daily loss limit approaching. Auto-Trade may pause soon."}),a(y)};E.useEffect(()=>{e&&r&&p()},[e,r]);const v=()=>{c(!0)},g=async y=>{await d(),await f()};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0a0f1c] via-[#101726] to-[#0a0f1c] pb-20 lg:pb-0 relative overflow-hidden",children:[o.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-purple-500/30 rounded-full mix-blend-screen filter blur-3xl animate-blob"}),o.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-cyan-500/30 rounded-full mix-blend-screen filter blur-3xl animate-blob animation-delay-2000"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-pink-500/20 rounded-full mix-blend-screen filter blur-3xl animate-blob animation-delay-4000"}),o.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px] opacity-40"}),o.jsx("div",{className:"absolute top-0 left-1/4 w-px h-full bg-gradient-to-b from-transparent via-purple-500/20 to-transparent"}),o.jsx("div",{className:"absolute top-0 right-1/4 w-px h-full bg-gradient-to-b from-transparent via-cyan-500/20 to-transparent"})]}),o.jsx($r,{}),o.jsx("main",{className:"min-h-screen",children:o.jsxs("div",{className:"max-w-7xl mx-auto pt-2 px-4 sm:px-6 lg:px-8",children:[o.jsx("section",{className:"mb-4",children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("h1",{className:"text-2xl font-semibold bg-gradient-to-r from-purple-300 via-pink-300 to-cyan-300 bg-clip-text text-transparent",children:"Dashboard"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Monitor your trading activity and market insights"})]})}),s.length>0&&o.jsx("div",{className:"mb-4 space-y-2",children:s.map((y,m)=>o.jsx("div",{className:`p-3 rounded-lg border shadow-sm backdrop-blur-sm ${y.type==="error"?"bg-red-500/10 border-red-500/30 shadow-red-500/10":"bg-yellow-500/10 border-yellow-500/30 shadow-yellow-500/10"}`,children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`flex-shrink-0 w-5 h-5 rounded-full flex items-center justify-center ${y.type==="error"?"bg-red-500/20":"bg-yellow-500/20"}`,children:y.type==="error"?o.jsx("svg",{className:"w-3 h-3 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}):o.jsx("svg",{className:"w-3 h-3 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),o.jsx("p",{className:`text-sm ${y.type==="error"?"text-red-300":"text-yellow-300"}`,children:y.message})]})},m))}),o.jsx("div",{className:"mb-3",children:o.jsx(rG,{onStatusChange:g})}),o.jsx("div",{className:"mb-3",children:o.jsx(iG,{})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx(K5,{onConnectClick:v}),o.jsx(lG,{})]}),o.jsx("div",{className:"space-y-4",children:o.jsx(Jbe,{})})]}),o.jsx("div",{className:"mb-6",children:o.jsx(sG,{})})]})}),l&&o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-gradient-to-br from-slate-800 via-purple-900/30 to-slate-900 border border-purple-500/50 rounded-2xl shadow-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("button",{onClick:()=>c(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-lg z-10",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),o.jsx(Hj,{})]})})]})}function twe(){const{user:t}=$e(),e=$t(),[,n]=E.useState(!1),[r,i]=E.useState({totalTrades:0,liveAgents:0,activeUsers:0});E.useEffect(()=>{s()},[t]);const s=async()=>{var l;try{try{const c=await M5.get();c.data&&i({totalTrades:c.data.totalTrades||0,liveAgents:c.data.activeAgents||6,activeUsers:c.data.activeUsers||0})}catch(c){}if(t)try{const c=await El.getStats(t.uid);(l=c.data)!=null&&l.totalTrades&&i(u=>({...u,totalTrades:c.data.totalTrades}))}catch(c){}}catch{i({totalTrades:0,liveAgents:6,activeUsers:0})}},a=[{id:"airdrop-multiverse",name:"Airdrop Multiverse",description:"Automated airdrop discovery and claim system",features:["Multi-chain support","Auto-claim eligible airdrops","Portfolio tracking"],icon:""},{id:"liquidity-sniper",name:"Liquidity Sniper & Arbitrage",description:"Real-time liquidity detection and arbitrage opportunities",features:["Cross-exchange arbitrage","MEV protection","Instant execution"],icon:""},{id:"launchpad-hunter",name:"AI Launchpad Hunter",description:"Early-stage project discovery and investment automation",features:["Pre-launch detection","Risk assessment","Auto-allocation"],icon:""},{id:"whale-tracker",name:"Whale Movement Tracker",description:"Monitor and follow large wallet movements",features:["Real-time alerts","Pattern analysis","Copy trading signals"],icon:""},{id:"pre-market-alpha",name:"Pre-Market AI Alpha",description:"Predictive analytics for pre-market opportunities",features:["ML predictions","Sentiment analysis","Risk scoring"],icon:""},{id:"whale-copy-trade",name:"Whale Copy Trade",description:"Automatically mirror successful whale strategies",features:["Smart filtering","Position sizing","Stop-loss management"],icon:""}];return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0a0f1c] via-[#101726] to-[#0a0f1c] relative overflow-hidden",children:[o.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-purple-500/30 rounded-full mix-blend-screen filter blur-3xl animate-blob"}),o.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-cyan-500/30 rounded-full mix-blend-screen filter blur-3xl animate-blob animation-delay-2000"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-pink-500/20 rounded-full mix-blend-screen filter blur-3xl animate-blob animation-delay-4000"}),o.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px] opacity-40"}),o.jsx("div",{className:"absolute top-0 left-1/4 w-px h-full bg-gradient-to-b from-transparent via-purple-500/20 to-transparent"}),o.jsx("div",{className:"absolute top-0 right-1/4 w-px h-full bg-gradient-to-b from-transparent via-cyan-500/20 to-transparent"})]}),t&&o.jsx($r,{onMenuToggle:n}),o.jsx("main",{className:"min-h-screen relative z-10",children:o.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 ${t?"pt-20 lg:pt-8":"pt-8"}`,children:[t?o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-cyan-400 bg-clip-text text-transparent mb-4",children:"DLX TRADING"}),o.jsx("p",{className:"text-lg text-gray-300",children:"Your Advanced AI Trading Ecosystem"})]}):o.jsxs("div",{className:"mb-8 text-center",children:[o.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-cyan-400 bg-clip-text text-transparent mb-4",children:"DLX TRADING"}),o.jsx("p",{className:"text-lg text-gray-300",children:"Your Advanced AI Trading Ecosystem"})]}),o.jsx("section",{className:"relative mt-8 mb-16 lg:mb-24",children:o.jsxs("div",{className:"relative bg-black/30 backdrop-blur-xl border border-purple-500/30 rounded-2xl p-8 sm:p-12 lg:p-16 shadow-2xl shadow-purple-500/20 overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-purple-500 via-pink-500 to-cyan-500"}),o.jsxs("div",{className:"absolute inset-0 opacity-20",children:[o.jsx("div",{className:"absolute top-1/4 left-1/4 w-2 h-2 bg-purple-400 rounded-full animate-pulse"}),o.jsx("div",{className:"absolute top-1/3 right-1/4 w-1.5 h-1.5 bg-cyan-400 rounded-full animate-pulse",style:{animationDelay:"0.5s"}}),o.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-2 h-2 bg-pink-400 rounded-full animate-pulse",style:{animationDelay:"1s"}})]}),o.jsxs("div",{className:"relative z-10 text-center",children:[o.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-cyan-400 bg-clip-text text-transparent mb-4 sm:mb-6 leading-tight",children:"Your Advanced AI Trading Ecosystem"}),o.jsx("p",{className:"text-lg sm:text-xl text-gray-300 mb-8 sm:mb-10 max-w-3xl mx-auto leading-relaxed",children:"Smart agents powered by deep research, HFT engines, market signals and live analytics."}),o.jsxs("button",{onClick:()=>e("/agents"),className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-purple-600 via-pink-600 to-cyan-600 text-white font-semibold rounded-xl hover:from-purple-500 hover:via-pink-500 hover:to-cyan-500 transition-all duration-300 shadow-lg shadow-purple-500/40 hover:shadow-purple-500/60 transform hover:scale-105 active:scale-95 text-base sm:text-lg",children:[o.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Explore Trading Agents"]})]})]})}),o.jsxs("section",{className:"mb-16 lg:mb-24",children:[o.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-cyan-400 bg-clip-text text-transparent mb-8 sm:mb-12 text-center",children:"Premium Trading Agents"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:a.map(l=>o.jsxs("div",{className:"relative bg-black/30 backdrop-blur-xl border border-purple-500/30 rounded-2xl p-6 sm:p-8 shadow-2xl shadow-purple-500/10 hover:shadow-purple-500/20 transition-all duration-300 overflow-hidden group",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-purple-500 via-pink-500 to-cyan-500 opacity-0 group-hover:opacity-100 transition-opacity"}),o.jsx("div",{className:"text-5xl sm:text-6xl mb-4 text-center",children:l.icon}),o.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-3 text-center group-hover:text-purple-300 transition-colors",children:l.name}),o.jsx("p",{className:"text-gray-400 text-sm sm:text-base mb-6 text-center min-h-[3rem]",children:l.description}),o.jsx("ul",{className:"space-y-2 mb-6",children:l.features.map((c,u)=>o.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-300",children:[o.jsx("svg",{className:"w-4 h-4 text-green-400 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),c]},u))}),o.jsx("button",{onClick:()=>e("/agents"),className:"w-full px-4 py-3 bg-gradient-to-r from-purple-600/20 to-pink-600/20 border border-purple-500/40 text-purple-300 font-semibold rounded-xl hover:from-purple-500/30 hover:to-pink-500/30 hover:border-purple-400/60 transition-all duration-300 transform hover:scale-105 active:scale-95",children:"Unlock Agent"})]},l.id))})]}),o.jsx("section",{className:"mb-16 lg:mb-24",children:o.jsxs("div",{className:"relative bg-black/30 backdrop-blur-xl border border-cyan-500/30 rounded-2xl p-6 sm:p-8 overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-cyan-500 via-blue-500 to-purple-500"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 sm:gap-6",children:[{label:"Real-time Signals",icon:""},{label:"HFT Market Depth Alerts",icon:""},{label:"AI-Powered Trade Patterns",icon:""},{label:"Sentiment Engine with 87% Accuracy",icon:""},{label:"Global Price Heatmaps",icon:""}].map((l,c)=>o.jsxs("div",{className:"flex flex-col items-center text-center p-4 bg-black/20 rounded-xl border border-cyan-500/20 hover:border-cyan-400/40 transition-all duration-300",children:[o.jsx("div",{className:"text-3xl sm:text-4xl mb-2",children:l.icon}),o.jsx("p",{className:"text-sm sm:text-base text-gray-300 font-medium",children:l.label})]},c))})]})}),o.jsx("section",{className:"mb-16 lg:mb-24",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-12 items-center",children:[o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"relative bg-black/30 backdrop-blur-xl border border-purple-500/30 rounded-2xl p-8 sm:p-12 aspect-square flex items-center justify-center overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/20 via-pink-500/20 to-cyan-500/20 rounded-full blur-3xl animate-pulse"}),o.jsxs("div",{className:"relative z-10 text-center",children:[o.jsx("div",{className:"text-8xl sm:text-9xl mb-4",children:""}),o.jsx("div",{className:"w-32 h-32 sm:w-40 sm:h-40 mx-auto border-4 border-purple-400/50 rounded-full flex items-center justify-center",style:{animation:"spin 8s linear infinite"},children:o.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 border-4 border-cyan-400/50 rounded-full"})})]})]})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-cyan-400 bg-clip-text text-transparent mb-6 sm:mb-8",children:"AI Optimized for Every Trade"}),o.jsx("ul",{className:"space-y-4 sm:space-y-5",children:["Live Predictive Modeling","Smart Arbitrage & Momentum Detection","Deep Learning Market Insights","Stable Risk Management","Auto-Generated Trading Opportunities"].map((l,c)=>o.jsxs("li",{className:"flex items-start gap-3 sm:gap-4",children:[o.jsx("div",{className:"flex-shrink-0 w-6 h-6 sm:w-7 sm:h-7 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center mt-0.5",children:o.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),o.jsx("span",{className:"text-base sm:text-lg text-gray-300 font-medium",children:l})]},c))})]})]})}),o.jsx("section",{className:"mb-8 sm:mb-12",children:o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 sm:gap-8",children:[{label:"Total Trades Executed",value:r.totalTrades.toLocaleString(),icon:"",color:"from-green-500 to-emerald-500"},{label:"Live AI Agents Running",value:r.liveAgents.toString(),icon:"",color:"from-purple-500 to-pink-500"},{label:"Active Users",value:r.activeUsers.toLocaleString()||"1.2K+",icon:"",color:"from-cyan-500 to-blue-500"}].map((l,c)=>o.jsxs("div",{className:"relative bg-black/30 backdrop-blur-xl border border-purple-500/30 rounded-2xl p-6 sm:p-8 shadow-2xl shadow-purple-500/10 hover:shadow-purple-500/20 transition-all duration-300 overflow-hidden group",children:[o.jsx("div",{className:`absolute top-0 left-0 right-0 h-1 bg-gradient-to-r ${l.color}`}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-4xl sm:text-5xl mb-3",children:l.icon}),o.jsx("div",{className:`text-3xl sm:text-4xl lg:text-5xl font-bold bg-gradient-to-r ${l.color} bg-clip-text text-transparent mb-2`,children:l.value}),o.jsx("div",{className:"text-sm sm:text-base text-gray-400 font-medium",children:l.label})]})]},c))})})]})})]})}function nwe({onSubmit:t,onStop:e,loading:n,isRunning:r}){const[i,s]=E.useState({symbol:"BTCUSDT",quoteSize:.001,adversePct:2e-4,cancelMs:40,maxPos:.01,enabled:!0}),a=l=>{l.preventDefault(),t(i)};return o.jsxs("form",{onSubmit:a,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"Symbol"}),o.jsx("input",{type:"text",className:"input",value:i.symbol,onChange:l=>s({...i,symbol:l.target.value.toUpperCase()}),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"Quote Size"}),o.jsx("input",{type:"number",step:"0.0001",className:"input",value:i.quoteSize,onChange:l=>s({...i,quoteSize:parseFloat(l.target.value)}),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"Adverse Selection %"}),o.jsx("input",{type:"number",step:"0.0001",className:"input",value:i.adversePct,onChange:l=>s({...i,adversePct:parseFloat(l.target.value)}),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"Cancel Time (ms)"}),o.jsx("input",{type:"number",className:"input",value:i.cancelMs,onChange:l=>s({...i,cancelMs:parseInt(l.target.value,10)}),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"Max Position"}),o.jsx("input",{type:"number",step:"0.0001",className:"input",value:i.maxPos,onChange:l=>s({...i,maxPos:parseFloat(l.target.value)}),required:!0})]}),o.jsx("div",{className:"flex space-x-2",children:r?o.jsx("button",{type:"button",onClick:e,className:"btn btn-danger flex-1",disabled:n,children:n?"Stopping...":"Stop Engine"}):o.jsx("button",{type:"submit",className:"btn btn-primary flex-1",disabled:n,children:n?"Starting...":"Start Engine"})})]})}function rwe(){var p;const[t,e]=E.useState(null),[n,r]=E.useState(!1),[i,s]=E.useState(null);E.useEffect(()=>{a();const v=setInterval(a,2e3);return()=>clearInterval(v)},[]);const a=async()=>{try{const v=await Fa.getStatus();e(v.data)}catch(v){console.error("Error loading status:",v)}},l=(v,g)=>{s({message:v,type:g}),setTimeout(()=>s(null),3e3)},c=async v=>{var g,y;r(!0);try{await Fa.start(v),l("Engine started","success"),a()}catch(m){l(((y=(g=m.response)==null?void 0:g.data)==null?void 0:y.error)||"Error starting engine","error")}finally{r(!1)}},u=async()=>{var v,g;if(confirm("Are you sure you want to stop the engine?")){r(!0);try{await Fa.stop(),l("Engine stopped","success"),a()}catch(y){l(((g=(v=y.response)==null?void 0:v.data)==null?void 0:g.error)||"Error stopping engine","error")}finally{r(!1)}}},d=async()=>{var v,g;try{await Fa.pauseRisk(),l("Risk manager paused","success"),a()}catch(y){l(((g=(v=y.response)==null?void 0:v.data)==null?void 0:g.error)||"Error pausing","error")}},f=async()=>{var v,g;try{await Fa.resumeRisk(),l("Risk manager resumed","success"),a()}catch(y){l(((g=(v=y.response)==null?void 0:v.data)==null?void 0:g.error)||"Error resuming","error")}};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[o.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),o.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})]}),o.jsx($r,{onLogout:async()=>{const{signOut:v}=await Qt(async()=>{const{signOut:y}=await Promise.resolve().then(()=>ba);return{signOut:y}},void 0),{auth:g}=await Qt(async()=>{const{auth:y}=await Promise.resolve().then(()=>bs);return{auth:y}},void 0);await v(g),localStorage.removeItem("firebaseToken"),localStorage.removeItem("firebaseUser"),window.location.href="/login"}}),o.jsx("main",{className:"min-h-screen",children:o.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent mb-2",children:"Engine Control"}),o.jsx("p",{className:"text-gray-300",children:"Start, stop, and configure the trading engine"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Engine Configuration"}),o.jsx(nwe,{onSubmit:c,onStop:u,loading:n,isRunning:((p=t==null?void 0:t.engine)==null?void 0:p.running)||!1})]}),o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Risk Management"}),t!=null&&t.risk?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("span",{className:"text-gray-300",children:"Circuit Breaker:"}),o.jsx("span",{className:t.risk.circuitBreaker?"text-red-400":"text-green-400",children:t.risk.circuitBreaker?"Active":"Inactive"})]}),o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("span",{className:"text-gray-300",children:"Paused:"}),o.jsx("span",{className:t.risk.paused?"text-yellow-400":"text-green-400",children:t.risk.paused?"Yes":"No"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-300",children:"Max Daily PnL:"}),o.jsxs("span",{className:"text-gray-200",children:["$",t.risk.limits.maxDailyPnL]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-300",children:"Max Drawdown:"}),o.jsxs("span",{className:"text-gray-200",children:["$",t.risk.limits.maxDrawdown]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-300",children:"Max Position:"}),o.jsxs("span",{className:"text-gray-200",children:[t.risk.limits.maxPosition," BTC"]})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:d,className:"btn btn-secondary flex-1",children:"Pause"}),o.jsx("button",{onClick:f,className:"btn btn-primary flex-1",children:"Resume"})]})]}):o.jsx("p",{className:"text-gray-400",children:"Loading risk status..."})]})]})]})}),i&&o.jsx(bt,{message:i.message,type:i.type})]})}const iwe=({report:t})=>{var v,g,y,m,x,w,b,T,N,A,_,S,k,O,P,R,C,V,U,$;const e=M=>M==null||isNaN(M)?"N/A":`$${M.toFixed(2)}`,n=M=>{if(!M)return"";try{return new Date(M).toLocaleString("en-IN",{timeZone:"Asia/Kolkata",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return M}},r=M=>{switch(M){case"LOW":return{bg:"bg-slate-700/50",text:"text-slate-300",border:"border-slate-600"};case"MID_BLUR":return{bg:"bg-yellow-900/30",text:"text-yellow-400",border:"border-yellow-700/50"};case"NORMAL":return{bg:"bg-blue-900/30",text:"text-blue-400",border:"border-blue-700/50"};case"TRADE_SETUP":return{bg:"bg-green-900/30",text:"text-green-400",border:"border-green-700/50"};default:return{bg:"bg-slate-700/50",text:"text-slate-300",border:"border-slate-600"}}},i=M=>{switch(M){case"LONG":return"bg-green-900/40 text-green-300 border-green-700/50";case"SHORT":return"bg-red-900/40 text-red-300 border-red-700/50";default:return"bg-slate-700/40 text-slate-300 border-slate-600"}},s=()=>o.jsx("div",{className:"h-[1px] w-full bg-slate-700/50 my-0"}),a=({label:M,value:L,valueColor:F="text-slate-100",labelClass:W="text-sm font-medium text-slate-400",valueClass:K="text-sm font-semibold"})=>o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1 sm:gap-2 py-2.5 sm:py-3",children:[o.jsx("span",{className:W,children:M}),o.jsx("span",{className:`${K} ${F} text-right sm:text-left`,children:L})]}),l=r(t.mode),c=(t.apiCallReport||[]).filter(M=>M.status!=="SUCCESS"),u=t.missingDependencies||[],d=c.length>0||u.length>0,f=[...u.map(M=>({api:M.api,status:"SKIPPED",message:M.reason||"Missing API key"})),...c.map(M=>({api:M.apiName,status:M.status,message:M.message||"Not available"}))],p=M=>{switch(M){case"SUCCESS":return"text-green-300";case"FAILED":return"text-red-300";case"SKIPPED":default:return"text-yellow-300"}};return o.jsxs("div",{className:"bg-black/30 backdrop-blur-sm border border-white/20 rounded-xl shadow-md shadow-purple-500/10 overflow-hidden w-full max-w-none",children:[o.jsx("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-700/50 border-b border-slate-600/50 px-4 py-3",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1.5",children:[o.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white truncate",children:t.symbol}),t.exchange&&o.jsx("span",{className:"px-2.5 py-1 rounded-lg text-xs font-semibold bg-slate-700/50 text-slate-200 border border-slate-600 whitespace-nowrap",children:t.exchange})]}),t.timestamp&&o.jsxs("p",{className:"text-xs text-slate-400 font-medium",children:[n(t.timestamp)," IST"]})]}),t.currentPrice>0&&o.jsxs("div",{className:"flex-shrink-0 text-right sm:text-left",children:[o.jsx("p",{className:"text-xs font-medium text-slate-400 mb-0.5",children:"Current Price"}),o.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-white",children:e(t.currentPrice)})]})]})}),o.jsxs("div",{className:"px-2 sm:px-4 py-4 bg-slate-800/30",children:[o.jsx("div",{className:"mb-4",children:o.jsx("div",{className:`inline-flex items-center px-3 py-1.5 rounded-lg border ${l.bg} ${l.text} ${l.border} text-xs font-bold uppercase tracking-wide`,children:t.mode.replace("_"," ")})}),o.jsx(s,{}),d&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"py-3",children:[o.jsx("h4",{className:"text-sm font-semibold text-yellow-300 mb-2",children:"Warning: The following APIs could not be called"}),o.jsx("ul",{className:"list-disc list-inside text-xs text-yellow-200 space-y-1",children:f.map((M,L)=>o.jsxs("li",{children:[o.jsx("span",{className:`font-semibold ${p(M.status)}`,children:M.api})," "," ",M.status,M.message&&` (${M.message})`]},`${M.api}-${L}`))})]}),o.jsx(s,{})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-0",children:[o.jsx(a,{label:"Side",value:o.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-md text-xs font-bold border ${i(t.side)}`,children:t.side})}),o.jsx("div",{className:"sm:hidden",children:o.jsx(s,{})}),o.jsx(a,{label:"Timeframe",value:o.jsx("span",{className:"font-mono",children:t.timeframe||"N/A"})}),o.jsx("div",{className:"sm:hidden",children:o.jsx(s,{})}),o.jsx(a,{label:"Confidence",value:o.jsxs("span",{className:"inline-flex flex-col items-end sm:items-start",children:[o.jsxs("span",{className:"text-blue-600 font-bold",children:[t.confidence||Math.round((t.accuracy||0)*100),"%"]}),t.accuracyRange&&o.jsxs("span",{className:"text-[11px] uppercase tracking-wide text-slate-400 font-semibold",children:[t.accuracyRange," expected accuracy"]})]}),valueColor:"text-blue-600"})]}),(()=>{const M=Math.round((t.accuracy||0)*100);return M>=60?o.jsxs(o.Fragment,{children:[o.jsx(s,{}),o.jsxs("div",{className:"py-2",children:[o.jsxs("h4",{className:"text-sm font-semibold text-slate-200 mb-3",children:["Trading Signals",M>=75&&o.jsx("span",{className:"ml-2 px-2 py-0.5 bg-green-900/50 text-green-300 text-xs font-bold rounded border border-green-700/50",children:"AUTO"})]}),o.jsxs("div",{className:"space-y-2.5",children:[t.entrySignal&&o.jsxs("div",{className:`flex items-center justify-between py-2 px-3 rounded-lg border ${t.entrySignal==="LONG"?"bg-green-900/30 border-green-700/50":"bg-red-900/30 border-red-700/50"}`,children:[o.jsx("span",{className:`text-sm font-medium ${t.entrySignal==="LONG"?"text-green-300":"text-red-300"}`,children:"Entry Signal"}),o.jsx("span",{className:`text-base font-bold ${t.entrySignal==="LONG"?"text-green-300":"text-red-300"}`,children:t.entrySignal})]}),t.entryPrice!==null&&t.entryPrice!==void 0&&!isNaN(t.entryPrice)&&o.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-slate-700/50 rounded-lg border border-slate-600",children:[o.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Entry Price"}),o.jsx("span",{className:"text-base font-bold text-white",children:e(t.entryPrice)})]}),t.stopLoss!==null&&t.stopLoss!==void 0&&!isNaN(t.stopLoss)&&o.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-red-900/30 rounded-lg border border-red-700/50",children:[o.jsx("span",{className:"text-sm font-medium text-red-300",children:"Stop Loss"}),o.jsx("span",{className:"text-base font-bold text-red-300",children:e(t.stopLoss)})]}),t.takeProfit!==null&&t.takeProfit!==void 0&&!isNaN(t.takeProfit)&&o.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-green-900/30 rounded-lg border border-green-700/50",children:[o.jsx("span",{className:"text-sm font-medium text-green-300",children:"Take Profit"}),o.jsx("span",{className:"text-base font-bold text-green-300",children:e(t.takeProfit)})]}),t.exitSignal&&t.exitSignal.length>0&&o.jsxs("div",{className:"p-3 bg-blue-900/30 rounded-lg border border-blue-700/50",children:[o.jsx("p",{className:"text-xs font-medium text-blue-300 mb-2",children:"Exit Targets"}),o.jsx("div",{className:"space-y-1",children:t.exitSignal.map((F,W)=>o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{className:"text-slate-300",children:["Exit ",W+1]}),o.jsx("span",{className:"text-blue-300 font-bold",children:e(F)})]},W))})]})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsx(s,{}),o.jsxs("div",{className:"py-2",children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-200 mb-3",children:"Trading Signals"}),o.jsx("div",{className:"p-3 bg-yellow-900/30 rounded-lg border border-yellow-700/50",children:o.jsxs("p",{className:"text-sm text-yellow-300 font-medium",children:["Signals hidden due to low accuracy (",M,"% < 60%)"]})})]})]})})(),t.exits&&t.exits.length>0&&o.jsxs(o.Fragment,{children:[o.jsx(s,{}),o.jsxs("div",{className:"py-2",children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-200 mb-2",children:"Exit Targets"}),o.jsx("div",{className:"space-y-1.5",children:t.exits.filter(M=>M!==null&&!isNaN(M)).map((M,L)=>o.jsxs("div",{className:"flex items-center justify-between py-1.5 px-3 bg-slate-700/50 rounded-md border border-slate-600",children:[o.jsxs("span",{className:"text-xs font-medium text-slate-300",children:["Exit ",L+1]}),o.jsx("span",{className:"text-sm font-semibold text-white",children:e(M)})]},L))})]})]}),t.signals&&Array.isArray(t.signals)&&t.signals.length>0&&!t.rsi5&&!t.rsi14&&!t.trendAnalysis&&!t.exchangeTickers&&o.jsxs(o.Fragment,{children:[o.jsx(s,{}),o.jsxs("div",{className:"py-2",children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-200 mb-2",children:"Signals (Legacy)"}),o.jsx("div",{className:"space-y-1.5",children:t.signals.filter(M=>M&&M.price!==null&&!isNaN(M.price)).map((M,L)=>{const F=M.type||"unknown",W=F==="entry"?"ENTRY":F==="tp"?"TAKE PROFIT":F==="sl"?"STOP LOSS":F==="exit"?`EXIT ${L>0?L:""}`:F.toUpperCase(),K=M.type==="entry"||M.type==="tp"?"text-green-300 bg-green-900/30 border-green-700/50":M.type==="sl"?"text-red-300 bg-red-900/30 border-red-700/50":"text-slate-300 bg-slate-700/50 border-slate-600";return o.jsxs("div",{className:`flex items-center justify-between py-1.5 px-3 rounded-md border ${K}`,children:[o.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide",children:W}),o.jsx("span",{className:"text-sm font-bold",children:e(M.price)})]},L)})})]})]}),t.apiCallReport&&t.apiCallReport.length>0&&o.jsxs(o.Fragment,{children:[o.jsx(s,{}),o.jsxs("div",{className:"py-3",children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-200 mb-2",children:"API Call Summary"}),o.jsx("ul",{className:"space-y-1 text-xs sm:text-sm text-slate-200",children:t.apiCallReport.map((M,L)=>o.jsxs("li",{className:"flex items-center justify-between gap-3",children:[o.jsx("span",{className:"font-medium",children:M.apiName}),o.jsxs("span",{className:`${p(M.status)} text-right`,children:[M.status,M.message?` (${M.message})`:""]})]},`${M.apiName}-${L}`))})]})]}),(()=>{var L,F;const M=[];if(t.side==="LONG"||t.side==="SHORT"){const W=t.side==="LONG"?"LONG":"SHORT",K=[];(L=t.trendAnalysis)!=null&&L.trend&&(t.trendAnalysis.trend==="BULLISH"&&t.side==="LONG"?K.push("trend is bullish"):t.trendAnalysis.trend==="BEARISH"&&t.side==="SHORT"?K.push("trend is bearish"):t.trendAnalysis.trend==="NEUTRAL"&&K.push("trend is neutral")),t.rsi14!==null&&t.rsi14!==void 0?t.rsi14<30?K.push("RSI oversold"):t.rsi14>70?K.push("RSI overbought"):K.push("RSI neutral"):t.rsi5!==null&&t.rsi5!==void 0&&(t.rsi5<30?K.push("RSI(5) oversold"):t.rsi5>70&&K.push("RSI(5) overbought")),t.exchangeOrderbooks&&t.exchangeOrderbooks.length>0&&K.push("orderbook stable"),((F=t.explanations)==null?void 0:F.some(z=>z.toLowerCase().includes("sentiment")||z.toLowerCase().includes("news")))&&K.push("positive sentiment"),K.length>0?M.push(`Signal suggests ${W} because ${K.slice(0,2).join(" and ")}.`):M.push(`Signal suggests ${W} based on market analysis.`)}else M.push("Signal suggests HOLD - waiting for clearer market conditions.");return M.length>0?o.jsxs(o.Fragment,{children:[o.jsx(s,{}),o.jsxs("div",{className:"py-2",children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-200 mb-2",children:"Analysis"}),o.jsx("div",{className:"p-3 bg-slate-700/50 rounded-lg border border-slate-600",children:o.jsx("p",{className:"text-sm text-slate-200 leading-relaxed",children:M.join(" ")})})]})]}):null})(),t.explanations&&t.explanations.length>0&&o.jsxs(o.Fragment,{children:[o.jsx(s,{}),o.jsxs("div",{className:"py-2",children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-200 mb-3",children:"Analysis Explanations"}),o.jsx("div",{className:"space-y-2",children:t.explanations.map((M,L)=>o.jsxs("div",{className:"flex items-start gap-2.5 p-2.5 bg-gradient-to-r from-slate-700/50 to-slate-800/50 rounded-lg border border-slate-600 hover:border-slate-500 transition-colors",children:[o.jsx("span",{className:"text-blue-400 font-bold text-sm mt-0.5 flex-shrink-0",children:""}),o.jsx("p",{className:"text-xs sm:text-sm text-slate-200 leading-relaxed flex-1",children:M})]},L))})]})]}),(()=>{const M=new Set;if(t.exchangeTickers&&Object.keys(t.exchangeTickers).forEach(F=>M.add(F.toLowerCase())),t.exchangeOrderbooks&&t.exchangeOrderbooks.forEach(F=>M.add(F.exchange.toLowerCase())),t.exchangesUsed&&t.exchangesUsed.length>0&&t.exchangesUsed.forEach(F=>M.add(F.toLowerCase())),M.size===0&&t.apiCalls&&t.apiCalls.length>0&&t.apiCalls.forEach(F=>{const W=F.match(/(binance|bitget|bingx|kucoin|weex|bybit|okx|coinbase|kraken|gateio)/i);W&&M.add(W[1].toLowerCase())}),M.size===0)return null;const L={binance:{Logo:C_,name:"Binance",apiType:"Ticker API"},bitget:{Logo:L_,name:"Bitget",apiType:"Orderbook API"},bingx:{Logo:M_,name:"BingX",apiType:"Ticker API"},kucoin:{Logo:R_,name:"KuCoin",apiType:"Ticker API"},weex:{Logo:$_,name:"WEEX",apiType:"Ticker API"},bybit:{Logo:O_,name:"Bybit",apiType:"Ticker API"},okx:{Logo:D_,name:"OKX",apiType:"Ticker API"}};return o.jsxs(o.Fragment,{children:[o.jsx(s,{}),o.jsxs("div",{className:"py-2",children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-200 mb-3",children:"APIs Used"}),o.jsx("div",{className:"space-y-2",children:Array.from(M).map(F=>{const W=L[F];if(!W)return null;const{Logo:K,name:Y,apiType:z}=W;return o.jsxs("div",{className:"flex items-center gap-3 p-2.5 bg-slate-700/50 rounded-lg border border-slate-600",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(K,{className:"w-6 h-6"})}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsxs("p",{className:"text-sm font-semibold text-slate-200",children:[Y," ",z]})})]},F)})})]})]})})(),t.mode==="TRADE_SETUP"&&t.recommendedTrade&&o.jsxs(o.Fragment,{children:[o.jsx(s,{}),o.jsx("div",{className:"py-3",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 p-4 rounded-xl bg-gradient-to-r from-green-900/30 to-emerald-900/30 border-2 border-green-700/50",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold text-slate-300 uppercase tracking-wide mb-1",children:"Recommended Trade"}),o.jsx("p",{className:"text-sm text-slate-200",children:"High accuracy signal - Trade recommended"})]}),o.jsx("span",{className:`inline-flex items-center justify-center px-4 py-2 rounded-lg text-sm font-bold border-2 ${t.recommendedTrade==="LONG"?"bg-green-600 text-white border-green-700 shadow-lg":"bg-red-600 text-white border-red-700 shadow-lg"}`,children:t.recommendedTrade})]})})]}),t.mode==="LOW"&&t.message&&o.jsxs(o.Fragment,{children:[o.jsx(s,{}),o.jsx("div",{className:"py-2",children:o.jsx("div",{className:"p-3 bg-slate-700/50 rounded-lg border border-slate-600",children:o.jsx("p",{className:"text-xs text-slate-300 leading-relaxed italic",children:t.message})})})]}),t.rsi5!==null&&t.rsi5!==void 0||t.rsi14!==null&&t.rsi14!==void 0?o.jsxs(o.Fragment,{children:[o.jsx(s,{}),o.jsxs("div",{className:"py-2",children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-200 mb-3",children:"RSI Indicators"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.rsi5!==null&&t.rsi5!==void 0&&o.jsxs("div",{className:"p-3 bg-blue-900/30 rounded-lg border border-blue-700/50",children:[o.jsx("p",{className:"text-xs font-medium text-slate-300 mb-1",children:"RSI(5)"}),o.jsx("p",{className:`text-lg font-bold ${t.rsi5<30?"text-green-400":t.rsi5>70?"text-red-400":"text-slate-300"}`,children:t.rsi5!==null?t.rsi5.toFixed(2):"No Data"})]}),t.rsi14!==null&&t.rsi14!==void 0&&o.jsxs("div",{className:"p-3 bg-indigo-900/30 rounded-lg border border-indigo-700/50",children:[o.jsx("p",{className:"text-xs font-medium text-slate-300 mb-1",children:"RSI(14)"}),o.jsx("p",{className:`text-lg font-bold ${t.rsi14<30?"text-green-400":t.rsi14>70?"text-red-400":"text-slate-300"}`,children:t.rsi14!==null?t.rsi14.toFixed(2):"No Data"})]})]})]})]}):null,t.trendAnalysis&&o.jsxs(o.Fragment,{children:[o.jsx(s,{}),o.jsxs("div",{className:"py-2",children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-200 mb-3",children:"Trend Analysis"}),o.jsxs("div",{className:"p-3 bg-gradient-to-r from-purple-900/30 to-pink-900/30 rounded-lg border border-purple-700/50",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-2",children:[t.trendAnalysis.ema12!==null&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-slate-300 mb-1",children:"EMA(12)"}),o.jsx("p",{className:"text-sm font-bold text-slate-200",children:t.trendAnalysis.ema12.toFixed(2)})]}),t.trendAnalysis.ema26!==null&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-slate-300 mb-1",children:"EMA(26)"}),o.jsx("p",{className:"text-sm font-bold text-slate-200",children:t.trendAnalysis.ema26.toFixed(2)})]})]}),o.jsx("div",{className:"mt-2 pt-2 border-t border-purple-700/50",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-md text-xs font-bold ${t.trendAnalysis.trend==="BULLISH"?"bg-green-900/50 text-green-400 border border-green-700/50":t.trendAnalysis.trend==="BEARISH"?"bg-red-900/50 text-red-400 border border-red-700/50":"bg-slate-700 text-slate-200 border border-slate-600"}`,children:t.trendAnalysis.trend})})]})]})]}),t.exchangeTickers&&Object.keys(t.exchangeTickers).length>0&&o.jsxs(o.Fragment,{children:[o.jsx(s,{}),o.jsxs("div",{className:"py-2",children:[o.jsxs("h4",{className:"text-sm font-semibold text-slate-200 mb-3",children:["Exchange Tickers (",t.exchangeCount||Object.keys(t.exchangeTickers).length," exchanges)"]}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:Object.entries(t.exchangeTickers).map(([M,L])=>{const F=typeof M=="string"?M:String(M),W=L,K=parseFloat((W==null?void 0:W.lastPrice)||(W==null?void 0:W.price)||(W==null?void 0:W.last)||"0");return K>0?o.jsxs("div",{className:"p-2 bg-slate-700/50 rounded-md border border-slate-600",children:[o.jsx("p",{className:"text-xs font-medium text-slate-300 mb-1",children:F.toUpperCase()}),o.jsx("p",{className:"text-sm font-bold text-slate-200",children:e(K)})]},F):null})})]})]}),t.exchangeOrderbooks&&t.exchangeOrderbooks.length>0&&o.jsxs(o.Fragment,{children:[o.jsx(s,{}),o.jsxs("div",{className:"py-2",children:[o.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Orderbook Data"}),o.jsx("div",{className:"space-y-1.5",children:t.exchangeOrderbooks.map((M,L)=>o.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-700/50 rounded-md border border-slate-600",children:[o.jsx("span",{className:"text-xs font-medium text-slate-300",children:M.exchange.toUpperCase()}),o.jsxs("span",{className:"text-xs text-slate-400",children:[M.bidsCount," bids / ",M.asksCount," asks"]})]},L))})]})]}),t.explanations&&t.explanations.some(M=>M.toLowerCase().includes("sentiment")||M.toLowerCase().includes("news"))&&o.jsxs(o.Fragment,{children:[o.jsx(s,{}),o.jsxs("div",{className:"py-2",children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-200 mb-3",children:"News & Sentiment"}),o.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-900/30 to-indigo-900/30 rounded-lg border border-blue-700/50",children:o.jsxs("div",{className:"space-y-2",children:[t.explanations.filter(M=>M.toLowerCase().includes("sentiment")||M.toLowerCase().includes("news")).map((M,L)=>o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-xs text-blue-400 mt-0.5",children:""}),o.jsx("p",{className:"text-xs text-slate-200 flex-1",children:M})]},L)),t.explanations.filter(M=>M.toLowerCase().includes("sentiment")||M.toLowerCase().includes("news")).length===0&&o.jsx("p",{className:"text-xs text-slate-400 italic",children:"Sentiment data not available"})]})})]})]}),t.features&&o.jsxs(o.Fragment,{children:[o.jsx(s,{}),o.jsxs("div",{className:"py-2",children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-200 mb-3",children:"Feature Breakdown"}),t.perFeatureScore&&o.jsxs("div",{className:"mb-3 p-2 bg-blue-900/30 rounded-lg border border-blue-700/50",children:[o.jsx("p",{className:"text-xs font-medium text-blue-300 mb-1",children:"Confidence Breakdown"}),o.jsxs("div",{className:"text-xs text-slate-200 space-y-1",children:[t.rawConfidence!==void 0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Raw Confidence:"}),o.jsxs("span",{className:"font-semibold",children:[t.rawConfidence.toFixed(1),"%"]})]}),t.smoothedConfidence!==void 0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Smoothed Confidence:"}),o.jsxs("span",{className:"font-semibold",children:[t.smoothedConfidence.toFixed(1),"%"]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[o.jsxs("div",{className:"p-3 bg-gradient-to-br from-purple-900/30 to-pink-900/30 rounded-lg border border-purple-700/50",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-xs font-medium text-slate-300",children:"RSI"}),o.jsx("span",{className:`text-sm font-bold ${t.features.rsiSignal==="Bullish"?"text-green-400":t.features.rsiSignal==="Bearish"?"text-red-400":"text-slate-300"}`,children:t.features.rsi!==null?t.features.rsi.toFixed(1):"No Data"})]}),o.jsx("p",{className:`text-xs font-medium ${t.features.rsiSignal==="Bullish"?"text-green-400":t.features.rsiSignal==="Bearish"?"text-red-400":"text-slate-400"}`,children:t.features.rsiSignal||(t.features.rsi!==null&&t.features.rsi!==void 0?t.features.rsi>70?"Overbought":t.features.rsi<30?"Oversold":t.features.rsi>50?"Bullish":"Bearish":"No Data")}),((v=t.perFeatureScore)==null?void 0:v.rsi)!==void 0&&o.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Contribution: +",t.perFeatureScore.rsi.toFixed(2),"%"]})]}),o.jsxs("div",{className:"p-3 bg-gradient-to-br from-blue-900/30 to-cyan-900/30 rounded-lg border border-blue-700/50",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-xs font-medium text-slate-300",children:"MACD"}),o.jsx("span",{className:`text-sm font-bold ${((g=t.features.macd)==null?void 0:g.trend)==="Bullish"||((y=t.features.macd)==null?void 0:y.trend)==="BULLISH"?"text-green-400":((m=t.features.macd)==null?void 0:m.trend)==="Bearish"||((x=t.features.macd)==null?void 0:x.trend)==="BEARISH"?"text-red-400":"text-slate-300"}`,children:((w=t.features.macd)==null?void 0:w.trend)==="BULLISH"?"Bullish":((b=t.features.macd)==null?void 0:b.trend)==="BEARISH"?"Bearish":((T=t.features.macd)==null?void 0:T.trend)==="NEUTRAL"?"Neutral":((N=t.features.macd)==null?void 0:N.trend)||"No Data"})]}),o.jsxs("p",{className:"text-xs text-slate-400",children:["Signal: ",t.features.macd&&t.features.macd.signal!==null?t.features.macd.signal.toFixed(4):"No Data"," | Histogram: ",t.features.macd&&t.features.macd.histogram!==null?t.features.macd.histogram.toFixed(4):"No Data"]}),((A=t.perFeatureScore)==null?void 0:A.macd)!==void 0&&o.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Contribution: +",t.perFeatureScore.macd.toFixed(2),"%"]})]}),o.jsxs("div",{className:"p-3 bg-gradient-to-br from-green-900/30 to-emerald-900/30 rounded-lg border border-green-700/50",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-xs font-medium text-slate-300",children:"Volume"}),o.jsx("span",{className:`text-sm font-bold ${t.features.volume==="Bullish"||t.features.volume==="Increasing"?"text-green-400":t.features.volume==="Bearish"||t.features.volume==="Decreasing"?"text-red-400":"text-slate-300"}`,children:t.features.volume===null?"No Data":t.features.volume==="Increasing"?"Bullish":t.features.volume==="Decreasing"?"Bearish":t.features.volume})]}),((_=t.perFeatureScore)==null?void 0:_.volume)!==void 0&&o.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Contribution: +",t.perFeatureScore.volume.toFixed(2),"%"]})]}),o.jsxs("div",{className:"p-3 bg-gradient-to-br from-orange-900/30 to-amber-900/30 rounded-lg border border-orange-700/50",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-xs font-medium text-slate-300",children:"Orderbook"}),o.jsx("span",{className:`text-xs font-bold ${t.features.orderbookImbalance&&typeof t.features.orderbookImbalance=="string"&&(t.features.orderbookImbalance.includes("Bullish")||t.features.orderbookImbalance.includes("Buy"))?"text-green-400":t.features.orderbookImbalance&&typeof t.features.orderbookImbalance=="string"&&(t.features.orderbookImbalance.includes("Bearish")||t.features.orderbookImbalance.includes("Sell"))?"text-red-400":"text-slate-300"}`,children:t.features.orderbookImbalance!==null&&t.features.orderbookImbalance!==void 0?typeof t.features.orderbookImbalance=="number"?(t.features.orderbookImbalance*100).toFixed(2)+"%":t.features.orderbookImbalance:"No Data"})]}),((S=t.perFeatureScore)==null?void 0:S.orderbookImbalance)!==void 0&&o.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Contribution: +",t.perFeatureScore.orderbookImbalance.toFixed(2),"%"]})]}),t.features.liquidity&&o.jsxs("div",{className:"p-3 bg-gradient-to-br from-indigo-900/30 to-purple-900/30 rounded-lg border border-indigo-700/50",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-xs font-medium text-slate-300",children:"Liquidity"}),o.jsx("span",{className:`text-xs font-bold ${t.features.liquidity.includes("High")?"text-green-400":t.features.liquidity.includes("Medium")?"text-yellow-400":"text-red-400"}`,children:t.features.liquidity})]}),((k=t.perFeatureScore)==null?void 0:k.liquidity)!==void 0&&o.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Contribution: +",t.perFeatureScore.liquidity.toFixed(2),"%"]})]}),t.features.fundingRate&&t.features.fundingRate!=="N/A"&&o.jsxs("div",{className:"p-3 bg-gradient-to-br from-teal-900/30 to-cyan-900/30 rounded-lg border border-teal-700/50",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-xs font-medium text-slate-300",children:"Funding Rate"}),o.jsx("span",{className:`text-xs font-bold ${t.features.fundingRate.includes("Positive")?"text-red-400":t.features.fundingRate.includes("Negative")?"text-green-400":"text-slate-400"}`,children:t.features.fundingRate})]}),((O=t.perFeatureScore)==null?void 0:O.fundingRate)!==void 0&&o.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Contribution: +",t.perFeatureScore.fundingRate.toFixed(2),"%"]})]}),t.features.openInterest&&t.features.openInterest!=="N/A"&&o.jsxs("div",{className:"p-3 bg-gradient-to-br from-violet-900/30 to-purple-900/30 rounded-lg border border-violet-700/50",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-xs font-medium text-slate-300",children:"Open Interest"}),o.jsx("span",{className:`text-xs font-bold ${t.features.openInterest.includes("Increasing")?"text-green-400":t.features.openInterest.includes("Decreasing")?"text-red-400":"text-slate-400"}`,children:t.features.openInterest})]}),((P=t.perFeatureScore)==null?void 0:P.openInterest)!==void 0&&o.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Contribution: +",t.perFeatureScore.openInterest.toFixed(2),"%"]})]}),t.features.liquidations&&t.features.liquidations!=="N/A"&&o.jsxs("div",{className:"p-3 bg-gradient-to-br from-red-900/30 to-pink-900/30 rounded-lg border border-red-700/50",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-xs font-medium text-slate-300",children:"Liquidations"}),o.jsx("span",{className:"text-xs font-bold text-slate-200",children:t.features.liquidations})]}),((R=t.perFeatureScore)==null?void 0:R.liquidations)!==void 0&&o.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Contribution: +",t.perFeatureScore.liquidations.toFixed(2),"%"]})]}),t.features.onChainFlows&&t.features.onChainFlows!=="N/A"&&o.jsxs("div",{className:"p-3 bg-gradient-to-br from-emerald-900/30 to-teal-900/30 rounded-lg border border-emerald-700/50",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-xs font-medium text-slate-300",children:"On-Chain Flows"}),o.jsx("span",{className:`text-xs font-bold ${t.features.onChainFlows.includes("Bearish")?"text-red-400":t.features.onChainFlows.includes("Bullish")?"text-green-400":"text-slate-400"}`,children:t.features.onChainFlows})]}),((C=t.perFeatureScore)==null?void 0:C.onChainFlows)!==void 0&&o.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Contribution: +",t.perFeatureScore.onChainFlows.toFixed(2),"%"]})]}),t.features.priceDivergence&&t.features.priceDivergence!=="N/A"&&o.jsxs("div",{className:"p-3 bg-gradient-to-br from-cyan-900/30 to-blue-900/30 rounded-lg border border-cyan-700/50",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-xs font-medium text-slate-300",children:"Price Divergence"}),o.jsx("span",{className:`text-xs font-bold ${t.features.priceDivergence.includes("Low")||t.features.priceDivergence.includes("Consistent")?"text-green-400":t.features.priceDivergence.includes("High")||t.features.priceDivergence.includes("Arbitrage")?"text-yellow-400":"text-slate-400"}`,children:t.features.priceDivergence})]}),((V=t.perFeatureScore)==null?void 0:V.priceDivergence)!==void 0&&o.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Contribution: +",t.perFeatureScore.priceDivergence.toFixed(2),"%"]})]}),t.features.trendStrength&&o.jsx("div",{className:"p-3 bg-gradient-to-br from-yellow-900/30 to-orange-900/30 rounded-lg border border-yellow-700/50",children:o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-xs font-medium text-slate-300",children:"Trend Strength"}),o.jsx("span",{className:`text-sm font-bold ${t.features.trendStrength==="Strong"?"text-green-400":t.features.trendStrength==="Medium"?"text-yellow-400":"text-slate-400"}`,children:t.features.trendStrength})]})}),t.features.volatility&&o.jsxs("div",{className:"p-3 bg-gradient-to-br from-slate-700/50 to-gray-800/50 rounded-lg border border-slate-600",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-xs font-medium text-slate-300",children:"Volatility"}),o.jsx("span",{className:`text-sm font-bold ${t.features.volatility==="High"?"text-red-400":t.features.volatility==="Medium"?"text-yellow-400":"text-green-400"}`,children:t.features.volatility})]}),((U=t.perFeatureScore)==null?void 0:U.volatility)!==void 0&&o.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Contribution: +",t.perFeatureScore.volatility.toFixed(2),"%"]})]}),t.features.newsSentiment&&o.jsxs("div",{className:"p-3 bg-gradient-to-br from-blue-900/30 to-indigo-900/30 rounded-lg border border-blue-700/50",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-xs font-medium text-slate-300",children:"News Sentiment"}),o.jsx("span",{className:`text-sm font-bold ${t.features.newsSentiment==="Bullish"||t.features.newsSentiment==="Slightly Bullish"?"text-green-400":t.features.newsSentiment==="Bearish"||t.features.newsSentiment==="Slightly Bearish"?"text-red-400":"text-slate-400"}`,children:t.features.newsSentiment})]}),(($=t.perFeatureScore)==null?void 0:$.newsSentiment)!==void 0&&o.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Contribution: +",t.perFeatureScore.newsSentiment.toFixed(2),"%"]})]}),t.volumeConfirmed!==void 0&&o.jsxs("div",{className:"p-3 bg-gradient-to-br from-green-900/30 to-emerald-900/30 rounded-lg border border-green-700/50",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-xs font-medium text-slate-300",children:"RVOL Confirmation"}),o.jsx("span",{className:`text-sm font-bold ${t.volumeConfirmed?"text-green-400":"text-red-400"}`,children:t.volumeConfirmed?"Confirmed":"Not Confirmed"})]}),o.jsx("p",{className:"text-xs text-slate-400 mt-1",children:t.volumeConfirmed?"RVOL >= threshold":"RVOL < threshold"})]}),t.derivativesContradict!==void 0&&o.jsxs("div",{className:"p-3 bg-gradient-to-br from-rose-900/30 to-red-900/30 rounded-lg border border-rose-700/50",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-xs font-medium text-slate-300",children:"Derivatives Alignment"}),o.jsx("span",{className:`text-sm font-bold ${t.derivativesContradict?"text-red-400":"text-green-400"}`,children:t.derivativesContradict?"Contradicts":"Aligned"})]}),o.jsx("p",{className:"text-xs text-slate-400 mt-1",children:t.derivativesContradict?"Derivatives contradict price signal":"Derivatives align with price"})]})]})]})]}),t.apisUsed&&t.apisUsed.length>0||t.perFeatureScore||t.confluenceFlags||t.volumeConfirmed!==void 0||t.derivativesContradict!==void 0?o.jsxs(o.Fragment,{children:[o.jsx(s,{}),o.jsxs("div",{className:"py-2 max-h-96 overflow-y-auto",children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-200 mb-3 sticky top-0 bg-slate-800/90 backdrop-blur-sm py-1 z-10",children:"Diagnostics"}),t.apisUsed&&t.apisUsed.length>0&&o.jsxs("div",{className:"mb-3 p-3 bg-slate-700/50 rounded-lg border border-slate-600",children:[o.jsx("p",{className:"text-xs font-medium text-slate-300 mb-2",children:"APIs Used"}),o.jsx("div",{className:"flex flex-wrap gap-1.5",children:t.apisUsed.map((M,L)=>o.jsx("span",{className:"px-2 py-1 bg-slate-800 rounded text-xs text-slate-200 border border-slate-600",children:M},L))})]}),t.perFeatureScore&&o.jsxs("div",{className:"mb-3 p-3 bg-slate-700/50 rounded-lg border border-slate-600",children:[o.jsx("p",{className:"text-xs font-medium text-slate-300 mb-2",children:"Per-Feature Contributions"}),o.jsx("div",{className:"space-y-1.5",children:Object.entries(t.perFeatureScore).sort(([,M],[,L])=>L-M).map(([M,L])=>o.jsxs("div",{className:"flex items-center justify-between text-xs",children:[o.jsxs("span",{className:"text-slate-300 capitalize",children:[M.replace(/([A-Z])/g," $1").trim(),":"]}),o.jsxs("span",{className:"font-semibold text-white",children:["+",L.toFixed(2),"%"]})]},M))})]}),t.confluenceFlags&&o.jsxs("div",{className:"mb-3 p-3 bg-slate-700/50 rounded-lg border border-slate-600",children:[o.jsx("p",{className:"text-xs font-medium text-slate-300 mb-2",children:"Confluence Checks"}),o.jsx("div",{className:"space-y-1.5",children:Object.entries(t.confluenceFlags).map(([M,L])=>o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o.jsx("span",{className:L?"text-green-400":"text-red-400",children:L?"":""}),o.jsx("span",{className:"text-slate-200 capitalize",children:M.replace(/([A-Z])/g," $1").trim()})]},M))})]}),t.volumeConfirmed!==void 0&&o.jsxs("div",{className:"mb-3 p-3 bg-slate-700/50 rounded-lg border border-slate-600",children:[o.jsx("p",{className:"text-xs font-medium text-slate-300 mb-2",children:"Volume Confirmation"}),o.jsx("span",{className:`text-xs ${t.volumeConfirmed?"text-green-400":"text-red-400"}`,children:t.volumeConfirmed?" Confirmed (RVOL >= threshold)":" Not Confirmed (RVOL < threshold)"})]}),t.derivativesContradict!==void 0&&o.jsxs("div",{className:"mb-3 p-3 bg-slate-700/50 rounded-lg border border-slate-600",children:[o.jsx("p",{className:"text-xs font-medium text-slate-300 mb-2",children:"Derivatives Signal"}),o.jsx("span",{className:`text-xs ${t.derivativesContradict?"text-red-400":"text-green-400"}`,children:t.derivativesContradict?" Contradicts price":" Aligned with price"})]}),t.rawConfidence!==void 0&&t.smoothedConfidence!==void 0&&o.jsxs("div",{className:"mb-3 p-3 bg-slate-700/50 rounded-lg border border-slate-600",children:[o.jsx("p",{className:"text-xs font-medium text-slate-300 mb-2",children:"Confidence Breakdown"}),o.jsxs("div",{className:"space-y-1 text-xs text-slate-200",children:[o.jsxs("div",{children:["Raw: ",t.rawConfidence.toFixed(2),"%"]}),o.jsxs("div",{children:["Smoothed: ",t.smoothedConfidence.toFixed(2),"%"]}),o.jsxs("div",{className:"text-gray-500",children:["Difference: ",(t.smoothedConfidence-t.rawConfidence).toFixed(2),"%"]})]})]})]})]}):null,t.autoTradeDecision&&o.jsxs(o.Fragment,{children:[o.jsx(s,{}),o.jsxs("div",{className:"py-2",children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-200 mb-3",children:"Auto-trade Decision"}),o.jsxs("div",{className:`p-3 rounded-lg border ${t.autoTradeDecision.triggered?"bg-green-900/30 border-green-700/50":"bg-yellow-900/30 border-yellow-700/50"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-xs font-medium text-slate-300",children:"Status"}),o.jsx("span",{className:`text-xs font-bold ${t.autoTradeDecision.triggered?"text-green-400":"text-yellow-400"}`,children:t.autoTradeDecision.triggered?"TRIGGERED":"NOT TRIGGERED"})]}),o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-xs font-medium text-slate-300",children:"Confidence"}),o.jsxs("span",{className:"text-sm font-bold text-white",children:[t.autoTradeDecision.confidence,"%"]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs font-medium text-slate-300",children:"Threshold"}),o.jsxs("span",{className:"text-sm font-bold text-white",children:[t.autoTradeDecision.threshold,"%"]})]}),t.autoTradeDecision.reason&&o.jsx("p",{className:"text-xs text-slate-300 mt-2 italic",children:t.autoTradeDecision.reason})]})]})]})]})]})};function swe({error:t,onRetry:e,onAddKeys:n,onDismiss:r}){const i=()=>{switch(t.type){case"network":return o.jsx(kd,{className:"w-5 h-5 text-yellow-400"});case"auth":return o.jsx(Gl,{className:"w-5 h-5 text-orange-400"});case"critical":return o.jsx(bi,{className:"w-5 h-5 text-red-400"});default:return o.jsx(bi,{className:"w-5 h-5 text-red-400"})}},s=()=>{switch(t.type){case"network":return"border-yellow-500/30 bg-yellow-900/20";case"auth":return"border-orange-500/30 bg-orange-900/20";case"critical":return"border-red-500/30 bg-red-900/20";default:return"border-red-500/30 bg-red-900/20"}},a=()=>t.actionRequired==="add_keys"&&n?o.jsxs("button",{onClick:n,className:"inline-flex items-center px-3 py-1.5 text-xs font-medium text-white bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all",children:[o.jsx(Gl,{className:"w-3 h-3 mr-1.5"}),"Add API Keys"]}):t.retryable&&e?o.jsxs("button",{onClick:e,className:"inline-flex items-center px-3 py-1.5 text-xs font-medium text-gray-200 bg-slate-700/50 backdrop-blur-sm border border-purple-500/30 rounded-lg hover:bg-slate-700/70 transition-all",children:[o.jsx(Zg,{className:"w-3 h-3 mr-1.5"}),"Retry"]}):null;return o.jsx("div",{className:`relative bg-black/30 backdrop-blur-xl border rounded-xl p-4 shadow-lg ${s()}`,children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"flex-shrink-0",children:i()}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-sm font-semibold text-white",children:t.type==="network"?"Connection Issue":t.type==="auth"?"Authentication Required":t.type==="validation"?"Validation Error":"Error Occurred"}),r&&o.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-colors",children:o.jsx(bi,{className:"w-4 h-4"})})]}),o.jsx("p",{className:"text-sm text-gray-300 mt-1",children:t.message}),o.jsxs("div",{className:"mt-3 flex items-center space-x-2",children:[a(),t.actionRequired==="check_connection"&&o.jsx("p",{className:"text-xs text-gray-400",children:"Please check your internet connection and try again."}),t.actionRequired==="contact_support"&&o.jsx("p",{className:"text-xs text-gray-400",children:"If this persists, please contact support."})]})]})]})})}function CP(t){if(!t)return{hasAllAPIs:!1,missingAPIs:["No integrations found"]};const e=[],n=["marketaux","cryptocompare"];for(const r of n){const i=t[r];if(!i||!i.enabled||!i.apiKey){const s=r==="marketaux"?"MarketAux API":"CryptoCompare API";e.push(s)}}return{hasAllAPIs:e.length===0,missingAPIs:e}}function awe(){const[t,e]=E.useState([]),[n,r]=E.useState(!1),[i,s]=E.useState(null),[a,l]=E.useState(null),[c,u]=E.useState(null),[d,f]=E.useState([]),[p,v]=E.useState(!1),[g,y]=E.useState(!1),[m,x]=E.useState([]),[w,b]=E.useState([]),[T,N]=E.useState(!1),{showError:A}=kf(),{addNotification:_}=Ac(),{user:S}=$e(),[k,O]=E.useState(!1),P=E.useRef(0),R=E.useRef(""),[C,V]=E.useState(null),[U,$]=E.useState(!1),[M,L]=E.useState([5]),[F,W]=E.useState(null),[K,Y]=E.useState(null),[z,oe]=E.useState(null),[je,Pe]=E.useState(!1),[Oe,Ye]=E.useState(null),re=async()=>{if(S)try{const H=await kr(On(pn,"users",S.uid));if(H.exists()){const me=H.data();O(me.role==="admin"||me.isAdmin===!0)}}catch(H){console.error("Error checking admin role:",H)}},ye=E.useCallback(async()=>{if(S)try{const H=await vp.getLogs({limit:100});H.data&&Array.isArray(H.data)&&e(H.data)}catch{}},[S]),ve=E.useCallback(async()=>{var H,me;if(!S){W(null),Y("No exchange connected."),Pe(!1);return}try{const de=await ii.fetch();W(de.data);const le=CP((H=de.data)==null?void 0:H.integrations);le.hasAllAPIs?Y(null):Y(`Missing required APIs: ${le.missingAPIs.join(", ")}`);const Ge=((me=de.data)==null?void 0:me.integrations)||{},qe=["binance","bybit","kucoin","okx","bitget","bingx","weex"].some(qn=>Ge[qn]&&Ge[qn].enabled&&Ge[qn].apiKey);Pe(qe)}catch{Y("Unable to load exchange connections"),Pe(!1)}},[S]);E.useEffect(()=>{if(!S)return;const H=de=>{var le,Ge;if(de.type==="research:update"&&((le=de.data)!=null&&le.result)){const Nt=de.data.result,qe=Nt.symbol,qn={...Nt,rsi5:Nt.rsi5??null,rsi14:Nt.rsi14??null,trendAnalysis:Nt.trendAnalysis??null,confidenceBreakdown:Nt.confidenceBreakdown??void 0,exchangeTickers:Nt.exchangeTickers??void 0,exchangeOrderbooks:Nt.exchangeOrderbooks??void 0,exchangeCount:Nt.exchangeCount??((Ge=Nt.exchangesUsed)==null?void 0:Ge.length)??0,exchangesUsed:Nt.exchangesUsed??[],autoTradeDecision:Nt.autoTradeDecision??void 0};x(ln=>{const br=ln.findIndex(bn=>bn.symbol===qe);if(br>=0){const bn=[...ln];return bn[br]={...bn[br],...qn},bn}else return[{...qn,id:`deep_${Date.now()}_${Math.random().toString(36).substr(2,9)}`},...ln]})}},me=yo.subscribe("research:update",H);return()=>{me()}},[S]);const J=E.useCallback(async()=>{try{const H=await Sl.load();u(H.data)}catch{}},[]);E.useCallback(async()=>{if(!S){f([]);return}v(!0);try{const H=await vp.getLogs({limit:50});if(H.data&&Array.isArray(H.data)&&H.data.length>0){const me=H.data.filter(de=>de.researchType!=="manual");if(me.length>0){const de=me.map(le=>({id:le.id,symbol:le.symbol,price:null,longSignals:le.signal==="BUY"?1:0,accuracy:le.accuracy||0,timestamp:le.timestamp}));f(de)}else f([])}else f([])}catch{f([])}finally{v(!1)}},[S]);const Ue=E.useCallback(async()=>{if(k){$(!0);try{const H=await tt.getSchedulerStatus();H.data&&(V(H.data),H.data.intervals&&Array.isArray(H.data.intervals)&&H.data.intervals.length>0?L(H.data.intervals):L([5]))}catch(H){console.error("Error loading scheduler status:",H),V({isRunning:!1,intervals:[5],mode:"rotate",autoTradeThreshold:75,autoTradeEnabled:!1})}finally{$(!1)}}},[k]),Te=async H=>{var me,de;if(k){$(!0);try{await tt.updateSchedulerConfig({intervals:H}),L(H),await Ue(),ge("Scheduler interval updated","success")}catch(le){ge(((de=(me=le.response)==null?void 0:me.data)==null?void 0:de.message)||"Failed to update interval","error")}finally{$(!1)}}};E.useEffect(()=>{S&&(re(),ye(),J(),ve())},[S,ye,J,ve]),E.useEffect(()=>{if(k){Ue();const H=setInterval(Ue,3e4);return()=>clearInterval(H)}else V(null),L([5])},[k,Ue]),E.useEffect(()=>{if(!S)return;const H=yo.subscribe("research",me=>{var de;me.data&&(me.data.researchType==="manual"||(de=me.data.autoTradeDecision)!=null&&de.triggered)&&(s(me.data),e(le=>[me.data,...le].slice(0,100)))});return()=>{H()}},[S]);const nt=H=>c?c.autoTradeEnabled&&H>=(c.minAccuracyThreshold||.85):!1,at=async H=>{var de;console.log("makeResearchRequest called with data:",H);const me={...H,userId:S==null?void 0:S.uid};try{console.log(" [FRONTEND] Calling researchApi.manual with:",me);const le=await vp.manual(me);return console.log(" [FRONTEND] API request completed - response structure:",{status:le.status,statusText:le.statusText,headers:le.headers,dataType:typeof le.data,dataKeys:le.data?Object.keys(le.data):[],data:le.data}),le}catch(le){if(console.error("API request failed:",le),!le.response&&!le.request){const Ge="Request creation failed - "+(le.message||"unknown error");throw{...le,requestBlocked:!0,reason:Ge}}throw(de=le.message)!=null&&de.includes("Rate limit active")?{...le,requestBlocked:!0,reason:"Request blocked by rate limit interceptor"}:le}},ie=async()=>{var Mo,Hf,Kf,$o,Vc,zc,Ss,Fo,Uo,hi,qc,Ta,Wc,Es,Hc,en,Kc,Ns,Ts;console.log("HANDLER TRIGGERED");const H=Date.now();if(H-P.current<500){console.warn("Deep Research click debounced");return}if(P.current=H,g){console.warn("Deep Research already in progress, ignoring click");return}const me=`research_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;R.current=me;const de=CP(F==null?void 0:F.integrations);if(!de.hasAllAPIs){ge(`Missing required APIs: ${de.missingAPIs.join(", ")}`,"error");return}y(!0),oe("Running full research engine. Checking all APIs...");const le=[{step:"Checking latest market data",status:"pending"},{step:"Fetching on-chain metrics",status:"pending"},{step:"Analyzing whale activity",status:"pending"},{step:"Evaluating sentiment",status:"pending"},{step:"Combining indicators",status:"pending"},{step:"Generating final score",status:"pending"}];b(le);const Ge=15e3,Nt=12e3,qe=(Ft,Ln,Tt)=>{b(Wn=>{const Be=[...Wn];return Be[Ft]={...Be[Ft],status:Ln,error:Tt},Be})},qn=[1e3,2500,4e3,5500,7e3,8500],ln="BTCUSDT";let br=!1,bn=null;const Wf=()=>{bn&&(clearTimeout(bn),bn=null),oe(null),y(!1),b([])};try{br=!0;const Ft="https://dlxtrade-ws-1.onrender.com",Ln=at({symbol:ln}),Tt=new Promise((he,be)=>{bn=setTimeout(()=>{be(new Error("API request timed out after 12 seconds"))},Nt)}),Wn=Promise.race([Ln,Tt]);for(let he=0;he<le.length;he++)setTimeout(()=>{b(be=>{if(be.length===0)return be;const Br=[...be];return Br[he]&&Br[he].status==="pending"&&(Br[he]={...Br[he],status:"loading"}),Br})},qn[he]);const Be=await Promise.race([Wn,new Promise((he,be)=>{setTimeout(()=>be(new Error("Processing timeout")),Ge+2e3)})]);if(bn&&(clearTimeout(bn),bn=null),console.log(" [FRONTEND] Full API response:",{status:Be.status,statusText:Be.statusText,data:Be.data,hasSuccess:"success"in(Be.data||{}),hasResults:"results"in(Be.data||{}),resultsLength:(Hf=(Mo=Be.data)==null?void 0:Mo.results)==null?void 0:Hf.length,resultsType:Array.isArray((Kf=Be.data)==null?void 0:Kf.results)}),($o=Be.data)!=null&&$o.results&&Be.data.results.length>0){const he=Be.data.results[0],be={};(Vc=he.coinApi)!=null&&Vc.marketData&&!he.coinApi.marketData.error?qe(0,"success"):(Ss=(zc=he.coinApi)==null?void 0:zc.marketData)!=null&&Ss.error?he.binance||he.marketData?(qe(0,"success"),be.binance="success"):qe(0,"error","Market data unavailable"):he.binance||he.marketData?(qe(0,"success"),be.binance="success"):(qe(0,"success"),be.fallback="success"),he.cryptoQuant&&!he.cryptoQuant.error?(qe(1,"success"),be.cryptoquant="success"):(Fo=he.cryptoQuant)!=null&&Fo.error?(qe(1,"error",he.cryptoQuant.error),be.cryptoquant="error"):(qe(1,"success"),be.cryptoquant="fallback"),he.cryptoQuant&&!he.cryptoQuant.error&&he.cryptoQuant.whaleTransactions?(qe(2,"success"),be.whaleActivity="success"):(qe(2,"success"),be.whaleActivity="fallback"),he.marketAux&&!he.marketAux.error?(qe(3,"success"),be.marketaux="success"):(Uo=he.marketAux)!=null&&Uo.error?(qe(3,"error",he.marketAux.error),be.marketaux="error"):(qe(3,"success"),be.marketaux="fallback"),he.indicators||he.technicalIndicators?(qe(4,"success"),be.indicators="success"):(qe(4,"error","Technical indicators unavailable"),be.indicators="error"),he.finalAnalysis||he.analysis||he.recommendedAction?(qe(5,"success"),be.analysis="success"):(qe(5,"error","Analysis generation failed"),be.analysis="error"),he.providersUsed=be,console.log(" [FRONTEND] Provider statuses:",be)}else for(let he=0;he<le.length;he++)qe(he,"success");if((hi=Be.data)!=null&&hi.success&&Be.data.results&&Be.data.results.length>0){console.log(" [FRONTEND] Valid results received, processing...");const he=Be.data.results.map((be,Br)=>{var Aa;return{...be,timestamp:be.timestamp||new Date().toISOString(),exchange:be.exchange||"Multiple",exchangeCount:be.exchangeCount??((Aa=be.exchangesUsed)==null?void 0:Aa.length)??1,exchangesUsed:be.exchangesUsed??["binance"],rsi5:be.rsi5??null,rsi14:be.rsi14??null,trendAnalysis:be.trendAnalysis??null,confidenceBreakdown:be.confidenceBreakdown??void 0,exchangeTickers:be.exchangeTickers??void 0,exchangeOrderbooks:be.exchangeOrderbooks??void 0,autoTradeDecision:be.autoTradeDecision??void 0,id:`deep_${Date.now()}_${Br}_${Math.random().toString(36).substr(2,9)}`}});x(be=>[...he,...be]),await _({title:"Deep Research Completed",message:`Analyzed ${Be.data.totalAnalyzed||Be.data.results.length} symbol(s) successfully`,type:"success"}),ge("Deep Research completed successfully","success")}else if((qc=Be.data)!=null&&qc.error||(Ta=Be.data)!=null&&Ta.message){const he=Be.data.message||Be.data.error||"Unknown backend error";console.error(" [FRONTEND] Backend returned error:",he),A(`Research Error: ${he}`,"api"),qe(5,"error",he),x(be=>[{id:`error_${Date.now()}`,symbol:ln,timestamp:new Date().toISOString(),error:he,success:!1},...be])}else if((Wc=Be.data)!=null&&Wc.results&&Be.data.results.length===0){const he="No research data received - all APIs may have failed";console.error(" [FRONTEND] Empty results array received"),A(he,"api"),qe(5,"error",he),x(be=>[{id:`error_${Date.now()}`,symbol:ln,timestamp:new Date().toISOString(),error:he,success:!1},...be])}else{const he="Invalid response format from server";console.error(" [FRONTEND] Invalid response format:",Be.data),A(he,"api"),qe(5,"error",he),x(be=>[{id:`error_${Date.now()}`,symbol:ln,timestamp:new Date().toISOString(),error:he,success:!1},...be])}}catch(Ft){let Ln=null;if((Es=Ft.message)!=null&&Es.includes("timed out")||(Hc=Ft.message)!=null&&Hc.includes("timeout"))Ln={message:"Research request timed out. The server may be overloaded.",type:"network",retryable:!0,actionRequired:"check_connection"},qe(5,"error","Request timeout");else if(Ft.requestBlocked||!br)Ln={message:"Request blocked. Please check your configuration.",type:"critical",retryable:!1,actionRequired:"contact_support"},b(Tt=>Tt.map(Wn=>({...Wn,status:"error",error:"Request blocked"})));else if(Ft.response){const Tt=((en=Ft.response.data)==null?void 0:en.message)||((Kc=Ft.response.data)==null?void 0:Kc.error)||Ft.message||"Unknown API error";if(Tt.toLowerCase().includes("marketaux")||Tt.toLowerCase().includes("cryptocompare")?Ln={message:Tt,type:"auth",retryable:!1,actionRequired:"add_keys"}:Ft.response.status===401?Ln={message:"Authentication failed. Please refresh the page.",type:"auth",retryable:!0}:Ln={message:`Server error: ${Tt}`,type:"api",retryable:!0},(Ts=(Ns=Ft.response.data)==null?void 0:Ns.missingDependencies)!=null&&Ts.length){const Wn=Ft.response.data.missingDependencies.map(Be=>Be.api||Be.message||"Unknown").join(", ");Y(`Missing data providers: ${Wn}`)}qe(5,"error",Tt)}else if(Ft.request)Ln={message:"Network connection failed. Please check your internet connection.",type:"network",retryable:!0,actionRequired:"check_connection"};else{const{message:Tt}=Nl(Ft);Ln={message:Tt,type:"api",retryable:!0}}Ln&&Ye(Ln),b(Tt=>Tt.map((Wn,Be)=>Wn.status==="pending"||Wn.status==="loading"?{...Wn,status:"error",error:Ft.message||"Request failed"}:Wn))}finally{Wf()}},ge=(H,me)=>{l({message:H,type:me}),setTimeout(()=>l(null),3e3)},De=()=>{Ye(null),ie()},gt=()=>{window.location.href="/settings"},Et=()=>{Ye(null)},Zt=async()=>{const{signOut:H}=await Qt(async()=>{const{signOut:de}=await Promise.resolve().then(()=>ba);return{signOut:de}},void 0),{auth:me}=await Qt(async()=>{const{auth:de}=await Promise.resolve().then(()=>bs);return{auth:de}},void 0);await H(me),localStorage.removeItem("firebaseToken"),localStorage.removeItem("firebaseUser"),window.location.href="/login"};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0a0f1c] via-[#101726] to-[#0a0f1c] pb-20 lg:pb-0 relative overflow-hidden",children:[o.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-purple-500/30 rounded-full mix-blend-screen filter blur-3xl animate-blob"}),o.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-cyan-500/30 rounded-full mix-blend-screen filter blur-3xl animate-blob animation-delay-2000"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-pink-500/20 rounded-full mix-blend-screen filter blur-3xl animate-blob animation-delay-4000"}),o.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px] opacity-40"}),o.jsx("div",{className:"absolute top-0 left-1/4 w-px h-full bg-gradient-to-b from-transparent via-purple-500/20 to-transparent"}),o.jsx("div",{className:"absolute top-0 right-1/4 w-px h-full bg-gradient-to-b from-transparent via-cyan-500/20 to-transparent"})]}),o.jsx($r,{onLogout:Zt}),o.jsx("main",{className:"min-h-screen",children:o.jsxs("div",{className:"w-full pt-2 px-2 sm:px-4 lg:px-6",children:[o.jsxs("section",{className:"hidden lg:block mb-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("h1",{className:"text-2xl font-semibold bg-gradient-to-r from-purple-300 via-pink-300 to-cyan-300 bg-clip-text text-transparent",children:"Deep Research Dashboard"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Advanced trading analysis with real-time market data"})]}),k&&o.jsxs("div",{className:"mt-4 p-4 bg-black/30 backdrop-blur-sm border border-purple-500/30 rounded-xl",children:[o.jsx("h3",{className:"text-sm font-semibold text-purple-300 mb-3",children:"Deep Research Scheduler"}),U&&!C?o.jsxs("div",{className:"text-center py-4",children:[o.jsx("span",{className:"w-6 h-6 border-2 border-purple-500/30 border-t-purple-500 rounded-full animate-spin inline-block"}),o.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Loading scheduler status..."})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Status"}),o.jsx("p",{className:`text-sm font-bold ${C!=null&&C.isRunning?"text-green-400":"text-gray-400"}`,children:C!=null&&C.isRunning?"Running":"Stopped"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Last Run"}),o.jsx("p",{className:"text-sm text-gray-300",children:C!=null&&C.lastRunTimestamp?new Date(C.lastRunTimestamp).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}):"Never"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Mode"}),o.jsx("p",{className:"text-sm text-gray-300 capitalize",children:(C==null?void 0:C.mode)||"rotate"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Auto-trade"}),o.jsx("p",{className:`text-sm font-bold ${C!=null&&C.autoTradeEnabled?"text-green-400":"text-gray-400"}`,children:C!=null&&C.autoTradeEnabled?`Enabled (${C.autoTradeThreshold||75}%)`:"Disabled"})]})]}),(C==null?void 0:C.nextRunTimestamps)&&C.nextRunTimestamps.length>0&&o.jsxs("div",{className:"mb-3",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Next Runs"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:C.nextRunTimestamps.map((H,me)=>{var de;return o.jsxs("span",{className:"text-xs text-gray-300 bg-black/40 px-2 py-1 rounded",children:[((de=C.intervals)==null?void 0:de[me])||"?","m: ",new Date(H).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})]},me)})})]}),o.jsxs("div",{className:"mt-3",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Run Interval (minutes)"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:[5,10,15,30,60].map(H=>o.jsxs("button",{onClick:()=>{const me=M.includes(H)?M.filter(de=>de!==H):[...M,H].sort((de,le)=>de-le);Te(me)},disabled:U,className:`px-3 py-1.5 rounded-lg text-xs font-semibold transition-all ${M.includes(H)?"bg-purple-600 text-white border border-purple-400":"bg-black/40 text-gray-300 border border-purple-500/30 hover:border-purple-400/60"} disabled:opacity-50`,children:[H,"m"]},H))})]})]})]})]}),(z||K||Oe)&&o.jsxs("div",{className:"mb-6 space-y-3",children:[z&&o.jsxs("div",{className:"p-4 rounded-xl border border-blue-500/30 bg-blue-900/20 text-blue-100 text-sm sm:text-base",children:[o.jsx("p",{className:"font-semibold",children:"Processing"}),o.jsx("p",{className:"text-blue-200",children:z})]}),K&&o.jsxs("div",{className:"p-4 rounded-xl border border-yellow-500/30 bg-yellow-900/20 text-yellow-100 text-sm sm:text-base",children:[o.jsx("p",{className:"font-semibold",children:"Warning"}),o.jsx("p",{className:"text-yellow-200",children:K})]}),Oe&&o.jsx(swe,{error:Oe,onRetry:Oe.retryable?De:void 0,onAddKeys:Oe.actionRequired==="add_keys"?gt:void 0,onDismiss:Et})]}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6",children:[o.jsxs("div",{className:"xl:col-span-4 space-y-4",children:[o.jsxs("div",{className:"bg-black/30 backdrop-blur-sm border border-white/20 rounded-xl p-4 shadow-md shadow-purple-500/10",children:[o.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Select Asset"}),o.jsxs("div",{className:"space-y-3 mb-4",children:[o.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-800/50 rounded-lg border border-slate-600/50",children:[o.jsx("span",{className:"text-sm text-gray-400",children:"Total Assets"}),o.jsx("span",{className:"text-sm font-semibold text-white",children:"24"})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-800/50 rounded-lg border border-slate-600/50",children:[o.jsx("span",{className:"text-sm text-gray-400",children:"Active Research"}),o.jsx("span",{className:"text-sm font-semibold text-green-400",children:m.length})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-800/50 rounded-lg border border-slate-600/50",children:[o.jsx("span",{className:"text-sm text-gray-400",children:"Last Updated"}),o.jsx("span",{className:"text-xs text-gray-300",children:"Live"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{type:"button",onClick:H=>{H.preventDefault(),H.stopPropagation(),console.log("Button clicked"),ie().catch(me=>{console.error("Unhandled error in handleDeepResearch:",me),A("Unexpected error occurred. Please try again.","critical"),y(!1)})},disabled:g,className:"w-full px-4 py-3 bg-gradient-to-r from-purple-600 via-pink-600 to-cyan-600 text-white font-semibold rounded-xl hover:from-purple-500 hover:via-pink-500 hover:to-cyan-500 transition-all duration-300 shadow-md shadow-purple-500/30 hover:shadow-purple-500/50 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-2",children:g?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Analyzing..."]}):o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Run Deep Research"]})}),o.jsx("button",{onClick:ye,className:"w-full px-4 py-3 bg-black/30 backdrop-blur-sm border border-white/20 text-gray-200 rounded-xl hover:bg-purple-500/20 hover:border-purple-400/60 transition-all duration-300 disabled:opacity-50 flex items-center justify-center gap-2 transform hover:scale-105 active:scale-95",disabled:n,children:n?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"w-4 h-4 border-2 border-purple-400/30 border-t-purple-400 rounded-full animate-spin"}),"Loading..."]}):o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh Data"]})})]}),(z||K)&&o.jsxs("div",{className:"mt-4 space-y-2",children:[z&&o.jsxs("div",{className:"p-3 rounded-lg border border-blue-500/30 bg-blue-900/20 text-blue-100 text-sm",children:[o.jsx("p",{className:"font-medium",children:"Processing"}),o.jsx("p",{className:"text-blue-200 text-xs",children:z})]}),K&&o.jsxs("div",{className:"p-3 rounded-lg border border-yellow-500/30 bg-yellow-900/20 text-yellow-100 text-sm",children:[o.jsx("p",{className:"font-medium",children:"Warning"}),o.jsx("p",{className:"text-yellow-200 text-xs",children:K})]})]})]}),k&&o.jsxs("div",{className:"bg-black/30 backdrop-blur-sm border border-white/20 rounded-xl p-4 shadow-md shadow-purple-500/10",children:[o.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Auto Scheduler"}),U&&!C?o.jsxs("div",{className:"text-center py-4",children:[o.jsx("span",{className:"w-6 h-6 border-2 border-purple-500/30 border-t-purple-500 rounded-full animate-spin inline-block"}),o.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Loading..."})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-3 mb-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-400",children:"Status"}),o.jsx("span",{className:`text-sm font-bold ${C!=null&&C.isRunning?"text-green-400":"text-gray-400"}`,children:C!=null&&C.isRunning?"Running":"Stopped"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-400",children:"Mode"}),o.jsx("span",{className:"text-sm text-gray-300 capitalize",children:(C==null?void 0:C.mode)||"rotate"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-400",children:"Auto-trade"}),o.jsx("span",{className:`text-sm font-bold ${C!=null&&C.autoTradeEnabled?"text-green-400":"text-gray-400"}`,children:C!=null&&C.autoTradeEnabled?"Enabled":"Disabled"})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Run Interval (minutes)"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:[5,10,15,30,60].map(H=>o.jsxs("button",{onClick:()=>{const me=M.includes(H)?M.filter(de=>de!==H):[...M,H].sort((de,le)=>de-le);Te(me)},disabled:U,className:`px-3 py-1.5 rounded-lg text-xs font-semibold transition-all ${M.includes(H)?"bg-purple-600 text-white border border-purple-400":"bg-slate-700/50 text-gray-300 border border-slate-600 hover:border-purple-400/60"} disabled:opacity-50`,children:[H,"m"]},H))})]})]})]})]}),o.jsxs("div",{className:"xl:col-span-8 space-y-4",children:[g&&o.jsxs("div",{className:"bg-black/30 backdrop-blur-sm border border-white/20 rounded-xl p-4 shadow-md shadow-purple-500/10",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-purple-500 via-pink-500 to-cyan-500 animate-pulse"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium bg-gradient-to-r from-purple-400 to-cyan-400 bg-clip-text text-transparent text-center",children:"Running Deep Research..."}),o.jsx("div",{className:"space-y-3",children:w.map((H,me)=>o.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-slate-800/50 border border-slate-600/50",children:[o.jsxs("div",{className:"flex-shrink-0 w-6 h-6 flex items-center justify-center",children:[H.status==="pending"&&o.jsx("span",{className:"w-2 h-2 bg-gray-500 rounded-full"}),H.status==="loading"&&o.jsx("div",{className:"w-4 h-4 border-2 border-purple-500/30 border-t-purple-500 rounded-full animate-spin"}),H.status==="success"&&o.jsx("span",{className:"text-green-400 text-lg",children:""}),H.status==="error"&&o.jsx("span",{className:"text-red-400 text-lg",children:""})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:`text-sm ${H.status==="success"?"text-green-300":H.status==="error"?"text-red-300":H.status==="loading"?"text-purple-300":"text-gray-400"}`,children:H.step}),H.error&&o.jsx("p",{className:"text-xs text-red-400 mt-1",children:H.error})]})]},me))})]})]}),o.jsxs("div",{className:"bg-black/30 backdrop-blur-sm border border-white/20 rounded-xl p-4 shadow-md shadow-purple-500/10",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-purple-500 via-pink-500 to-cyan-500"}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-cyan-400 bg-clip-text text-transparent mb-1",children:"Deep Research Report"}),o.jsxs("p",{className:"text-xs sm:text-sm text-gray-400 flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full animate-pulse"}),"Full deep research analysis with complete signals"]})]})}),g?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-500/10 flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"w-8 h-8 border-4 border-purple-500/30 border-t-purple-500 rounded-full animate-spin"})}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Running deep research..."})]}):m.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-500/10 flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),o.jsx("p",{className:"text-gray-400 text-sm",children:"No deep research results yet. Run deep research to see results here."}),o.jsx("p",{className:"text-gray-500 text-xs mt-2",children:"No fake or dummy data will be shown."})]}):o.jsx("div",{className:"space-y-4",children:m.map((H,me)=>{var qn;if(H.error||H.success===!1)return o.jsxs("div",{className:"bg-red-500/10 backdrop-blur-sm rounded-xl p-5 border border-red-500/30",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("svg",{className:"w-6 h-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsx("h3",{className:"text-lg font-bold text-red-300",children:"API Request Failed"})]}),o.jsxs("p",{className:"text-sm text-red-200 mb-2",children:["Symbol: ",H.symbol||"N/A"]}),o.jsxs("p",{className:"text-sm text-red-300",children:["Error: ",H.error||"Unknown error"]}),H.timestamp&&o.jsxs("p",{className:"text-xs text-red-400 mt-2",children:[new Date(H.timestamp).toLocaleString("en-IN",{timeZone:"Asia/Kolkata",dateStyle:"short",timeStyle:"medium"})," IST"]})]},H.id||me);if(!H.symbol)return null;const de=H.apiCalls||H.apis;let le=[];de&&(Array.isArray(de)?le=de:typeof de=="object"&&(le=Object.keys(de).filter(ln=>de[ln]&&typeof de[ln]=="object")));const Ge=H.exits||H.exitTargets||[],Nt=Array.isArray(Ge)?Ge.filter(ln=>ln!=null&&typeof ln=="number"&&!isNaN(ln)):[],qe={symbol:H.symbol,signal:H.signal||"HOLD",accuracy:H.accuracy||0,orderbookImbalance:H.orderbookImbalance||0,recommendedAction:H.recommendedAction||"",microSignals:H.microSignals||{spread:0,volume:0,priceMomentum:0,orderbookDepth:0},entry:H.entry??null,exits:Nt,stopLoss:H.stopLoss??null,takeProfit:H.takeProfit??null,side:H.side||"NEUTRAL",confidence:H.confidence||Math.round((H.accuracy||0)*100),timeframe:H.timeframe||"5m",signals:void 0,liveAnalysis:H.liveAnalysis||void 0,message:H.message,currentPrice:H.currentPrice||0,mode:H.mode||"NORMAL",recommendedTrade:H.recommendedTrade||null,blurFields:H.blurFields||!1,apiCalls:le,exchange:H.exchange,timestamp:H.timestamp,exchangeError:H.exchangeError,explanations:H.explanations||[],accuracyRange:H.accuracyRange,rsi5:H.rsi5??null,rsi14:H.rsi14??null,trendAnalysis:H.trendAnalysis??null,confidenceBreakdown:H.confidenceBreakdown??null,exchangeTickers:H.exchangeTickers??void 0,exchangeOrderbooks:H.exchangeOrderbooks??void 0,exchangeCount:H.exchangeCount??((qn=H.exchangesUsed)==null?void 0:qn.length)??0,exchangesUsed:H.exchangesUsed??[],autoTradeDecision:H.autoTradeDecision??void 0,features:H.features??void 0,perFeatureScore:H.perFeatureScore??void 0,apisUsed:H.apisUsed??void 0,rawConfidence:H.rawConfidence??void 0,smoothedConfidence:H.smoothedConfidence??void 0,confluenceFlags:H.confluenceFlags??void 0,volumeConfirmed:H.volumeConfirmed??void 0,derivativesContradict:H.derivativesContradict??void 0,diagnostics:H.diagnostics??void 0};return o.jsx(iwe,{report:qe},H.id||me)})})]}),i&&i.symbol&&o.jsxs("div",{className:"relative bg-black/30 backdrop-blur-xl border border-cyan-500/30 rounded-2xl p-6 shadow-2xl shadow-cyan-500/10 hover:shadow-cyan-500/20 transition-all duration-300 overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-cyan-500 via-blue-500 to-purple-500"}),o.jsx("div",{className:"flex items-center justify-between mb-6",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent mb-1",children:"Live Research"}),o.jsxs("p",{className:"text-xs text-gray-400 flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 bg-cyan-400 rounded-full animate-pulse"}),"Real-time updates"]})]})}),o.jsxs("div",{className:"bg-gradient-to-br from-cyan-500/10 via-blue-500/10 to-purple-500/10 border border-cyan-400/30 rounded-xl p-5 mb-4 backdrop-blur-sm",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 flex-1",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-400",children:"Symbol"}),o.jsx("div",{className:"font-semibold text-white",children:i.symbol})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-400",children:"Signal"}),o.jsx("div",{className:`font-semibold ${i.signal==="BUY"?"text-green-400":i.signal==="SELL"?"text-red-400":"text-gray-400"}`,children:i.signal})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-400",children:"Accuracy"}),o.jsxs("div",{className:`font-semibold ${i.accuracy>=.85?"text-green-400":i.accuracy>=.7?"text-yellow-400":"text-red-400"}`,children:[((i.accuracy??0)*100).toFixed(1),"%"]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-400",children:"Imbalance"}),o.jsxs("div",{className:"font-semibold text-white",children:[((i.orderbookImbalance??0)*100).toFixed(2),"%"]})]})]}),o.jsx("div",{className:"ml-4",children:nt(i.accuracy)&&i.signal!=="HOLD"?o.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-green-500/20 text-green-300 border border-green-400/30",children:" Can Execute"}):o.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-yellow-500/20 text-yellow-300 border border-yellow-400/30",children:" Will Skip"})})]}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-400/20",children:[o.jsx("div",{className:"text-sm text-gray-400",children:"Action"}),o.jsx("div",{className:"font-medium text-white",children:i.recommendedAction}),c&&o.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:["Strategy: ",c.strategy||"orderbook_imbalance"," | Threshold: ",(c.minAccuracyThreshold||.85)*100,"% | Auto-Trade: ",c.autoTradeEnabled?"Enabled":"Disabled"]})]})]})]})]})]})]})}),a&&o.jsx(bt,{message:a.message,type:a.type})]})}const owe=E.memo(function({config:e,loading:n,isApiConnected:r,onUpdate:i,onSave:s,onEnableToggle:a,isConfigValid:l}){const c=async()=>{await s(e)};return o.jsxs("div",{className:"bg-black/30 backdrop-blur-xl border border-purple-500/30 rounded-2xl p-6",children:[o.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-purple-400 to-cyan-400 bg-clip-text text-transparent mb-4",children:"Trading Configuration"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-black/40 rounded-lg",children:[o.jsx("span",{className:"text-sm text-gray-300",children:"Enable Auto-Trade"}),o.jsx("button",{onClick:()=>a(!e.autoTradeEnabled),disabled:n,className:`relative w-12 h-6 rounded-full transition-colors ${e.autoTradeEnabled?"bg-green-500":"bg-gray-600"} ${r?"":"opacity-50 cursor-not-allowed"}`,"aria-label":e.autoTradeEnabled?"Disable Auto-Trade":"Enable Auto-Trade",title:r?"":"Connect exchange API first",children:o.jsx("span",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform ${e.autoTradeEnabled?"translate-x-6":""}`})})]}),!r&&o.jsx("p",{className:"text-xs text-yellow-400 -mt-2",children:"Connect your exchange API to enable Auto-Trade"}),o.jsxs("div",{className:"space-y-3 pt-3 border-t border-purple-500/20",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Per-Trade Risk (%)"}),o.jsx("input",{type:"number",min:"0.1",max:"10",step:"0.1",value:e.perTradeRiskPct,onChange:u=>i({perTradeRiskPct:parseFloat(u.target.value)||0}),disabled:n,className:"w-full px-3 py-2 bg-black/40 border border-purple-500/40 rounded-lg text-white focus:outline-none focus:border-purple-400 disabled:opacity-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Max Concurrent Trades"}),o.jsx("input",{type:"number",min:"1",max:"10",value:e.maxConcurrentTrades,onChange:u=>i({maxConcurrentTrades:parseInt(u.target.value)||0}),disabled:n,className:"w-full px-3 py-2 bg-black/40 border border-purple-500/40 rounded-lg text-white focus:outline-none focus:border-purple-400 disabled:opacity-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Max Daily Loss (%)"}),o.jsx("input",{type:"number",min:"0.5",max:"50",step:"0.5",value:e.maxDailyLossPct,onChange:u=>i({maxDailyLossPct:parseFloat(u.target.value)||0}),disabled:n,className:"w-full px-3 py-2 bg-black/40 border border-purple-500/40 rounded-lg text-white focus:outline-none focus:border-purple-400 disabled:opacity-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Stop Loss (%)"}),o.jsx("input",{type:"number",min:"0.5",max:"10",step:"0.1",value:e.stopLossPct,onChange:u=>i({stopLossPct:parseFloat(u.target.value)||0}),disabled:n,className:"w-full px-3 py-2 bg-black/40 border border-purple-500/40 rounded-lg text-white focus:outline-none focus:border-purple-400 disabled:opacity-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Take Profit (%)"}),o.jsx("input",{type:"number",min:"0.5",max:"20",step:"0.1",value:e.takeProfitPct,onChange:u=>i({takeProfitPct:parseFloat(u.target.value)||0}),disabled:n,className:"w-full px-3 py-2 bg-black/40 border border-purple-500/40 rounded-lg text-white focus:outline-none focus:border-purple-400 disabled:opacity-50"})]})]}),o.jsx("div",{className:"pt-4 border-t border-purple-500/20",children:o.jsx("button",{onClick:c,disabled:n||!l,className:"w-full px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-xl hover:from-purple-500 hover:to-pink-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Saving...":"Save Configuration"})})]})]})}),lwe=E.memo(function({activities:e=[],loading:n}){const r=e.length>0?e.slice(0,10):[{id:"1",timestamp:new Date().toISOString(),type:"signal",message:"No recent activity"}];return o.jsxs("div",{className:"bg-black/30 backdrop-blur-xl border border-purple-500/30 rounded-2xl p-6",children:[o.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-purple-400 to-cyan-400 bg-clip-text text-transparent mb-4",children:"Recent Activity"}),o.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:n?o.jsx("div",{className:"space-y-2",children:[1,2,3].map(i=>o.jsxs("div",{className:"animate-pulse p-3 bg-black/40 rounded-lg",children:[o.jsx("div",{className:"h-4 bg-gray-700/50 rounded w-3/4 mb-2"}),o.jsx("div",{className:"h-3 bg-gray-700/50 rounded w-1/2"})]},i))}):r.length===0?o.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"No recent activity"}):r.map(i=>o.jsxs("div",{className:"flex items-start gap-3 p-3 bg-black/40 rounded-lg hover:bg-black/60 transition-colors",children:[o.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${i.type==="trade"?"bg-green-400":i.type==="error"?"bg-red-400":"bg-blue-400"}`}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-sm text-white mb-1",children:i.message}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[o.jsx(nH,{className:"w-3 h-3"}),o.jsx("span",{children:new Date(i.timestamp).toLocaleString()}),i.symbol&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsx("span",{children:i.symbol})]})]})]})]},i.id))})]})});function cwe(){const{user:t}=$e();$t();const{showError:e}=kf(),{addNotification:n}=Ac(),[r,i]=E.useState(!1),[s,a]=E.useState(!1),[l,c]=E.useState(null),[u,d]=E.useState({autoTradeEnabled:!1,perTradeRiskPct:1,maxConcurrentTrades:3,maxDailyLossPct:5,stopLossPct:1.5,takeProfitPct:3,manualOverride:!1}),[f,p]=E.useState(null),[v,g]=E.useState(!1),[y,m]=E.useState(!1),[x,w]=E.useState([]),[b,T]=E.useState([]);E.useEffect(()=>{t&&(N(),A())},[t]),E.useEffect(()=>{if(!t)return;const $=L=>{var F,W;if(L.type==="trade:executed"&&L.data){const K=L.data,Y={id:`trade_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,symbol:K.symbol,side:K.side,orderId:K.orderId,entry:K.entry,stopLoss:K.stopLoss||null,takeProfit:K.takeProfit||null,confidence:K.confidence,threshold:K.threshold,quantity:K.quantity,timestamp:K.timestamp||new Date().toISOString()};w(oe=>[Y,...oe].slice(0,50));const z={id:`activity_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:Y.timestamp,type:"trade",message:`Auto-trade executed: ${K.side} ${K.symbol} @ $${((F=K.entry)==null?void 0:F.toFixed(2))||"N/A"} (Confidence: ${K.confidence}%)`,symbol:K.symbol};T(oe=>[z,...oe].slice(0,100)),n({title:"Auto-Trade Executed",message:`${K.side} ${K.symbol} @ $${((W=K.entry)==null?void 0:W.toFixed(2))||"N/A"} (${K.confidence}% confidence)`,type:"success"})}},M=yo.subscribe("trade:executed",$);return()=>{M()}},[t,n]);const N=async()=>{if(t)try{const $=await kr(On(pn,"users",t.uid));if($.exists()){const M=$.data();i(M.role==="admin"||M.isAdmin===!0)}}catch($){console.error("Error checking admin role:",$)}},A=E.useCallback(async()=>{if(t)try{const $=await to.getStatus();c($.data),$.data.config&&d(M=>{var L,F,W,K,Y;return{...M,perTradeRiskPct:((L=$.data.config)==null?void 0:L.perTradeRiskPct)??M.perTradeRiskPct,maxConcurrentTrades:((F=$.data.config)==null?void 0:F.maxConcurrentTrades)??M.maxConcurrentTrades,maxDailyLossPct:((W=$.data.config)==null?void 0:W.maxDailyLossPct)??M.maxDailyLossPct,stopLossPct:((K=$.data.config)==null?void 0:K.stopLossPct)??M.stopLossPct,takeProfitPct:((Y=$.data.config)==null?void 0:Y.takeProfitPct)??M.takeProfitPct}})}catch{}},[t]),_=z5(),S=E.useCallback(async $=>{if(t){if($){if(!_.isApiConnected){m(!0);return}if(!_.allRequiredAPIsConnected){const M=_.missingAPIs.map(L=>L.charAt(0).toUpperCase()+L.slice(1)).join(", ");e(`Please submit all required APIs to enable Auto-Trade Mode. Missing: ${M}`,"validation");return}}try{await _.toggle(),await A(),p({message:$?"Auto-Trade enabled successfully":"Auto-Trade disabled successfully",type:"success"})}catch(M){const{message:L,type:F}=Nl(M);e(L,F)}}},[t,_,A,e]),k=E.useCallback(async $=>{if(t){a(!0);try{await to.updateConfig($),d(M=>({...M,...$})),p({message:"Trading configuration updated!",type:"success"}),await A()}catch(M){const{message:L,type:F}=Nl(M);e(L,F)}finally{a(!1)}}},[t,A,e]),O=E.useCallback(async $=>{d(M=>({...M,...$}))},[]),P=E.useCallback(async()=>{if(!r){e("Only admins can reset circuit breaker","auth");return}a(!0);try{await to.resetCircuitBreaker(),p({message:"Circuit breaker reset successfully",type:"success"}),await A()}catch($){const{message:M,type:L}=Nl($);e(M,L)}finally{a(!1)}},[r,A,e]);E.useCallback(($,M)=>{p({message:$,type:M}),setTimeout(()=>p(null),3e3)},[]);const R=E.useCallback(async()=>{const{signOut:$}=await Qt(async()=>{const{signOut:L}=await Promise.resolve().then(()=>ba);return{signOut:L}},void 0),{auth:M}=await Qt(async()=>{const{auth:L}=await Promise.resolve().then(()=>bs);return{auth:L}},void 0);await $(M),localStorage.removeItem("firebaseToken"),localStorage.removeItem("firebaseUser"),window.location.href="/login"},[]),C=E.useMemo(()=>l!=null&&l.stats&&l.stats.totalTrades>0?(l.stats.winningTrades/l.stats.totalTrades*100).toFixed(1):"0.0",[l==null?void 0:l.stats]),V=E.useMemo(()=>l?l.enabled?{text:"Enabled",color:"text-green-400"}:{text:"Disabled",color:"text-gray-400"}:{text:"Loading...",color:"text-gray-400"},[l]),U=E.useMemo(()=>u.perTradeRiskPct>=.1&&u.perTradeRiskPct<=10&&u.maxConcurrentTrades>=1&&u.maxConcurrentTrades<=10&&u.maxDailyLossPct>=.5&&u.maxDailyLossPct<=50&&u.stopLossPct>=.5&&u.stopLossPct<=10&&u.takeProfitPct>=.5&&u.takeProfitPct<=20,[u]);return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0a0f1c] via-[#101726] to-[#0a0f1c] pb-20 lg:pb-0 relative overflow-hidden",children:[o.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-purple-500/30 rounded-full mix-blend-screen filter blur-3xl animate-blob"}),o.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-cyan-500/30 rounded-full mix-blend-screen filter blur-3xl animate-blob animation-delay-2000"}),o.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px] opacity-40"})]}),o.jsx($r,{onLogout:R}),o.jsx("main",{className:"min-h-screen relative z-10",children:o.jsxs("div",{className:"max-w-7xl mx-auto pt-2 px-4 sm:px-6 lg:px-8",children:[o.jsx("section",{className:"mb-4",children:o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("h1",{className:"text-2xl font-semibold bg-gradient-to-r from-purple-300 via-pink-300 to-cyan-300 bg-clip-text text-transparent",children:"Auto-Trade"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-300 max-w-3xl",children:"Automated trading with risk management and safety controls"})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("span",{className:`text-sm font-semibold ${V.color}`,children:V.text})})]})}),o.jsx("div",{className:"mb-6",children:o.jsx(K5,{onConnectClick:()=>g(!0)})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-4",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[o.jsxs("div",{className:"bg-black/30 backdrop-blur-xl border border-purple-500/30 rounded-2xl p-6",children:[o.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-purple-400 to-cyan-400 bg-clip-text text-transparent mb-4",children:"Trading Status"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Active Trades"}),o.jsxs("div",{className:"text-lg font-bold text-white",children:[(l==null?void 0:l.activeTrades)||0," / ",u.maxConcurrentTrades]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Daily P&L"}),o.jsxs("div",{className:`text-lg font-bold ${((l==null?void 0:l.dailyPnL)||0)>=0?"text-green-400":"text-red-400"}`,children:["$",((l==null?void 0:l.dailyPnL)||0).toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Daily Trades"}),o.jsx("div",{className:"text-lg font-bold text-white",children:(l==null?void 0:l.dailyTrades)||0})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Equity"}),o.jsxs("div",{className:"text-lg font-bold text-white",children:["$",((l==null?void 0:l.equity)||0).toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Engine Status"}),o.jsx("div",{className:`text-lg font-bold ${l!=null&&l.engineRunning?"text-green-400":"text-gray-400"}`,children:l!=null&&l.engineRunning?" Running":" Stopped"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"API Connection"}),o.jsx("div",{className:`text-lg font-bold ${l!=null&&l.isApiConnected?"text-green-400":"text-red-400"}`,children:l!=null&&l.isApiConnected?"Connected":"Disconnected"})]})]}),(l==null?void 0:l.circuitBreaker)&&o.jsxs("div",{className:"mt-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-red-400 font-semibold",children:" Circuit Breaker Active"}),r&&o.jsx("button",{onClick:P,className:"px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700",children:"Reset"})]}),o.jsx("p",{className:"text-xs text-red-300 mt-1",children:"Daily loss limit exceeded. Trading paused."})]}),(l==null?void 0:l.manualOverride)&&o.jsxs("div",{className:"mt-4 p-3 bg-yellow-500/20 border border-yellow-500/50 rounded-lg",children:[o.jsx("span",{className:"text-yellow-400 font-semibold",children:" Manual Override Active"}),o.jsx("p",{className:"text-xs text-yellow-300 mt-1",children:"Trading paused for manual review."})]})]}),(l==null?void 0:l.stats)&&o.jsxs("div",{className:"bg-black/30 backdrop-blur-xl border border-purple-500/30 rounded-2xl p-6",children:[o.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-purple-400 to-cyan-400 bg-clip-text text-transparent mb-4",children:"Trading Statistics"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Total Trades"}),o.jsx("div",{className:"text-2xl font-bold text-white",children:l.stats.totalTrades})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Win Rate"}),o.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[C,"%"]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Total P&L"}),o.jsxs("div",{className:`text-2xl font-bold ${l.stats.totalPnL>=0?"text-green-400":"text-red-400"}`,children:["$",l.stats.totalPnL.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"W/L Ratio"}),o.jsxs("div",{className:"text-2xl font-bold text-white",children:[l.stats.winningTrades,"/",l.stats.losingTrades]})]})]})]}),o.jsx(owe,{config:u,loading:s,isApiConnected:(l==null?void 0:l.isApiConnected)??!1,onUpdate:O,onSave:k,onEnableToggle:S,isConfigValid:U}),x.length>0&&o.jsxs("div",{className:"bg-black/30 backdrop-blur-xl border border-purple-500/30 rounded-2xl p-6",children:[o.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-purple-400 to-cyan-400 bg-clip-text text-transparent mb-4",children:"Auto-Trade Executions"}),o.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:x.map($=>o.jsxs("div",{className:"p-4 bg-black/40 rounded-lg border border-purple-500/20 hover:border-purple-500/40 transition-colors",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:`px-3 py-1 rounded-lg text-xs font-bold ${$.side==="LONG"?"bg-green-500/20 text-green-300 border border-green-500/30":"bg-red-500/20 text-red-300 border border-red-500/30"}`,children:$.side}),o.jsx("span",{className:"text-white font-semibold",children:$.symbol})]}),o.jsx("span",{className:"text-xs text-gray-400",children:new Date($.timestamp).toLocaleString()})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Entry"}),o.jsxs("div",{className:"text-sm font-semibold text-white",children:["$",$.entry.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Confidence"}),o.jsxs("div",{className:`text-sm font-semibold ${$.confidence>=$.threshold?"text-green-400":"text-yellow-400"}`,children:[$.confidence,"% (",$.threshold,"%)"]})]}),$.takeProfit&&o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Take Profit"}),o.jsxs("div",{className:"text-sm font-semibold text-green-400",children:["$",$.takeProfit.toFixed(2)]})]}),$.stopLoss&&o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Stop Loss"}),o.jsxs("div",{className:"text-sm font-semibold text-red-400",children:["$",$.stopLoss.toFixed(2)]})]})]}),o.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:["Order ID: ",$.orderId,"  Quantity: ",$.quantity.toFixed(4)]})]},$.id))})]}),o.jsx(lwe,{activities:b})]}),o.jsx("div",{className:"space-y-4"})]}),o.jsx("div",{className:"mt-8 pt-6 border-t border-purple-500/20",children:o.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-xl",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"text-2xl",children:""}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-yellow-400 font-semibold mb-1",children:"Trading Risk Disclaimer"}),o.jsx("p",{className:"text-sm text-gray-300",children:"Trading involves risk. Past performance is no guarantee of future results. You may lose money when trading. Only trade with funds you can afford to lose. This system does not guarantee profits or prevent losses."})]})]})})}),v&&o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-slate-800 border border-purple-500/50 rounded-2xl shadow-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-slate-800/95 backdrop-blur-xl border-b border-purple-500/30 px-6 py-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:"Exchange Accounts"}),o.jsx("button",{onClick:()=>{g(!1),A()},className:"text-gray-400 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-lg",children:""})]}),o.jsx("div",{className:"p-6",children:o.jsx(Hj,{})})]})}),y&&o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-slate-800 border border-purple-500/50 rounded-2xl shadow-lg max-w-md w-full p-6",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Exchange API Required"}),o.jsx("p",{className:"text-gray-300 mb-6",children:"Please connect your exchange API before enabling Auto-Trade."}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>{m(!1),g(!0)},className:"flex-1 px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-lg hover:from-purple-500 hover:to-pink-500 transition-all",children:"Connect Exchange"}),o.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 bg-gray-700 text-gray-200 font-semibold rounded-lg hover:bg-gray-600 transition-all",children:"Cancel"})]})]})})]})}),f&&o.jsx(bt,{message:f.message,type:f.type})]})}const Wh={cryptocompare:{name:"cryptocompare",displayName:"CryptoCompare API",requiresSecret:!1,description:"On-chain analytics and market intelligence",icon:"",gradient:"from-blue-500/20 via-cyan-500/20 to-teal-500/20"},marketaux:{name:"marketaux",displayName:"MarketAux API",requiresSecret:!1,description:"News sentiment and market analytics",icon:"",gradient:"from-purple-500/20 via-pink-500/20 to-rose-500/20"},binance:{name:"binance",displayName:"Binance Public API",requiresSecret:!1,description:"Free market data, candles, and orderbook",icon:"",gradient:"from-orange-500/20 via-yellow-500/20 to-amber-500/20"},coingecko:{name:"coingecko",displayName:"CoinGecko API",requiresSecret:!1,description:"Free historical price and volume data",icon:"",gradient:"from-emerald-500/20 via-green-500/20 to-teal-500/20"},googlefinance:{name:"googlefinance",displayName:"Google Finance",requiresSecret:!1,description:"Free exchange rate conversion",icon:"",gradient:"from-blue-500/20 via-indigo-500/20 to-purple-500/20"}};function uwe(){const{addNotification:t}=Ac(),[e,n]=E.useState({binance:{enabled:!0,apiKey:null,secretKey:null},cryptocompare:{enabled:!1,apiKey:null,secretKey:null},marketaux:{enabled:!1,apiKey:null,secretKey:null},coingecko:{enabled:!0,apiKey:null,secretKey:null},googlefinance:{enabled:!0,apiKey:null,secretKey:null}}),[r,i]=E.useState(!1),[s,a]=E.useState(null),[l,c]=E.useState(null),[u,d]=E.useState(null),[f,p]=E.useState({apiKey:"",secretKey:""});E.useEffect(()=>{v()},[]);const v=async()=>{var _,S;try{i(!0);const O=(await ii.load()).data,P={cryptocompare:{enabled:!1,apiKey:null,secretKey:null},marketaux:{enabled:!1,apiKey:null,secretKey:null},binance:{enabled:!0,apiKey:null,secretKey:null},coingecko:{enabled:!0,apiKey:null,secretKey:null},googlefinance:{enabled:!0,apiKey:null,secretKey:null}};["cryptocompare","marketaux","binance","coingecko","googlefinance"].forEach(R=>{const C=R;if(O[C]){const V=["binance","coingecko","googlefinance"].includes(C);P[C]={enabled:V?!0:O[C].enabled||!1,apiKey:O[C].apiKey||null,secretKey:O[C].secretKey||null,updatedAt:O[C].updatedAt}}}),n(P)}catch(k){g(((S=(_=k.response)==null?void 0:_.data)==null?void 0:S.error)||"Error loading integrations","error")}finally{i(!1)}},g=(_,S)=>{a({message:_,type:S}),setTimeout(()=>a(null),3e3)},y=async _=>{var P,R;if(["binance","coingecko","googlefinance"].includes(_))return;if(!!e[_].enabled){try{i(!0),await ii.update({apiName:_,enabled:!1}),n(C=>({...C,[_]:{...C[_],enabled:!1}})),d(null),g(`${Wh[_].displayName} disabled`,"success")}catch(C){g(((R=(P=C.response)==null?void 0:P.data)==null?void 0:R.error)||"Error updating integration","error")}finally{i(!1)}return}d(_),c({apiName:_}),p({apiKey:"",secretKey:""})},m=_=>{c({apiName:_}),d(_),p({apiKey:"",secretKey:""})},x=_=>{m(_)},w=async _=>{var k,O;const S=Wh[_];if(!f.apiKey.trim()){g("API key is required","error");return}if(S.requiresSecret&&!f.secretKey.trim()){g("Secret key is required","error");return}try{i(!0),await ii.update({apiName:_,enabled:!0,apiKey:f.apiKey.trim(),secretKey:S.requiresSecret?f.secretKey.trim():void 0}),await v(),c(null),p({apiKey:"",secretKey:""}),g(`${S.displayName} saved successfully`,"success"),await t({title:"API Connected Successfully",message:`${S.displayName} has been connected and configured`,type:"success"})}catch(P){const R=((O=(k=P.response)==null?void 0:k.data)==null?void 0:O.error)||P.message||"Error saving integration";g(R,"error"),await t({title:"API Connection Failed",message:`${S.displayName}: ${R}`,type:"error"})}finally{i(!1)}},b=async _=>{var k,O;const S=Wh[_].displayName;if(confirm(`Are you sure you want to delete ${S} integration?`))try{i(!0),await ii.delete(_),await v(),d(null),g(`${S} deleted`,"success")}catch(P){g(((O=(k=P.response)==null?void 0:k.data)==null?void 0:O.error)||"Error deleting integration","error")}finally{i(!1)}},T=_=>{u===_?(d(null),c(null)):d(_)},N=_=>(l==null?void 0:l.apiName)===_,A=_=>["binance","coingecko","googlefinance"].includes(_)?e[_].enabled:e[_].enabled&&e[_].apiKey;return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"border-t border-purple-500/20 pt-6 mt-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Research API Integration"}),o.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Connect and manage your research API integrations. All keys are encrypted and stored securely."}),r&&o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-400"})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:["cryptocompare","marketaux","binance","coingecko","googlefinance"].map(_=>{const S=Wh[_],k=e[_],O=u===_,P=A(_);return o.jsx("div",{className:`relative bg-gradient-to-br ${S.gradient} backdrop-blur-xl rounded-2xl border border-purple-500/30 shadow-2xl transition-all duration-300 hover:scale-[1.02] hover:shadow-purple-500/20 ${P?"ring-2 ring-green-400/50":""}`,children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[o.jsx("div",{className:"text-4xl",children:S.icon}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("h3",{className:"text-xl font-semibold text-white",children:S.displayName}),P?o.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-500/20 text-green-300 border border-green-400/30",children:[o.jsx(aa,{className:"w-3 h-3 mr-1"}),"Connected"]}):o.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-500/20 text-gray-300 border border-gray-400/30",children:[o.jsx(bi,{className:"w-3 h-3 mr-1"}),"Not Connected"]})]}),o.jsx("p",{className:"text-sm text-gray-300",children:S.description})]})]}),o.jsx("button",{onClick:()=>T(_),className:"ml-4 p-2 text-gray-400 hover:text-white transition-colors",children:O?o.jsx(eH,{className:"w-5 h-5"}):o.jsx(c5,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"flex items-center justify-between",children:["binance","coingecko","googlefinance"].includes(_)?o.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-500/20 text-green-300 border border-green-400/30",children:[o.jsx(aa,{className:"w-3 h-3 mr-1"}),"Connected (Free API)"]}):o.jsxs("label",{className:"flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:k.enabled,onChange:()=>y(_),disabled:r,className:"sr-only"}),o.jsx("div",{className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${k.enabled?"bg-purple-500":"bg-gray-600"}`,children:o.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${k.enabled?"translate-x-6":"translate-x-1"}`})}),o.jsx("span",{className:"ml-3 text-sm font-medium text-gray-300",children:k.enabled?"Enabled":"Disabled"})]})}),O&&(["binance","coingecko","googlefinance"].includes(_)?o.jsx("div",{className:"mt-6 pt-6 border-t border-purple-500/30 animate-fade-in",children:o.jsxs("div",{className:"text-center py-4",children:[o.jsx("div",{className:"text-sm text-gray-300 mb-2",children:" This free API is active and ready to use!"}),o.jsx("div",{className:"text-xs text-gray-400",children:"No API key or configuration required."})]})}):o.jsx("div",{className:"mt-6 pt-6 border-t border-purple-500/30 animate-fade-in",children:N(_)?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-medium text-gray-400 mb-1.5",children:["API Key ",o.jsx("span",{className:"text-red-400",children:"*"})]}),o.jsx("input",{type:"text",className:"w-full px-3 py-2.5 text-sm bg-slate-800/50 backdrop-blur-sm border border-purple-500/30 rounded-lg text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",value:f.apiKey,onChange:C=>p({...f,apiKey:C.target.value}),placeholder:"Enter your API key"})]}),S.requiresSecret&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-medium text-gray-400 mb-1.5",children:["Secret Key ",o.jsx("span",{className:"text-red-400",children:"*"})]}),o.jsx("input",{type:"password",className:"w-full px-3 py-2.5 text-sm bg-slate-800/50 backdrop-blur-sm border border-purple-500/30 rounded-lg text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",value:f.secretKey,onChange:C=>p({...f,secretKey:C.target.value}),placeholder:"Enter your secret key"})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 pt-2",children:[o.jsx("button",{onClick:()=>{c(null),p({apiKey:"",secretKey:""})},className:"btn-mobile-full px-4 py-2.5 text-sm font-medium text-gray-200 bg-slate-700/50 backdrop-blur-sm border border-purple-500/30 rounded-lg hover:bg-slate-700/70 transition-all",disabled:r,children:"Cancel"}),o.jsx("button",{onClick:()=>w(_),className:"btn-mobile-full px-4 py-2.5 text-sm font-medium text-white bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-purple-500/50",disabled:r,children:r?"Connecting...":"Connect API"})]})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1.5",children:"API Key"}),o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-slate-800/50 backdrop-blur-sm rounded-lg border border-purple-500/20",children:[o.jsx(Gl,{className:"w-4 h-4 text-purple-400"}),o.jsx("span",{className:"text-sm font-mono text-gray-300 flex-1",children:k.apiKey||"Not configured"})]})]}),S.requiresSecret&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1.5",children:"Secret Key"}),o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-slate-800/50 backdrop-blur-sm rounded-lg border border-purple-500/20",children:[o.jsx(Qx,{className:"w-4 h-4 text-purple-400"}),o.jsx("span",{className:"text-sm font-mono text-gray-300 flex-1",children:k.secretKey||"Not configured"})]})]}),k.updatedAt&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1.5",children:"Last Updated"}),o.jsx("div",{className:"text-xs text-gray-400",children:new Date(k.updatedAt).toLocaleString()})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 pt-2",children:[o.jsxs("button",{onClick:()=>m(_),className:"btn-mobile-full inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-gray-200 bg-slate-700/50 backdrop-blur-sm border border-purple-500/30 rounded-lg hover:bg-slate-700/70 transition-all",children:[o.jsx(lH,{className:"w-4 h-4 mr-2"}),"Edit"]}),o.jsxs("button",{onClick:()=>x(_),className:"btn-mobile-full inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-gray-200 bg-slate-700/50 backdrop-blur-sm border border-purple-500/30 rounded-lg hover:bg-slate-700/70 transition-all",children:[o.jsx(Zg,{className:"w-4 h-4 mr-2"}),"Rotate"]}),o.jsxs("button",{onClick:()=>b(_),className:"btn-mobile-full inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-red-300 bg-red-900/30 backdrop-blur-sm border border-red-500/30 rounded-lg hover:bg-red-900/50 transition-all",children:[o.jsx(pH,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})}))]})},_)})})]}),s&&o.jsx(bt,{message:s.message,type:s.type})]})}function dwe(){const{user:t}=$e(),[e,n]=E.useState(!1),[r,i]=E.useState(!1),[s,a]=E.useState(null),[l,c]=E.useState(null),[u,d]=E.useState(null);E.useEffect(()=>{t&&(p(),f())},[t]);const f=async()=>{try{const m=await Sl.load()}catch(m){console.error("Error loading global settings:",m)}},p=async()=>{var m,x;if(t){n(!0);try{const w=await Sl.load();w.data?d({symbol:w.data.symbol||"BTCUSDT",quoteSize:w.data.quoteSize||.001,adversePct:w.data.adversePct||2e-4,cancelMs:w.data.cancelMs||40,maxPos:w.data.maxPos||.01,minAccuracyThreshold:w.data.minAccuracyThreshold||.85,strategy:w.data.strategy||"orderbook_imbalance",max_loss_pct:w.data.max_loss_pct||5,max_drawdown_pct:w.data.max_drawdown_pct||10,per_trade_risk_pct:w.data.per_trade_risk_pct||1}):d({symbol:"BTCUSDT",quoteSize:.001,adversePct:2e-4,cancelMs:40,maxPos:.01,minAccuracyThreshold:.85,strategy:"orderbook_imbalance",max_loss_pct:5,max_drawdown_pct:10,per_trade_risk_pct:1})}catch(w){console.error("Error loading settings:",w),g(((x=(m=w.response)==null?void 0:m.data)==null?void 0:x.error)||"Error loading settings","error"),d({symbol:"BTCUSDT",quoteSize:.001,adversePct:2e-4,cancelMs:40,maxPos:.01,minAccuracyThreshold:.85,strategy:"orderbook_imbalance",max_loss_pct:5,max_drawdown_pct:10,per_trade_risk_pct:1})}finally{n(!1)}}},v=async m=>{var x,w;if(m.preventDefault(),!!u){i(!0);try{const b=await Sl.update(u);g("Settings saved successfully","success"),await p()}catch(b){console.error("Error saving settings:",b),g(((w=(x=b.response)==null?void 0:x.data)==null?void 0:w.error)||"Error saving settings","error")}finally{i(!1)}}},g=(m,x)=>{a({message:m,type:x}),setTimeout(()=>a(null),3e3)},y=async()=>{const{signOut:m}=await Qt(async()=>{const{signOut:w}=await Promise.resolve().then(()=>ba);return{signOut:w}},void 0),{auth:x}=await Qt(async()=>{const{auth:w}=await Promise.resolve().then(()=>bs);return{auth:w}},void 0);await m(x),localStorage.removeItem("firebaseToken"),localStorage.removeItem("firebaseUser"),window.location.href="/login"};return e||!u?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:o.jsx("div",{className:"text-lg text-white",children:"Loading settings..."})}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 pb-20 lg:pb-0",children:[o.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),o.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})]}),o.jsx($r,{onLogout:y}),o.jsx("main",{className:"min-h-screen",children:o.jsxs("div",{className:"max-w-4xl mx-auto pt-2 px-4 sm:px-6 lg:px-8",children:[o.jsx("section",{className:"mb-4",children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("h1",{className:"text-2xl font-semibold bg-gradient-to-r from-purple-300 via-pink-300 to-cyan-300 bg-clip-text text-transparent",children:"Trading Settings"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Configure your trading parameters and preferences"})]})}),o.jsxs("div",{className:"card",children:[o.jsxs("form",{onSubmit:v,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"Symbol"}),o.jsx("input",{type:"text",className:"input",value:u.symbol,onChange:m=>d({...u,symbol:m.target.value.toUpperCase()}),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"Quote Size"}),o.jsx("input",{type:"number",step:"0.0001",className:"input",value:u.quoteSize,onChange:m=>d({...u,quoteSize:parseFloat(m.target.value)}),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"Adverse Selection %"}),o.jsx("input",{type:"number",step:"0.0001",className:"input",value:u.adversePct,onChange:m=>d({...u,adversePct:parseFloat(m.target.value)}),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"Cancel Time (ms)"}),o.jsx("input",{type:"number",className:"input",value:u.cancelMs,onChange:m=>d({...u,cancelMs:parseInt(m.target.value,10)}),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"Max Position"}),o.jsx("input",{type:"number",step:"0.0001",className:"input",value:u.maxPos,onChange:m=>d({...u,maxPos:parseFloat(m.target.value)}),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"Min Accuracy Threshold"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{type:"range",min:"0.5",max:"0.99",step:"0.01",className:"w-full",value:u.minAccuracyThreshold,onChange:m=>d({...u,minAccuracyThreshold:parseFloat(m.target.value)})}),o.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[o.jsx("span",{children:"50%"}),o.jsxs("span",{className:"font-semibold text-purple-400",children:[(u.minAccuracyThreshold*100).toFixed(0),"%"]}),o.jsx("span",{children:"99%"})]})]}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Trades will only execute if accuracy is above this threshold"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"Strategy"}),o.jsxs("select",{className:"input",value:u.strategy,onChange:m=>d({...u,strategy:m.target.value}),children:[o.jsx("option",{value:"orderbook_imbalance",children:"Orderbook Imbalance"}),o.jsx("option",{value:"smc_hybrid",children:"SMC Hybrid"}),o.jsx("option",{value:"stat_arb",children:"Statistical Arbitrage (Stub)"})]}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Trading strategy to use for execution (HFT strategy runs separately)"})]})]}),o.jsxs("div",{className:"border-t border-purple-500/20 pt-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Risk Controls"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"Max Daily Loss (%)"}),o.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",className:"input",value:u.max_loss_pct,onChange:m=>d({...u,max_loss_pct:parseFloat(m.target.value)})}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Engine pauses if daily loss exceeds this %"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"Max Drawdown (%)"}),o.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",className:"input",value:u.max_drawdown_pct,onChange:m=>d({...u,max_drawdown_pct:parseFloat(m.target.value)})}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Engine pauses if drawdown exceeds this %"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"Per-Trade Risk (%)"}),o.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",className:"input",value:u.per_trade_risk_pct,onChange:m=>d({...u,per_trade_risk_pct:parseFloat(m.target.value)})}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Maximum risk per individual trade"})]})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{type:"submit",className:"btn-mobile-full btn btn-primary",disabled:r,children:r?"Saving...":"Save Settings"})})]}),o.jsx(Hj,{}),o.jsx(uwe,{})]})]})}),s&&o.jsx(bt,{message:s.message,type:s.type})]})}function fwe(){var K,Y;const{user:t,logout:e}=$e(),n=$t(),[r,i]=E.useState(null),[s,a]=E.useState(!1),[l,c]=E.useState(!1),[u,d]=E.useState(!1),[f,p]=E.useState(null),[v,g]=E.useState({displayName:"",phone:"",country:"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}),[y,m]=E.useState(null),[x,w]=E.useState([]),[b,T]=E.useState(null),[N,A]=E.useState(null),[_,S]=E.useState(null);E.useEffect(()=>{P();const z=setInterval(R,5e3);return()=>clearInterval(z)},[]),E.useEffect(()=>{if(t){O(),k();const z=setInterval(k,3e4);return()=>clearInterval(z)}},[t]);const k=async()=>{if(t)try{const z=await El.getApiStatus();S(z.data)}catch(z){console.error("Error loading API status:",z)}},O=async()=>{var z;if(t)try{const[oe,je,Pe,Oe]=await Promise.all([El.get(t.uid),mr.getUnlocks(),$5.get({uid:t.uid}),Pd.getStatus()]);if(m(oe.data),w(je.data.unlocks||[]),T(Pe.data),A(Oe.data),oe.data){const Ye=localStorage.getItem("userProfile"),re=Ye?JSON.parse(Ye):{};g({displayName:oe.data.name||re.displayName||(t==null?void 0:t.displayName)||"",phone:oe.data.phone||re.phone||"",country:re.country||"",timezone:re.timezone||Intl.DateTimeFormat().resolvedOptions().timeZone})}else{const Ye=localStorage.getItem("userProfile");if(Ye){const re=JSON.parse(Ye);g({displayName:re.displayName||(t==null?void 0:t.displayName)||"",phone:re.phone||"",country:re.country||"",timezone:re.timezone||Intl.DateTimeFormat().resolvedOptions().timeZone})}else g({displayName:(t==null?void 0:t.displayName)||"",phone:"",country:"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone})}}catch(oe){console.error("Error loading user data:",oe),console.error("Error details:",(z=oe.response)==null?void 0:z.data)}},P=async()=>{c(!0);try{await Promise.all([R(),C()])}catch(z){console.error("Error loading data:",z)}finally{c(!1)}},R=async()=>{try{const z=await Fa.getStatus();i(z.data)}catch(z){console.error("Error loading engine status:",z)}},C=async()=>{try{const z=await Sl.load();z.data&&a(z.data.autoTradeEnabled||!1)}catch(z){console.error("Error loading settings:",z)}},V=async z=>{var oe,je,Pe;z.preventDefault(),d(!0);try{const Oe=await El.update({name:v.displayName,phone:v.phone,country:v.country});console.log("Profile update API response:",Oe.data),localStorage.setItem("userProfile",JSON.stringify(v)),M("Profile updated successfully","success"),O()}catch(Oe){console.error("Error saving profile:",Oe),console.error("Error details:",(oe=Oe.response)==null?void 0:oe.data),M(((Pe=(je=Oe.response)==null?void 0:je.data)==null?void 0:Pe.error)||"Error saving profile","error")}finally{d(!1)}},U=async()=>{await e()},$=()=>{n("/integrations")},M=(z,oe)=>{p({message:z,type:oe}),setTimeout(()=>p(null),3e3)},L=z=>z?z.displayName?z.displayName.split(" ").map(oe=>oe[0]).join("").toUpperCase().slice(0,2):z.email?z.email[0].toUpperCase():"U":"U",F=z=>!z||!z.metadata.creationTime?"N/A":new Date(z.metadata.creationTime).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),W=z=>!z||!z.metadata.lastSignInTime?"N/A":new Date(z.metadata.lastSignInTime).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return t?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[o.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),o.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})]}),o.jsx($r,{onLogout:U}),o.jsx("main",{className:"min-h-screen",children:o.jsxs("div",{className:"max-w-4xl mx-auto pt-2 px-4 sm:px-6 lg:px-8",children:[o.jsx("section",{className:"mb-4",children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-purple-300 via-pink-300 to-cyan-300 bg-clip-text text-transparent",children:"User Profile"}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-400",children:"Manage your account settings and preferences"})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-xl border border-purple-500/20 rounded-xl shadow-lg p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 mb-4",children:[o.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-3xl font-bold text-white shadow-lg",children:L(t)}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h2",{className:"text-2xl font-semibold text-white mb-1",children:t.displayName||"User"}),o.jsx("p",{className:"text-gray-300",children:t.email})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-6 border-t border-purple-500/20",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Account Creation"}),o.jsx("p",{className:"text-sm text-gray-200",children:y!=null&&y.createdAt?new Date(y.createdAt).toLocaleDateString():F(t)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Last Login"}),o.jsx("p",{className:"text-sm text-gray-200",children:W(t)})]}),y&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Plan"}),o.jsx("p",{className:"text-sm text-gray-200",children:y.plan||"Free"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"API Connected"}),o.jsx("p",{className:`text-sm ${y.apiConnected?"text-green-400":"text-gray-400"}`,children:y.apiConnected?"Yes":"No"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Total Trades"}),o.jsx("p",{className:"text-sm text-gray-200",children:y.totalTrades||0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Total P&L"}),o.jsxs("p",{className:`text-sm ${(y.totalPnL||0)>=0?"text-green-400":"text-red-400"}`,children:["$",(y.totalPnL||0).toFixed(2)]})]}),y.phone&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Phone"}),o.jsx("p",{className:"text-sm text-gray-200",children:y.phone})]})]})]})]}),x.length>0&&o.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-xl border border-purple-500/20 rounded-xl shadow-lg p-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Unlocked Agents"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:x.map((z,oe)=>o.jsxs("div",{className:"p-3 bg-slate-900/50 rounded-lg border border-purple-500/20",children:[o.jsx("div",{className:"text-sm font-medium text-white",children:z.agentName}),z.unlockedAt&&o.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Unlocked: ",typeof z.unlockedAt=="string"?new Date(z.unlockedAt).toLocaleDateString():z.unlockedAt.toDate?new Date(z.unlockedAt.toDate()).toLocaleDateString():"N/A"]})]},z.id||z.agentName||oe))})]}),(b||N)&&o.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-xl border border-purple-500/20 rounded-xl shadow-lg p-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Engine Status Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b&&o.jsxs("div",{className:"p-4 bg-slate-900/50 rounded-lg border border-purple-500/20",children:[o.jsx("div",{className:"text-sm font-medium text-gray-300 mb-2",children:"Auto Engine"}),o.jsx("div",{className:`text-lg font-bold ${b.active?"text-green-400":"text-gray-400"}`,children:b.active?"Active":"Inactive"}),b.symbol&&o.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Symbol: ",b.symbol]})]}),N&&o.jsxs("div",{className:"p-4 bg-slate-900/50 rounded-lg border border-purple-500/20",children:[o.jsx("div",{className:"text-sm font-medium text-gray-300 mb-2",children:"HFT Engine"}),o.jsx("div",{className:`text-lg font-bold ${N.running?"text-green-400":"text-gray-400"}`,children:N.running?"Active":"Inactive"})]})]})]}),o.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-xl border border-purple-500/20 rounded-xl shadow-lg p-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"System Status"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-lg border border-purple-500/20",children:[o.jsx("span",{className:"text-gray-300",children:"Engine Status"}),o.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${(K=r==null?void 0:r.engine)!=null&&K.running?"bg-green-500/20 text-green-300 border border-green-400/30":"bg-gray-500/20 text-gray-300 border border-gray-400/30"}`,children:(Y=r==null?void 0:r.engine)!=null&&Y.running?"Running":"Stopped"})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-lg border border-purple-500/20",children:[o.jsx("span",{className:"text-gray-300",children:"Auto-Trade Status"}),o.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${s?"bg-green-500/20 text-green-300 border border-green-400/30":"bg-gray-500/20 text-gray-300 border border-gray-400/30"}`,children:s?"Enabled":"Disabled"})]})]})]}),o.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-xl border border-purple-500/20 rounded-xl shadow-lg p-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Profile Settings"}),o.jsxs("form",{onSubmit:V,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Display Name"}),o.jsx("input",{type:"text",className:"w-full px-3 py-2.5 text-sm bg-slate-900/50 backdrop-blur-sm border border-purple-500/30 rounded-lg text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",value:v.displayName,onChange:z=>g({...v,displayName:z.target.value}),placeholder:"Enter your display name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Phone (Optional)"}),o.jsx("input",{type:"tel",className:"w-full px-3 py-2.5 text-sm bg-slate-900/50 backdrop-blur-sm border border-purple-500/30 rounded-lg text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",value:v.phone,onChange:z=>g({...v,phone:z.target.value}),placeholder:"Enter your phone number"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Country (Optional)"}),o.jsx("input",{type:"text",className:"w-full px-3 py-2.5 text-sm bg-slate-900/50 backdrop-blur-sm border border-purple-500/30 rounded-lg text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",value:v.country,onChange:z=>g({...v,country:z.target.value}),placeholder:"Enter your country"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Timezone (Optional)"}),o.jsx("select",{className:"w-full px-3 py-2.5 text-sm bg-slate-900/50 backdrop-blur-sm border border-purple-500/30 rounded-lg text-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",value:v.timezone,onChange:z=>g({...v,timezone:z.target.value}),children:Intl.supportedValuesOf("timeZone").map(z=>o.jsx("option",{value:z,className:"bg-slate-800",children:z},z))})]}),o.jsx("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:o.jsx("button",{type:"submit",className:"btn-mobile-full px-4 py-2.5 text-sm font-medium text-white bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-purple-500/50",disabled:u,children:u?"Saving...":"Save Changes"})})]})]}),_&&o.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-xl border border-purple-500/20 rounded-xl shadow-lg p-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"API Usage Status"}),o.jsx("div",{className:"space-y-4",children:Object.entries(_).map(([z,oe])=>{const je=oe.limit>0?oe.used/oe.limit*100:0,Pe=je>=80,Oe=je>=50&&je<80;return o.jsxs("div",{className:"p-4 bg-slate-900/50 rounded-lg border border-purple-500/20",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-gray-300 capitalize",children:z}),o.jsxs("span",{className:`text-xs font-semibold ${Pe?"text-red-400":Oe?"text-yellow-400":"text-green-400"}`,children:[oe.used," / ",oe.limit]})]}),o.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-1",children:o.jsx("div",{className:`h-2 rounded-full transition-all ${Pe?"bg-red-500":Oe?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(je,100)}%`}})}),o.jsxs("div",{className:"text-xs text-gray-400",children:["Remaining: ",Math.max(0,oe.limit-oe.used)," requests"]})]},z)})})]}),o.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-xl border border-purple-500/20 rounded-xl shadow-lg p-4 sm:p-6",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-4",children:"Actions"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsx("button",{onClick:$,className:"btn-mobile-full px-4 py-2.5 text-sm font-medium text-gray-200 bg-slate-700/50 backdrop-blur-sm border border-purple-500/30 rounded-lg hover:bg-slate-700/70 transition-all",children:"Manage API Keys"}),o.jsx("button",{onClick:U,className:"btn-mobile-full px-4 py-2.5 text-sm font-medium text-red-300 bg-red-900/30 backdrop-blur-sm border border-red-500/30 rounded-lg hover:bg-red-900/50 transition-all",children:"Logout"})]})]})]})]})}),f&&o.jsx(bt,{message:f.message,type:f.type})]}):null}function hwe(){const[t,e]=E.useState(!1),[n,r]=E.useState(!1),[i,s]=E.useState(null),[a,l]=E.useState(!1),[c,u]=E.useState({symbol:"BTCUSDT",quoteSize:.001,adversePct:2e-4,cancelMs:40,maxPos:.01,minSpreadPct:.01,maxTradesPerDay:500,enabled:!1});E.useEffect(()=>{f(),d()},[]);const d=async()=>{var m,x;try{const b=(await ii.load()).data;l(((m=b.binance)==null?void 0:m.enabled)&&!!((x=b.binance)!=null&&x.apiKey))}catch(w){console.error("Error checking Binance integration:",w)}},f=async()=>{var m,x;e(!0);try{const w=await Pd.loadSettings();w.data&&u({symbol:w.data.symbol||"BTCUSDT",quoteSize:w.data.quoteSize||.001,adversePct:w.data.adversePct||2e-4,cancelMs:w.data.cancelMs||40,maxPos:w.data.maxPos||.01,minSpreadPct:w.data.minSpreadPct||.01,maxTradesPerDay:w.data.maxTradesPerDay||500,enabled:w.data.enabled||!1})}catch(w){g(((x=(m=w.response)==null?void 0:m.data)==null?void 0:x.error)||"Error loading HFT settings","error")}finally{e(!1)}},p=async m=>{var x,w;m.preventDefault(),r(!0);try{await Pd.updateSettings(c),g("HFT settings saved","success")}catch(b){g(((w=(x=b.response)==null?void 0:x.data)==null?void 0:w.error)||"Error saving HFT settings","error")}finally{r(!1)}},v=m=>{if(m&&!a){g("Please configure Binance integration first","error");return}u({...c,enabled:m})},g=(m,x)=>{s({message:m,type:x}),setTimeout(()=>s(null),3e3)},y=async()=>{const{signOut:m}=await Qt(async()=>{const{signOut:w}=await Promise.resolve().then(()=>ba);return{signOut:w}},void 0),{auth:x}=await Qt(async()=>{const{auth:w}=await Promise.resolve().then(()=>bs);return{auth:w}},void 0);await m(x),localStorage.removeItem("firebaseToken"),localStorage.removeItem("firebaseUser"),window.location.href="/login"};return t?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:o.jsx("div",{className:"text-lg text-white",children:"Loading HFT settings..."})}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[o.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),o.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-cyan-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-indigo-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})]}),o.jsx($r,{onLogout:y}),o.jsx("main",{className:"min-h-screen",children:o.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-400 via-cyan-400 to-indigo-400 bg-clip-text text-transparent mb-2",children:"HFT Bot Settings"}),o.jsx("p",{className:"text-gray-300",children:"Configure high-frequency trading parameters"})]}),o.jsx("div",{className:"card",children:o.jsxs("form",{onSubmit:p,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"Symbol"}),o.jsx("input",{type:"text",className:"input",value:c.symbol,onChange:m=>u({...c,symbol:m.target.value.toUpperCase()}),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"Quote Size"}),o.jsx("input",{type:"number",step:"0.0001",className:"input",value:c.quoteSize,onChange:m=>u({...c,quoteSize:parseFloat(m.target.value)}),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"Adverse Selection %"}),o.jsx("input",{type:"number",step:"0.0001",className:"input",value:c.adversePct,onChange:m=>u({...c,adversePct:parseFloat(m.target.value)}),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"Cancel Time (ms)"}),o.jsx("input",{type:"number",className:"input",value:c.cancelMs,onChange:m=>u({...c,cancelMs:parseInt(m.target.value,10)}),required:!0}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Orders auto-cancel after this time"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"Max Position"}),o.jsx("input",{type:"number",step:"0.0001",className:"input",value:c.maxPos,onChange:m=>u({...c,maxPos:parseFloat(m.target.value)}),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"Min Spread %"}),o.jsx("input",{type:"number",step:"0.001",className:"input",value:c.minSpreadPct,onChange:m=>u({...c,minSpreadPct:parseFloat(m.target.value)}),required:!0}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Minimum spread required to place orders"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"Max Trades Per Day"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{type:"range",min:"100",max:"2000",step:"50",className:"w-full",value:c.maxTradesPerDay,onChange:m=>u({...c,maxTradesPerDay:parseInt(m.target.value,10)})}),o.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[o.jsx("span",{children:"100"}),o.jsx("span",{className:"font-semibold text-blue-400",children:c.maxTradesPerDay}),o.jsx("span",{children:"2000"})]})]}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Safe: 200-500 | Aggressive: 500-1000 | Extreme: 1000+"})]})]}),o.jsxs("div",{className:"border-t border-blue-500/20 pt-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Enable HFT Bot"}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center text-gray-300",children:[o.jsx("input",{type:"checkbox",checked:c.enabled,onChange:m=>v(m.target.checked),disabled:!a,className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded disabled:opacity-50"}),o.jsx("span",{className:"font-medium",children:"Enable HFT Bot"})]}),o.jsxs("p",{className:"text-xs text-gray-400 mt-1 ml-6",children:["When enabled, HFT bot will place maker orders continuously",!a&&" (Binance integration required)"]})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:n?"Saving...":"Save HFT Settings"})})]})})]})}),i&&o.jsx(bt,{message:i.message,type:i.type})]})}function pwe(){const[t,e]=E.useState([]),[n,r]=E.useState(!1),[i,s]=E.useState(null);E.useEffect(()=>{a();const p=yo.subscribe("hft:quote",v=>{e(g=>[v.data,...g].slice(0,100))});return()=>p()},[]);const a=async()=>{var p,v;r(!0);try{const g=await Pd.getLogs({limit:100});e(g.data)}catch(g){l(((v=(p=g.response)==null?void 0:p.data)==null?void 0:v.error)||"Error loading HFT logs","error")}finally{r(!1)}},l=(p,v)=>{s({message:p,type:v}),setTimeout(()=>s(null),3e3)},c=async()=>{const{signOut:p}=await Qt(async()=>{const{signOut:g}=await Promise.resolve().then(()=>ba);return{signOut:g}},void 0),{auth:v}=await Qt(async()=>{const{auth:g}=await Promise.resolve().then(()=>bs);return{auth:g}},void 0);await p(v),localStorage.removeItem("firebaseToken"),localStorage.removeItem("firebaseUser"),window.location.href="/login"},u=t.filter(p=>p.action.includes("PLACED")).length,d=t.filter(p=>p.action==="FILLED").length,f=t.filter(p=>p.action==="CANCELED").length;return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900",children:[o.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),o.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-cyan-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-indigo-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})]}),o.jsx($r,{onLogout:c}),o.jsx("main",{className:"min-h-screen",children:o.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-400 via-cyan-400 to-indigo-400 bg-clip-text text-transparent mb-2",children:"HFT Execution Logs"}),o.jsx("p",{className:"text-gray-300",children:"View detailed HFT trading activity"})]}),o.jsx("button",{onClick:a,className:"btn btn-secondary",disabled:n,children:n?"Loading...":"Refresh"})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-blue-500/10 border border-blue-400/30 rounded-xl p-4 backdrop-blur-sm",children:[o.jsx("div",{className:"text-sm text-gray-400",children:"Orders Placed"}),o.jsx("div",{className:"text-2xl font-bold text-blue-400",children:u})]}),o.jsxs("div",{className:"bg-green-500/10 border border-green-400/30 rounded-xl p-4 backdrop-blur-sm",children:[o.jsx("div",{className:"text-sm text-gray-400",children:"Filled"}),o.jsx("div",{className:"text-2xl font-bold text-green-400",children:d})]}),o.jsxs("div",{className:"bg-red-500/10 border border-red-400/30 rounded-xl p-4 backdrop-blur-sm",children:[o.jsx("div",{className:"text-sm text-gray-400",children:"Canceled"}),o.jsx("div",{className:"text-2xl font-bold text-red-400",children:f})]}),o.jsxs("div",{className:"bg-purple-500/10 border border-purple-400/30 rounded-xl p-4 backdrop-blur-sm",children:[o.jsx("div",{className:"text-sm text-gray-400",children:"Total"}),o.jsx("div",{className:"text-2xl font-bold text-purple-400",children:t.length})]})]}),o.jsx("div",{className:"card",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-blue-500/20",children:[o.jsx("thead",{className:"bg-slate-900/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Time"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Symbol"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Action"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Side"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Price"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Quantity"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Order ID"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Status"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Reason"})]})}),o.jsx("tbody",{className:"bg-slate-800/40 divide-y divide-blue-500/20",children:t.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:9,className:"px-4 py-4 text-center text-gray-400",children:"No HFT execution logs yet"})}):t.map(p=>o.jsxs("tr",{className:"hover:bg-slate-700/30 transition-colors",children:[o.jsx("td",{className:"px-4 py-2 text-xs text-gray-200",children:new Date(p.timestamp).toLocaleString()}),o.jsx("td",{className:"px-4 py-2 text-xs text-gray-200",children:p.symbol}),o.jsx("td",{className:"px-4 py-2 text-xs",children:o.jsx("span",{className:`px-2 py-1 rounded text-xs ${p.action==="FILLED"?"bg-green-500/20 text-green-300 border border-green-400/30":p.action==="CANCELED"?"bg-red-500/20 text-red-300 border border-red-400/30":p.action.includes("PLACED")?"bg-blue-500/20 text-blue-300 border border-blue-400/30":"bg-gray-500/20 text-gray-300 border border-gray-400/30"}`,children:p.action})}),o.jsx("td",{className:"px-4 py-2 text-xs text-gray-200",children:p.side||"-"}),o.jsx("td",{className:"px-4 py-2 text-xs text-gray-200",children:p.price?p.price.toFixed(2):"-"}),o.jsx("td",{className:"px-4 py-2 text-xs text-gray-200",children:p.quantity?p.quantity.toFixed(4):"-"}),o.jsx("td",{className:"px-4 py-2 text-xs font-mono text-gray-200",children:p.orderIds&&p.orderIds.length>0?p.orderIds.map(v=>v.slice(0,8)).join(", "):p.orderId?p.orderId.slice(0,8)+"...":"-"}),o.jsx("td",{className:"px-4 py-2 text-xs",children:p.status?o.jsx("span",{className:`px-2 py-1 rounded text-xs ${p.status==="FILLED"?"bg-green-500/20 text-green-300 border border-green-400/30":p.status==="PARTIALLY_FILLED"?"bg-yellow-500/20 text-yellow-300 border border-yellow-400/30":p.status==="CANCELED"?"bg-red-500/20 text-red-300 border border-red-400/30":"bg-gray-500/20 text-gray-300 border border-gray-400/30"}`,children:p.status}):"-"}),o.jsx("td",{className:"px-4 py-2 text-xs text-gray-400",children:p.reason||"-"})]},p.id))})]})})})]})]})}),i&&o.jsx(bt,{message:i.message,type:i.type})]})}class mwe{constructor(){zr(this,"ws",null);zr(this,"handlers",new Map)}connect(){const e="wss://dlxtrade-ws-1.onrender.com/ws";try{this.ws=new WebSocket(e),this.ws.onopen=()=>{console.log("WebSocket connection successful using Render server.")},this.ws.onmessage=n=>{try{const r=JSON.parse(n.data);this.handleMessage(r)}catch(r){console.error("Error parsing admin WebSocket message:",r)}},this.ws.onerror=n=>{console.error("Admin WebSocket error:",(n==null?void 0:n.message)||n)},this.ws.onclose=n=>{console.log("Admin WebSocket disconnected from Render server"),setTimeout(()=>this.connect(),3e3)}}catch(n){console.error("Error connecting admin WebSocket:",n)}}handleMessage(e){const n=e.type||"default",r=this.handlers.get(n)||this.handlers.get("*");r&&r.forEach(i=>i(e))}subscribe(e,n){return this.handlers.has(e)||this.handlers.set(e,new Set),this.handlers.get(e).add(n),()=>{const r=this.handlers.get(e);r&&(r.delete(n),r.size===0&&this.handlers.delete(e))}}send(e){this.ws&&this.ws.readyState===WebSocket.OPEN?this.ws.send(JSON.stringify(e)):console.warn("Admin WebSocket not connected")}disconnect(){this.ws&&(this.ws.close(),this.ws=null),this.handlers.clear()}}const Sv=new mwe;function Ev(){$e();const t=$t(),[e,n]=E.useState(null),[r,i]=E.useState(!0),[s,a]=E.useState(null),[l,c]=E.useState([]),[u,d]=E.useState(""),[f,p]=E.useState(!1);E.useEffect(()=>{y(),v();const x=setInterval(y,1e4);Sv.connect();const w=Sv.subscribe("*",b=>{c(T=>[b,...T].slice(0,50))});return()=>{clearInterval(x),w(),Sv.disconnect()}},[]);const v=async()=>{var x;try{const w=await tt.getGlobalSettings();d(((x=w.data)==null?void 0:x.coinmarketcapApiKey)||"")}catch{console.log("Global settings not found, will create on save")}},g=async()=>{var x,w;p(!0);try{await tt.updateGlobalSettings({coinmarketcapApiKey:u}),m("CoinMarketCap API key saved successfully","success")}catch(b){m(((w=(x=b.response)==null?void 0:x.data)==null?void 0:w.error)||"Error saving API key","error")}finally{p(!1)}},y=async()=>{var x,w,b;try{const T=await tt.getGlobalStats();n(T.data)}catch(T){((x=T.response)==null?void 0:x.status)===403?(m("Admin access required","error"),t("/admin-login")):m(((b=(w=T.response)==null?void 0:w.data)==null?void 0:b.error)||"Error loading stats","error")}finally{i(!1)}},m=(x,w)=>{a({message:x,type:w}),setTimeout(()=>a(null),3e3)};return r?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 flex items-center justify-center",children:o.jsx("div",{className:"text-lg text-gray-300",children:"Loading admin dashboard..."})}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900",children:[o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-6",children:o.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Admin Dashboard"})}),o.jsxs("div",{className:"flex gap-4 mb-6",children:[o.jsx("button",{onClick:()=>t("/admin/unlock-requests"),className:"btn btn-primary",children:" View Unlock Requests"}),o.jsx("button",{onClick:()=>t("/admin/agents"),className:"btn btn-secondary",children:"Manage Agents"}),o.jsx("button",{onClick:()=>t("/admin/users"),className:"btn btn-secondary",children:"Manage Users"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Active Users"}),o.jsx("div",{className:"text-3xl font-bold text-white",children:(e==null?void 0:e.activeUsers)||0})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Active Engines"}),o.jsx("div",{className:"text-3xl font-bold text-green-400",children:(e==null?void 0:e.activeEngines)||0})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Active HFT Bots"}),o.jsx("div",{className:"text-3xl font-bold text-blue-400",children:(e==null?void 0:e.activeHFTBots)||0})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Total Users"}),o.jsx("div",{className:"text-3xl font-bold text-purple-400",children:(e==null?void 0:e.activeUsers)||0})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Today's PnL"}),o.jsxs("div",{className:`text-3xl font-bold ${((e==null?void 0:e.totalPnLToday)||0)>=0?"text-green-400":"text-red-400"}`,children:["$",((e==null?void 0:e.totalPnLToday)||0).toFixed(2)]})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Today's Trades"}),o.jsx("div",{className:"text-3xl font-bold text-white",children:(e==null?void 0:e.totalTradesToday)||0})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Total Volume"}),o.jsxs("div",{className:"text-3xl font-bold text-yellow-400",children:["$",((e==null?void 0:e.totalVolumeToday)||0).toLocaleString()]})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Success Rate"}),o.jsxs("div",{className:"text-3xl font-bold text-green-400",children:[(e==null?void 0:e.globalSuccessRate)||0,"%"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Total Errors"}),o.jsx("div",{className:"text-3xl font-bold text-red-400",children:(e==null?void 0:e.totalErrors)||0})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Total Cancels"}),o.jsx("div",{className:"text-3xl font-bold text-orange-400",children:(e==null?void 0:e.totalCancels)||0})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Real-time Events"}),o.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:l.length===0?o.jsx("div",{className:"text-gray-400 text-center py-8",children:"No events yet"}):l.map((x,w)=>o.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-lg border border-purple-500/20 text-sm",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-purple-400 font-medium",children:x.type}),o.jsx("span",{className:"text-gray-400 text-xs",children:x.uid?`UID: ${x.uid.substring(0,8)}...`:""})]}),o.jsx("div",{className:"text-gray-300 mt-1",children:JSON.stringify(x.data,null,2)}),o.jsx("div",{className:"text-gray-500 text-xs mt-1",children:new Date(x.timestamp).toLocaleTimeString()})]},w))})]}),o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Global Settings"}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"CoinMarketCap API Key"}),o.jsxs("p",{className:"text-xs text-gray-400 mb-3",children:["This API key will be used by all users for Market Scanner. Get your free API key from"," ",o.jsx("a",{href:"https://coinmarketcap.com/api/",target:"_blank",rel:"noopener noreferrer",className:"text-purple-400 hover:text-purple-300 underline",children:"CoinMarketCap API"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("input",{type:"password",value:u,onChange:x=>d(x.target.value),placeholder:"Enter CoinMarketCap API Key",className:"flex-1 px-4 py-2 bg-slate-700/50 border border-purple-500/30 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500/50"}),o.jsx("button",{onClick:g,disabled:f||!u.trim(),className:"px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Saving...":"Save"})]})]})})]}),o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Quick Actions"}),o.jsxs("div",{className:"flex flex-wrap gap-4",children:[o.jsx("button",{onClick:()=>t("/admin/users"),className:"btn btn-primary",children:"View All Users"}),o.jsx("button",{onClick:()=>t("/admin/agents"),className:"btn btn-secondary",children:"Manage Agents"})]})]})]}),s&&o.jsx(bt,{message:s.message,type:s.type})]})}function gwe(){$e();const t=$t(),[e,n]=E.useState([]),[r,i]=E.useState(!0),[s,a]=E.useState(null),[l,c]=E.useState(null);E.useEffect(()=>{u();const m=setInterval(u,1e4);return()=>clearInterval(m)},[]);const u=async()=>{var m,x,w;try{const b=await tt.getUsers();n(b.data.users||[])}catch(b){((m=b.response)==null?void 0:m.status)===403?(g("Admin access required","error"),t("/admin-login")):g(((w=(x=b.response)==null?void 0:x.data)==null?void 0:w.error)||"Error loading users","error")}finally{i(!1)}},d=async m=>{var x,w;try{await tt.stopEngine(m),g("Engine stopped","success"),u()}catch(b){g(((w=(x=b.response)==null?void 0:x.data)==null?void 0:w.error)||"Error stopping engine","error")}},f=async m=>{var x,w;try{await tt.stopHFT(m),g("HFT engine stopped","success"),u()}catch(b){g(((w=(x=b.response)==null?void 0:x.data)==null?void 0:w.error)||"Error stopping HFT","error")}},p=async(m,x)=>{var w,b;try{await tt.unlockAgent(m,x),g(`Agent "${x}" unlocked`,"success"),u(),c(null)}catch(T){g(((b=(w=T.response)==null?void 0:w.data)==null?void 0:b.error)||"Error unlocking agent","error")}},v=async(m,x)=>{var w,b;try{await tt.lockAgent(m,x),g(`Agent "${x}" locked`,"success"),u(),c(null)}catch(T){g(((b=(w=T.response)==null?void 0:w.data)==null?void 0:b.error)||"Error locking agent","error")}},g=(m,x)=>{a({message:m,type:x}),setTimeout(()=>a(null),3e3)},y=["Airdrop Multiverse Agent","Liquidity Sniper & Arbitrage Agent","AI Launchpad Hunter Agent","Whale Movement Tracker Agent","AI Alpha Predictor Agent","Whale Copy Trade Agent"];return r?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 flex items-center justify-center",children:o.jsx("div",{className:"text-lg text-gray-300",children:"Loading users..."})}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900",children:[o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"All Users"}),o.jsx("button",{onClick:()=>t("/admin"),className:"btn btn-secondary",children:"Back to Dashboard"})]}),o.jsx("div",{className:"card overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-purple-500/20",children:[o.jsx("th",{className:"text-left p-4 text-gray-300",children:"Email"}),o.jsx("th",{className:"text-left p-4 text-gray-300",children:"UID"}),o.jsx("th",{className:"text-left p-4 text-gray-300",children:"Engine"}),o.jsx("th",{className:"text-left p-4 text-gray-300",children:"HFT"}),o.jsx("th",{className:"text-left p-4 text-gray-300",children:"PnL"}),o.jsx("th",{className:"text-left p-4 text-gray-300",children:"Open Orders"}),o.jsx("th",{className:"text-left p-4 text-gray-300",children:"Agents"}),o.jsx("th",{className:"text-left p-4 text-gray-300",children:"API Status"}),o.jsx("th",{className:"text-left p-4 text-gray-300",children:"Actions"})]})}),o.jsx("tbody",{children:e.map(m=>o.jsxs("tr",{className:"border-b border-purple-500/10 hover:bg-slate-700/20",children:[o.jsx("td",{className:"p-4 text-gray-200",children:m.email||"N/A"}),o.jsxs("td",{className:"p-4 text-gray-400 text-sm font-mono",children:[m.uid.substring(0,12),"..."]}),o.jsx("td",{className:"p-4",children:o.jsx("span",{className:`px-2 py-1 rounded text-xs ${m.engineRunning?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:m.engineRunning?"Running":"Stopped"})}),o.jsx("td",{className:"p-4",children:o.jsx("span",{className:`px-2 py-1 rounded text-xs ${m.hftRunning?"bg-blue-500/20 text-blue-400":"bg-gray-500/20 text-gray-400"}`,children:m.hftRunning?"Running":"Stopped"})}),o.jsxs("td",{className:`p-4 font-medium ${m.currentPnL>=0?"text-green-400":"text-red-400"}`,children:["$",m.currentPnL.toFixed(2)]}),o.jsx("td",{className:"p-4 text-gray-300",children:m.openOrders}),o.jsx("td",{className:"p-4 text-gray-300",children:m.unlockedAgentsCount}),o.jsx("td",{className:"p-4",children:o.jsx("div",{className:"flex flex-col gap-1",children:Object.entries(m.apiStatus).map(([x,w])=>o.jsx("span",{className:`text-xs px-2 py-1 rounded ${w.connected&&w.hasKey?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:x},x))})}),o.jsx("td",{className:"p-4",children:o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("button",{onClick:()=>t(`/admin/user/${m.uid}`),className:"btn btn-secondary text-xs px-2 py-1",children:"View"}),m.engineRunning&&o.jsx("button",{onClick:()=>d(m.uid),className:"btn btn-danger text-xs px-2 py-1",children:"Stop Bot"}),m.hftRunning&&o.jsx("button",{onClick:()=>f(m.uid),className:"btn btn-danger text-xs px-2 py-1",children:"Stop HFT"}),o.jsx("button",{onClick:()=>c({uid:m.uid,agentName:""}),className:"btn btn-primary text-xs px-2 py-1",children:"Agent"})]})})]},m.uid))})]})}),l&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:o.jsxs("div",{className:"card max-w-md w-full mx-4",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Manage Agent"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"Select Agent"}),o.jsxs("select",{value:l.agentName,onChange:m=>c({...l,agentName:m.target.value}),className:"input",children:[o.jsx("option",{value:"",children:"Select an agent..."}),y.map(m=>o.jsx("option",{value:m,children:m},m))]}),l.agentName&&o.jsxs("div",{className:"flex gap-3 mt-4",children:[o.jsx("button",{onClick:()=>p(l.uid,l.agentName),className:"btn btn-primary flex-1",children:"Unlock Agent"}),o.jsx("button",{onClick:()=>v(l.uid,l.agentName),className:"btn btn-danger flex-1",children:"Lock Agent"})]}),o.jsx("button",{onClick:()=>c(null),className:"btn btn-secondary w-full mt-2",children:"Cancel"})]})]})})]}),s&&o.jsx(bt,{message:s.message,type:s.type})]})}function ywe(){var b,T,N,A,_,S,k,O,P,R,C,V;const{uid:t}=Ng();$e();const e=$t(),[n,r]=E.useState(null),[i,s]=E.useState(!0),[a,l]=E.useState(null),[c,u]=E.useState("");E.useEffect(()=>{t&&d()},[t]);const d=async()=>{var U,$,M;if(t)try{const[L,F,W]=await Promise.all([tt.getUser(t),tt.getUserLogs(t,10),tt.getUserHFTLogs(t,10)]);r({...L.data,executionLogs:F.data.logs||[],hftLogs:W.data.logs||[]})}catch(L){((U=L.response)==null?void 0:U.status)===403?(x("Admin access required","error"),e("/admin")):x(((M=($=L.response)==null?void 0:$.data)==null?void 0:M.error)||"Error loading user data","error")}finally{s(!1)}},f=async()=>{var U,$;if(t)try{await tt.stopEngine(t),x("Engine stopped","success"),d()}catch(M){x((($=(U=M.response)==null?void 0:U.data)==null?void 0:$.error)||"Error stopping engine","error")}},p=async()=>{var U,$;if(t)try{await tt.stopHFT(t),x("HFT engine stopped","success"),d()}catch(M){x((($=(U=M.response)==null?void 0:U.data)==null?void 0:$.error)||"Error stopping HFT","error")}},v=async()=>{var U,$;if(t)try{await tt.resetRisk(t),x("Risk manager reset","success"),d()}catch(M){x((($=(U=M.response)==null?void 0:U.data)==null?void 0:$.error)||"Error resetting risk","error")}},g=async()=>{var U,$;if(t)try{await tt.reloadKeys(t),x("API keys reloaded","success"),d()}catch(M){x((($=(U=M.response)==null?void 0:U.data)==null?void 0:$.error)||"Error reloading keys","error")}},y=async()=>{var U,$;if(!(!t||!c))try{await tt.unlockAgent(t,c),x(`Agent "${c}" unlocked`,"success"),u(""),d()}catch(M){x((($=(U=M.response)==null?void 0:U.data)==null?void 0:$.error)||"Error unlocking agent","error")}},m=async()=>{var U,$;if(!(!t||!c))try{await tt.lockAgent(t,c),x(`Agent "${c}" locked`,"success"),u(""),d()}catch(M){x((($=(U=M.response)==null?void 0:U.data)==null?void 0:$.error)||"Error locking agent","error")}},x=(U,$)=>{l({message:U,type:$}),setTimeout(()=>l(null),3e3)},w=["Airdrop Multiverse Agent","Liquidity Sniper & Arbitrage Agent","AI Launchpad Hunter Agent","Whale Movement Tracker Agent","AI Alpha Predictor Agent","Whale Copy Trade Agent"];return i?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 flex items-center justify-center",children:o.jsx("div",{className:"text-lg text-gray-300",children:"Loading user details..."})}):n?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900",children:[o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"User Details"}),o.jsx("button",{onClick:()=>e("/admin/users"),className:"btn btn-secondary",children:"Back to Users"})]}),o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"User Information"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-400",children:"Email"}),o.jsx("div",{className:"text-white",children:n.email||"N/A"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-400",children:"UID"}),o.jsx("div",{className:"text-gray-300 font-mono text-sm",children:n.uid})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-400",children:"Engine Status"}),o.jsx("div",{className:(b=n.stats)!=null&&b.engineRunning?"text-green-400":"text-gray-400",children:(T=n.stats)!=null&&T.engineRunning?"Running":"Stopped"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-400",children:"HFT Status"}),o.jsx("div",{className:(N=n.stats)!=null&&N.hftRunning?"text-blue-400":"text-gray-400",children:(A=n.stats)!=null&&A.hftRunning?"Running":"Stopped"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-400",children:"Current PnL"}),o.jsxs("div",{className:((_=n.stats)==null?void 0:_.currentPnL)>=0?"text-green-400":"text-red-400",children:["$",(((S=n.stats)==null?void 0:S.currentPnL)||0).toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-400",children:"Open Orders"}),o.jsx("div",{className:"text-white",children:((k=n.stats)==null?void 0:k.openOrders)||0})]})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"API Connections"}),o.jsx("div",{className:"space-y-2",children:(O=n.integrations)==null?void 0:O.map(U=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg",children:[o.jsx("span",{className:"text-gray-300",children:U.name}),o.jsx("span",{className:`px-2 py-1 rounded text-xs ${U.enabled&&U.hasKey?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:U.enabled&&U.hasKey?"Connected":"Not Connected"})]},U.name))})]}),o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Unlocked Agents"}),o.jsx("div",{className:"space-y-2 mb-4",children:Object.entries(n.agents||{}).map(([U,$])=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg",children:[o.jsx("span",{className:"text-gray-300",children:U}),o.jsx("span",{className:`px-2 py-1 rounded text-xs ${$.unlocked?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:$.unlocked?"Unlocked":"Locked"})]},U))}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("select",{value:c,onChange:U=>u(U.target.value),className:"input",children:[o.jsx("option",{value:"",children:"Select an agent..."}),w.map(U=>o.jsx("option",{value:U,children:U},U))]}),c&&o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:y,className:"btn btn-primary flex-1",children:"Unlock Agent"}),o.jsx("button",{onClick:m,className:"btn btn-danger flex-1",children:"Lock Agent"})]})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Last 10 Execution Logs"}),o.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:((P=n.executionLogs)==null?void 0:P.length)===0?o.jsx("div",{className:"text-gray-400 text-center py-4",children:"No execution logs"}):(R=n.executionLogs)==null?void 0:R.map((U,$)=>o.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-lg text-sm",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-purple-400",children:U.action}),o.jsx("span",{className:"text-gray-400 text-xs",children:U.timestamp?new Date(U.timestamp).toLocaleString():""})]}),o.jsx("div",{className:"text-gray-300 mt-1",children:U.reason||JSON.stringify(U)})]},$))})]}),o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Last 10 HFT Logs"}),o.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:((C=n.hftLogs)==null?void 0:C.length)===0?o.jsx("div",{className:"text-gray-400 text-center py-4",children:"No HFT logs"}):(V=n.hftLogs)==null?void 0:V.map((U,$)=>o.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-lg text-sm",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-blue-400",children:U.action}),o.jsx("span",{className:"text-gray-400 text-xs",children:U.timestamp?new Date(U.timestamp).toLocaleString():""})]}),o.jsx("div",{className:"text-gray-300 mt-1",children:U.reason||JSON.stringify(U)})]},$))})]}),o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Admin Controls"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[o.jsx("button",{onClick:f,className:"btn btn-danger",children:"Stop Engine"}),o.jsx("button",{onClick:p,className:"btn btn-danger",children:"Stop HFT"}),o.jsx("button",{onClick:v,className:"btn btn-secondary",children:"Reset Risk"}),o.jsx("button",{onClick:g,className:"btn btn-secondary",children:"Reload API Keys"})]})]})]}),a&&o.jsx(bt,{message:a.message,type:a.type})]}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 flex items-center justify-center",children:o.jsx("div",{className:"text-lg text-red-400",children:"User not found"})})}function vwe(){var O;$e();const t=$t(),[e,n]=E.useState(null),[r,i]=E.useState([]),[s,a]=E.useState(!0),[l,c]=E.useState(null),[u,d]=E.useState([]),[f,p]=E.useState(!1),[v,g]=E.useState(!1),[y,m]=E.useState({}),[x,w]=E.useState(!1);E.useEffect(()=>{b()},[]);const b=async()=>{var P,R,C;a(!0);try{const U=(await mr.getAll()).data.agents||[],M=(await tt.getAgentStats()).data.agentStats||{},L=U.map(F=>{var K,Y,z;const W=F.name||F.id;return{id:F.id||((K=F.name)==null?void 0:K.toLowerCase().replace(/\s+/g,"_"))||"",name:F.name||"",description:F.description||"",longDescription:F.longDescription||F.description||"",price:F.price||0,features:F.features||[],category:F.category||"Trading",badge:F.badge,imageUrl:F.imageUrl,enabled:F.enabled!==!1,whatsappNumber:F.whatsappNumber||"9155604591",usersUnlocked:((Y=M[W])==null?void 0:Y.unlocked)||0,userIds:((z=M[W])==null?void 0:z.users)||[]}});i(L)}catch(V){((P=V.response)==null?void 0:P.status)===403?(k("Admin access required","error"),t("/admin-login")):k(((C=(R=V.response)==null?void 0:R.data)==null?void 0:C.error)||"Error loading agents","error")}finally{a(!1)}},T=async P=>{var R,C;try{await tt.toggleAgent(P.id),k(`Agent ${P.enabled?"disabled":"enabled"} successfully`,"success"),await b()}catch(V){k(((C=(R=V.response)==null?void 0:R.data)==null?void 0:C.error)||"Error toggling agent","error")}},N=P=>{m({id:P.id,name:P.name,description:P.description,longDescription:P.longDescription,price:P.price,features:P.features,category:P.category,badge:P.badge,imageUrl:P.imageUrl,enabled:P.enabled,whatsappNumber:P.whatsappNumber}),g(!0)},A=async()=>{var P,R;if(y.id)try{await tt.updateAgent(y.id,{name:y.name,description:y.description,longDescription:y.longDescription,price:y.price,features:y.features,category:y.category,badge:y.badge,imageUrl:y.imageUrl,enabled:y.enabled,whatsappNumber:y.whatsappNumber}),k("Agent updated successfully","success"),g(!1),m({}),await b()}catch(C){k(((R=(P=C.response)==null?void 0:P.data)==null?void 0:R.error)||"Error updating agent","error")}},_=P=>{m({...y,imageUrl:P})},S=async P=>{var R,C;try{const V=await tt.getAgentUsers(P.name);d(V.data.users||[]),c(P),p(!0)}catch(V){k(((C=(R=V.response)==null?void 0:R.data)==null?void 0:C.error)||"Error loading users","error")}},k=(P,R)=>{n({message:P,type:R}),setTimeout(()=>n(null),3e3)};return s?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 flex items-center justify-center",children:o.jsx("div",{className:"text-lg text-gray-300",children:"Loading agents..."})}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900",children:[o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Agents Manager"}),o.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Manage all premium agents and their settings"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>t("/admin/unlock-requests"),className:"btn btn-primary whitespace-nowrap",children:" Unlock Requests"}),o.jsx("button",{onClick:()=>t("/admin"),className:"btn btn-secondary whitespace-nowrap",children:" Back to Dashboard"})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:r.map(P=>o.jsxs("div",{className:`card transition-all duration-300 ${P.enabled?"":"opacity-60"}`,children:[o.jsxs("div",{className:"relative h-40 mb-4 rounded-xl overflow-hidden bg-gradient-to-br from-purple-500/20 to-pink-500/20",children:[P.imageUrl?o.jsx("img",{src:P.imageUrl,alt:P.name,className:"w-full h-full object-cover",onError:R=>{const C=R.target;C.style.display="none"}}):o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsx("div",{className:"w-16 h-16 rounded-xl bg-purple-500/20 border-2 border-purple-400/50 flex items-center justify-center",children:o.jsx("svg",{className:"w-8 h-8 text-purple-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})})})}),!P.enabled&&o.jsx("div",{className:"absolute inset-0 bg-slate-900/70 flex items-center justify-center",children:o.jsx("span",{className:"text-red-400 font-bold text-lg",children:"DISABLED"})})]}),o.jsx("h3",{className:"text-xl font-bold text-white mb-2 line-clamp-1",children:P.name}),o.jsx("p",{className:"text-gray-400 text-sm mb-4 line-clamp-2",children:P.description}),o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500",children:"Price"}),o.jsxs("div",{className:"text-xl font-bold text-purple-400",children:["$",P.price]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500",children:"Users"}),o.jsx("div",{className:"text-xl font-bold text-green-400",children:P.usersUnlocked})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("button",{onClick:()=>N(P),className:"btn btn-secondary w-full text-sm",children:" Edit Agent"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>S(P),className:"btn btn-secondary flex-1 text-sm",children:[" Users (",P.usersUnlocked,")"]}),o.jsx("button",{onClick:()=>T(P),className:`btn flex-1 text-sm ${P.enabled?"btn-danger":"btn-primary"}`,children:P.enabled?" Disable":" Enable"})]})]})]},P.id))})]}),v&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"card max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Edit Agent"}),o.jsx("button",{onClick:()=>{g(!1),m({})},className:"text-gray-400 hover:text-white text-2xl",children:""})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name"}),o.jsx("input",{type:"text",value:y.name||"",onChange:P=>m({...y,name:P.target.value}),className:"input",placeholder:"Agent name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Short Description"}),o.jsx("textarea",{value:y.description||"",onChange:P=>m({...y,description:P.target.value}),className:"input min-h-[100px]",placeholder:"Short description (shown on cards)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Long Description"}),o.jsx("textarea",{value:y.longDescription||"",onChange:P=>m({...y,longDescription:P.target.value}),className:"input min-h-[200px]",placeholder:"Full detailed description (shown on details page)"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will be displayed on the agent details page"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Price ($)"}),o.jsx("input",{type:"number",value:y.price||0,onChange:P=>m({...y,price:parseFloat(P.target.value)||0}),className:"input",placeholder:"0",min:"0",step:"0.01"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),o.jsx("input",{type:"text",value:y.category||"",onChange:P=>m({...y,category:P.target.value}),className:"input",placeholder:"Trading"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Image URL"}),o.jsx("input",{type:"url",value:y.imageUrl||"",onChange:P=>_(P.target.value),className:"input",placeholder:"https://example.com/image.jpg"}),y.imageUrl&&o.jsx("div",{className:"mt-2",children:o.jsx("img",{src:y.imageUrl,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border border-purple-500/30",onError:P=>{const R=P.target;R.style.display="none"}})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Badge (optional)"}),o.jsx("input",{type:"text",value:y.badge||"",onChange:P=>m({...y,badge:P.target.value}),className:"input",placeholder:"Premium, New, etc."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"WhatsApp Number"}),o.jsx("input",{type:"text",value:y.whatsappNumber||"",onChange:P=>m({...y,whatsappNumber:P.target.value}),className:"input",placeholder:"9155604591"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Features (one per line)"}),o.jsx("textarea",{value:((O=y.features)==null?void 0:O.join(`
`))||"",onChange:P=>{const R=P.target.value.split(`
`).filter(C=>C.trim());m({...y,features:R})},className:"input min-h-[100px]",placeholder:`Feature 1
Feature 2
Feature 3`})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"enabled",checked:y.enabled!==!1,onChange:P=>m({...y,enabled:P.target.checked}),className:"w-4 h-4 rounded border-purple-500/30 bg-slate-800 text-purple-500"}),o.jsx("label",{htmlFor:"enabled",className:"text-sm text-gray-300",children:"Agent Enabled"})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{onClick:A,className:"btn btn-primary flex-1",children:" Save Changes"}),o.jsx("button",{onClick:()=>{g(!1),m({})},className:"btn btn-secondary flex-1",children:"Cancel"})]})]})]})}),f&&l&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"card max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h2",{className:"text-xl font-bold text-white",children:["Users who unlocked: ",l.name]}),o.jsx("button",{onClick:()=>{p(!1),c(null),d([])},className:"text-gray-400 hover:text-white text-2xl",children:""})]}),u.length===0?o.jsx("div",{className:"text-center text-gray-400 py-8",children:"No users have unlocked this agent yet"}):o.jsx("div",{className:"space-y-2",children:u.map((P,R)=>o.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-lg flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:P.email||"N/A"}),o.jsxs("div",{className:"text-gray-400 text-sm font-mono",children:[P.uid.substring(0,12),"..."]})]}),o.jsx("div",{className:"text-gray-400 text-xs",children:P.unlockedAt?new Date(P.unlockedAt).toLocaleDateString():"N/A"})]},R))})]})}),e&&o.jsx(bt,{message:e.message,type:e.type})]})}function xwe(){$e();const t=$t(),[e,n]=E.useState(null),[r,i]=E.useState([]),[s,a]=E.useState(!0),[l,c]=E.useState(null),[u,d]=E.useState({}),[f,p]=E.useState(null);E.useEffect(()=>{v();const x=setInterval(v,1e4);return()=>clearInterval(x)},[]);const v=async()=>{var x,w,b;try{const T=await tt.getUnlockRequests();i(T.data.requests||[])}catch(T){((x=T.response)==null?void 0:x.status)===403?(m("Admin access required","error"),t("/admin-login")):m(((b=(w=T.response)==null?void 0:w.data)==null?void 0:b.error)||"Error loading unlock requests","error")}finally{a(!1)}},g=async x=>{var w,b;c(x);try{await tt.approveUnlockRequest(x),m("Unlock request approved successfully","success"),await v()}catch(T){m(((b=(w=T.response)==null?void 0:w.data)==null?void 0:b.error)||"Error approving request","error")}finally{c(null)}},y=async x=>{var w,b;c(x);try{const T=u[x]||"No reason provided";await tt.denyUnlockRequest(x,T),m("Unlock request denied","success"),p(null),d({...u,[x]:""}),await v()}catch(T){m(((b=(w=T.response)==null?void 0:w.data)==null?void 0:b.error)||"Error denying request","error")}finally{c(null)}},m=(x,w)=>{n({message:x,type:w}),setTimeout(()=>n(null),3e3)};return s?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 flex items-center justify-center",children:o.jsx("div",{className:"text-lg text-gray-300",children:"Loading unlock requests..."})}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900",children:[o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Unlock Requests"}),o.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Approve or deny agent unlock requests"})]}),o.jsx("button",{onClick:()=>t("/admin/agents"),className:"btn btn-secondary whitespace-nowrap",children:" Back to Agents Manager"})]}),r.length===0?o.jsxs("div",{className:"card text-center py-12",children:[o.jsx("p",{className:"text-gray-400 text-lg",children:"No pending unlock requests"}),o.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"All requests have been processed"})]}):o.jsx("div",{className:"space-y-4",children:r.map(x=>o.jsx("div",{className:"card",children:o.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsx("div",{className:"flex items-start gap-4 mb-4",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:x.agentName}),o.jsxs("div",{className:"space-y-1 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-gray-400",children:"User:"}),o.jsx("span",{className:"text-gray-300",children:x.userEmail})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-gray-400",children:"Name:"}),o.jsx("span",{className:"text-gray-300",children:x.fullName})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-gray-400",children:"Phone:"}),o.jsx("span",{className:"text-gray-300",children:x.phoneNumber})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-gray-400",children:"Email:"}),o.jsx("span",{className:"text-gray-300",children:x.email})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-gray-400",children:"Submitted:"}),o.jsx("span",{className:"text-gray-300",children:new Date(x.submittedAt).toLocaleString()})]})]})]})})}),o.jsxs("div",{className:"flex gap-2 lg:flex-col",children:[o.jsx("button",{onClick:()=>g(x.id),disabled:l===x.id,className:"btn btn-primary flex-1 disabled:opacity-50",children:l===x.id?"Processing...":" Approve"}),o.jsx("button",{onClick:()=>p(x.id),disabled:l===x.id,className:"btn btn-danger flex-1 disabled:opacity-50",children:" Deny"})]})]})},x.id))})]}),f&&o.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-gradient-to-br from-slate-800/95 via-slate-800/95 to-slate-900/95 backdrop-blur-xl border-2 border-red-500/30 rounded-2xl shadow-2xl max-w-md w-full",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Deny Unlock Request"}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Reason (optional)"}),o.jsx("textarea",{value:u[f]||"",onChange:x=>d({...u,[f]:x.target.value}),className:"input w-full min-h-[100px]",placeholder:"Enter reason for denial..."})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>y(f),disabled:l===f,className:"btn btn-danger flex-1 disabled:opacity-50",children:l===f?"Processing...":"Confirm Deny"}),o.jsx("button",{onClick:()=>{p(null),d({...u,[f]:""})},disabled:l===f,className:"btn btn-secondary disabled:opacity-50",children:"Cancel"})]})]})})}),e&&o.jsx(bt,{message:e.message,type:e.type})]})}function _M({children:t}){const e=To(),n=$t(),{user:r,logout:i}=$e(),[s,a]=E.useState(!1),[l,c]=E.useState(!1),[u,d]=E.useState(!0);E.useEffect(()=>{(async()=>{if(!r){a(!1),d(!1);return}try{const y=await kr(On(pn,"users",r.uid)),m=y.exists()&&y.data()||{},x=m.role==="admin"||m.isAdmin===!0;a(x),x||n("/dashboard")}catch{a(!1)}finally{d(!1)}})()},[r,n]);const f=async()=>{if(i)await i();else{const{signOut:g}=await Qt(async()=>{const{signOut:m}=await Promise.resolve().then(()=>ba);return{signOut:m}},void 0),{auth:y}=await Qt(async()=>{const{auth:m}=await Promise.resolve().then(()=>bs);return{auth:m}},void 0);await g(y),localStorage.removeItem("firebaseToken"),localStorage.removeItem("firebaseUser"),window.location.href="/login"}},p=[{path:"/admin",label:"Dashboard",icon:""},{path:"/admin/users",label:"Users",icon:""},{path:"/admin/agents",label:"Agents",icon:""},{path:"/admin/unlock-requests",label:"Unlock Requests",icon:""},{path:"/admin/broadcast-popup",label:"Broadcast Popup",icon:""},{path:"/admin/settings",label:"Settings",icon:""},{path:"/admin/logs",label:"Logs",icon:""}],v=g=>g==="/admin"?e.pathname===g:e.pathname.startsWith(g);return u?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 flex items-center justify-center",children:o.jsx("div",{className:"text-lg text-gray-300",children:"Loading..."})}):s?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900",children:[o.jsx("div",{className:"lg:hidden fixed top-0 left-0 right-0 bg-slate-900/95 backdrop-blur-xl border-b border-purple-500/20 z-50",children:o.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[o.jsx("button",{onClick:()=>c(!l),className:"text-white p-2 hover:bg-slate-800 rounded-lg transition-colors",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),o.jsx(xi,{to:"/admin",className:"text-lg font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Admin Panel"}),o.jsx("button",{onClick:f,className:"text-gray-400 hover:text-white p-2",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})}),o.jsxs("div",{className:`lg:hidden fixed inset-0 z-50 transition-transform duration-300 ${l?"translate-x-0":"-translate-x-full"}`,children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>c(!1)}),o.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-64 bg-slate-900 border-r border-purple-500/20 shadow-2xl overflow-y-auto",children:[o.jsx("div",{className:"p-4 border-b border-purple-500/20",children:o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Admin Menu"}),o.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-white",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsx("nav",{className:"p-2 space-y-1",children:p.map(g=>o.jsxs(xi,{to:g.path,onClick:()=>c(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${v(g.path)?"bg-purple-500/20 text-purple-300 border border-purple-500/30":"text-gray-400 hover:text-white hover:bg-slate-800/50"}`,children:[o.jsx("span",{className:"text-xl",children:g.icon}),o.jsx("span",{className:"font-medium",children:g.label})]},g.path))}),o.jsx("div",{className:"p-4 border-t border-purple-500/20 mt-auto",children:o.jsxs("button",{onClick:f,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-red-400 hover:bg-red-500/10 transition-all",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),o.jsx("span",{className:"font-medium",children:"Logout"})]})})]})]}),o.jsx("div",{className:"hidden lg:block fixed top-0 left-0 right-0 bg-slate-900/95 backdrop-blur-xl border-b border-purple-500/20 z-50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsx(xi,{to:"/admin",className:"text-xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-purple-400 bg-clip-text text-transparent",children:"DLXTRADE Admin"}),o.jsx("nav",{className:"flex items-center space-x-1",children:p.map(g=>o.jsx(xi,{to:g.path,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${v(g.path)?"text-purple-300 bg-purple-500/20 border border-purple-500/30":"text-gray-400 hover:text-purple-300 hover:bg-purple-500/10"}`,children:g.label},g.path))}),o.jsx("button",{onClick:f,className:"px-4 py-2 text-sm text-gray-400 hover:text-red-400 transition-colors",children:"Logout"})]})})}),o.jsx("div",{className:"pt-16 lg:pt-16",children:o.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8",children:t})})]}):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM="firebasestorage.googleapis.com",SM="storageBucket",bwe=2*60*1e3,wwe=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct extends Mr{constructor(e,n,r=0){super(Nv(e),`Firebase Storage: ${n} (${Nv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Nv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var It;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(It||(It={}));function Nv(t){return"storage/"+t}function Kj(){const t="An unknown error occurred, please check the error payload for server response.";return new Ct(It.UNKNOWN,t)}function _we(t){return new Ct(It.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function jwe(t){return new Ct(It.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Swe(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ct(It.UNAUTHENTICATED,t)}function Ewe(){return new Ct(It.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Nwe(t){return new Ct(It.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Twe(){return new Ct(It.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Awe(){return new Ct(It.CANCELED,"User canceled the upload/download.")}function kwe(t){return new Ct(It.INVALID_URL,"Invalid URL '"+t+"'.")}function Pwe(t){return new Ct(It.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Iwe(){return new Ct(It.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+SM+"' property when initializing the app?")}function Cwe(){return new Ct(It.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Owe(){return new Ct(It.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Rwe(t){return new Ct(It.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Tw(t){return new Ct(It.INVALID_ARGUMENT,t)}function EM(){return new Ct(It.APP_DELETED,"The Firebase app was deleted.")}function Dwe(t){return new Ct(It.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ed(t,e){return new Ct(It.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function _u(t){throw new Ct(It.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=fr.makeFromUrl(e,n)}catch{return new fr(e,"")}if(r.path==="")return r;throw Pwe(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function u(T){T.path_=decodeURIComponent(T.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",v=new RegExp(`^https?://${f}/${d}/b/${i}/o${p}`,"i"),g={bucket:1,path:3},y=n===jM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,m="([^?#]*)",x=new RegExp(`^https?://${y}/${i}/${m}`,"i"),b=[{regex:l,indices:c,postModify:s},{regex:v,indices:g,postModify:u},{regex:x,indices:{bucket:1,path:2},postModify:u}];for(let T=0;T<b.length;T++){const N=b[T],A=N.regex.exec(e);if(A){const _=A[N.indices.bucket];let S=A[N.indices.path];S||(S=""),r=new fr(_,S),N.postModify(r);break}}if(r==null)throw kwe(e);return r}}class Lwe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mwe(t,e,n){let r=1,i=null,s=null,a=!1,l=0;function c(){return l===2}let u=!1;function d(...m){u||(u=!0,e.apply(null,m))}function f(m){i=setTimeout(()=>{i=null,t(v,c())},m)}function p(){s&&clearTimeout(s)}function v(m,...x){if(u){p();return}if(m){p(),d.call(null,m,...x);return}if(c()||a){p(),d.call(null,m,...x);return}r<64&&(r*=2);let b;l===1?(l=2,b=0):b=(r+Math.random())*1e3,f(b)}let g=!1;function y(m){g||(g=!0,p(),!u&&(i!==null?(m||(l=2),clearTimeout(i),f(0)):m||(l=1)))}return f(0),s=setTimeout(()=>{a=!0,y(!0)},n),y}function $we(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fwe(t){return t!==void 0}function Uwe(t){return typeof t=="object"&&!Array.isArray(t)}function Gj(t){return typeof t=="string"||t instanceof String}function OP(t){return Xj()&&t instanceof Blob}function Xj(){return typeof Blob<"u"}function RP(t,e,n,r){if(r<e)throw Tw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Tw(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yj(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function NM(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var io;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(io||(io={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bwe(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vwe{constructor(e,n,r,i,s,a,l,c,u,d,f,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,g)=>{this.resolve_=v,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Hh(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const l=s.getErrorCode()===io.NO_ERROR,c=s.getStatus();if(!l||Bwe(c,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===io.ABORT;r(!1,new Hh(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new Hh(u,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());Fwe(c)?s(c):s()}catch(c){a(c)}else if(l!==null){const c=Kj();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(i.canceled){const c=this.appDelete_?EM():Awe();a(c)}else{const c=Twe();a(c)}};this.canceled_?n(!1,new Hh(!1,null,!0)):this.backoffId_=Mwe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&$we(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function zwe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function qwe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Wwe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Hwe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Kwe(t,e,n,r,i,s,a=!0){const l=NM(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return Wwe(u,e),zwe(u,n),qwe(u,s),Hwe(u,r),new Vwe(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gwe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Xwe(...t){const e=Gwe();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Xj())return new Blob(t);throw new Ct(It.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Ywe(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qwe(t){if(typeof atob>"u")throw Rwe("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Tv{constructor(e,n){this.data=e,this.contentType=n||null}}function Jwe(t,e){switch(t){case _i.RAW:return new Tv(TM(e));case _i.BASE64:case _i.BASE64URL:return new Tv(AM(t,e));case _i.DATA_URL:return new Tv(e1e(e),t1e(e))}throw Kj()}function TM(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,a=t.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Zwe(t){let e;try{e=decodeURIComponent(t)}catch{throw ed(_i.DATA_URL,"Malformed data URL.")}return TM(e)}function AM(t,e){switch(t){case _i.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw ed(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case _i.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw ed(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Qwe(e)}catch(i){throw i.message.includes("polyfill")?i:ed(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class kM{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ed(_i.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=n1e(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function e1e(t){const e=new kM(t);return e.base64?AM(_i.BASE64,e.rest):Zwe(e.rest)}function t1e(t){return new kM(t).contentType}function n1e(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n){let r=0,i="";OP(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(OP(this.data_)){const r=this.data_,i=Ywe(r,e,n);return i===null?null:new Bs(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Bs(r,!0)}}static getBlob(...e){if(Xj()){const n=e.map(r=>r instanceof Bs?r.data_:r);return new Bs(Xwe.apply(null,n))}else{const n=e.map(a=>Gj(a)?Jwe(_i.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(a=>{for(let l=0;l<a.length;l++)i[s++]=a[l]}),new Bs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(t){let e;try{e=JSON.parse(t)}catch{return null}return Uwe(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1e(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function i1e(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function IM(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1e(t,e){return e}class Mn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||s1e}}let Kh=null;function a1e(t){return!Gj(t)||t.length<2?t:IM(t)}function CM(){if(Kh)return Kh;const t=[];t.push(new Mn("bucket")),t.push(new Mn("generation")),t.push(new Mn("metageneration")),t.push(new Mn("name","fullPath",!0));function e(s,a){return a1e(a)}const n=new Mn("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}const i=new Mn("size");return i.xform=r,t.push(i),t.push(new Mn("timeCreated")),t.push(new Mn("updated")),t.push(new Mn("md5Hash",null,!0)),t.push(new Mn("cacheControl",null,!0)),t.push(new Mn("contentDisposition",null,!0)),t.push(new Mn("contentEncoding",null,!0)),t.push(new Mn("contentLanguage",null,!0)),t.push(new Mn("contentType",null,!0)),t.push(new Mn("metadata","customMetadata",!0)),Kh=t,Kh}function o1e(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new fr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function l1e(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const a=n[s];r[a.local]=a.xform(r,e[a.server])}return o1e(r,t),r}function OM(t,e,n){const r=PM(e);return r===null?null:l1e(t,r,n)}function c1e(t,e,n,r){const i=PM(e);if(i===null||!Gj(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(u=>{const d=t.bucket,f=t.fullPath,p="/b/"+a(d)+"/o/"+a(f),v=Yj(p,n,r),g=NM({alt:"media",token:u});return v+g})[0]}function u1e(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class RM{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(t){if(!t)throw Kj()}function d1e(t,e){function n(r,i){const s=OM(t,i,e);return DM(s!==null),s}return n}function f1e(t,e){function n(r,i){const s=OM(t,i,e);return DM(s!==null),c1e(s,i,t.host,t._protocol)}return n}function LM(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Ewe():i=Swe():n.getStatus()===402?i=jwe(t.bucket):n.getStatus()===403?i=Nwe(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function h1e(t){const e=LM(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=_we(t.path)),s.serverResponse=i.serverResponse,s}return n}function p1e(t,e,n){const r=e.fullServerUrl(),i=Yj(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,l=new RM(i,s,f1e(t,n),a);return l.errorHandler=h1e(e),l}function m1e(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function g1e(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=m1e(null,e)),r}function y1e(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){let b="";for(let T=0;T<2;T++)b=b+Math.random().toString().slice(2);return b}const c=l();a["Content-Type"]="multipart/related; boundary="+c;const u=g1e(e,r,i),d=u1e(u,n),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,p=`\r
--`+c+"--",v=Bs.getBlob(f,r,p);if(v===null)throw Cwe();const g={name:u.fullPath},y=Yj(s,t.host,t._protocol),m="POST",x=t.maxUploadRetryTime,w=new RM(y,m,d1e(t,n),x);return w.urlParams=g,w.headers=a,w.body=v.uploadData(),w.errorHandler=LM(e),w}class v1e{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=io.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=io.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=io.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw _u("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _u("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _u("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _u("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _u("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class x1e extends v1e{initXhr(){this.xhr_.responseType="text"}}function MM(){return new x1e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n){this._service=e,n instanceof fr?this._location=n:this._location=fr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new So(e,n)}get root(){const e=new fr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return IM(this._location.path)}get storage(){return this._service}get parent(){const e=r1e(this._location.path);if(e===null)return null;const n=new fr(this._location.bucket,e);return new So(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Dwe(e)}}function b1e(t,e,n){t._throwIfRoot("uploadBytes");const r=y1e(t.storage,t._location,CM(),new Bs(e,!0),n);return t.storage.makeRequestWithTokens(r,MM).then(i=>({metadata:i,ref:t}))}function w1e(t){t._throwIfRoot("getDownloadURL");const e=p1e(t.storage,t._location,CM());return t.storage.makeRequestWithTokens(e,MM).then(n=>{if(n===null)throw Owe();return n})}function _1e(t,e){const n=i1e(t._location.path,e),r=new fr(t._location.bucket,n);return new So(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1e(t){return/^[A-Za-z]+:\/\//.test(t)}function S1e(t,e){return new So(t,e)}function $M(t,e){if(t instanceof Qj){const n=t;if(n._bucket==null)throw Iwe();const r=new So(n,n._bucket);return e!=null?$M(r,e):r}else return e!==void 0?_1e(t,e):t}function E1e(t,e){if(e&&j1e(e)){if(t instanceof Qj)return S1e(t,e);throw Tw("To use ref(service, url), the first argument must be a Storage instance.")}else return $M(t,e)}function DP(t,e){const n=e==null?void 0:e[SM];return n==null?null:fr.makeFromBucketSpec(n,t)}function N1e(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:p4(i,t.app.options.projectId))}class Qj{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=jM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=bwe,this._maxUploadRetryTime=wwe,this._requests=new Set,i!=null?this._bucket=fr.makeFromBucketSpec(i,this._host):this._bucket=DP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fr.makeFromBucketSpec(this._url,e):this._bucket=DP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){RP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){RP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new So(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Lwe(EM());{const a=Kwe(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const LP="@firebase/storage",MP="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM="storage";function T1e(t,e,n){return t=mt(t),b1e(t,e,n)}function A1e(t){return t=mt(t),w1e(t)}function k1e(t,e){return t=mt(t),E1e(t,e)}function P1e(t=kg(),e){t=mt(t);const r=xa(t,FM).getImmediate({identifier:e}),i=d4("storage");return i&&I1e(r,...i),r}function I1e(t,e,n,r={}){N1e(t,e,n,r)}function C1e(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Qj(n,r,i,e,ko)}function O1e(){ui(new Rr(FM,C1e,"PUBLIC").setMultipleInstances(!0)),Zn(LP,MP,""),Zn(LP,MP,"esm2017")}O1e();function R1e(){const{user:t}=$e(),e=$t(),[n,r]=E.useState(!1),[i,s]=E.useState(null),[a,l]=E.useState(""),[c,u]=E.useState([{id:"1",text:""},{id:"2",text:""},{id:"3",text:""},{id:"4",text:""},{id:"5",text:""},{id:"6",text:""}]),[d,f]=E.useState(""),[p,v]=E.useState(null),[g,y]=E.useState(null),[m,x]=E.useState(""),[w,b]=E.useState(""),[T,N]=E.useState(""),[A,_]=E.useState(""),[S,k]=E.useState(""),[O,P]=E.useState(""),R=($,M)=>{s({message:$,type:M}),setTimeout(()=>s(null),3e3)},C=$=>{var L;const M=(L=$.target.files)==null?void 0:L[0];if(M){v(M);const F=new FileReader;F.onloadend=()=>{y(F.result)},F.readAsDataURL(M)}},V=($,M)=>{u(L=>L.map(F=>F.id===$?{...F,text:M}:F))},U=async $=>{if($.preventDefault(),!a.trim()){R("Please enter a title","error");return}if(!w.trim()||!T.trim()){R("Please enter new price and actual cost","error");return}r(!0);try{let M="";if(p){const z=P1e(),oe=k1e(z,`popups/${Date.now()}_${p.name}`);await T1e(oe,p),M=await A1e(oe)}const L=parseInt(S)||0,F=parseInt(O)||0,W=Date.now()+(L*60+F)*60*1e3,K={title:a.trim(),benefits:c.filter(z=>z.text.trim()).map(z=>z.text.trim()),description:d.trim(),imageUrl:M,oldPrice:m.trim(),newPrice:w.trim(),actualCost:parseFloat(T),usersPurchased:parseInt(A)||0,countdownEndTime:W,createdAt:Date.now(),createdBy:(t==null?void 0:t.uid)||"admin",active:!0},Y=On(_W(pn,"globalPopup"),"current");await a5(Y,K);try{await tt.broadcastPopup(K)}catch(z){console.warn("Backend API call failed, but popup saved to Firestore:",z)}R("Popup broadcasted successfully!","success"),setTimeout(()=>{l(""),u([{id:"1",text:""},{id:"2",text:""},{id:"3",text:""},{id:"4",text:""},{id:"5",text:""},{id:"6",text:""}]),f(""),v(null),y(null),x(""),b(""),N(""),_(""),k(""),P("")},1500)}catch(M){console.error("Error broadcasting popup:",M),R(M.message||"Failed to broadcast popup","error")}finally{r(!1)}};return o.jsxs(_M,{children:[o.jsx("div",{className:"min-h-screen relative z-10",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 bg-clip-text text-transparent mb-2",children:"Broadcast Popup"}),o.jsx("p",{className:"text-gray-400",children:"Create and broadcast a popup to all active users"})]}),o.jsxs("form",{onSubmit:U,className:"card space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title *"}),o.jsx("input",{type:"text",value:a,onChange:$=>l($.target.value),className:"input",placeholder:"Enter popup title",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Benefits (up to 6 items)"}),o.jsx("div",{className:"space-y-2",children:c.map($=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5 text-green-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),o.jsx("input",{type:"text",value:$.text,onChange:M=>V($.id,M.target.value),className:"input flex-1",placeholder:`Benefit ${$.id}`})]},$.id))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),o.jsx("textarea",{value:d,onChange:$=>f($.target.value),className:"input min-h-32 resize-none",placeholder:"Enter description (supports markdown)",rows:6})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Main Image"}),o.jsx("input",{type:"file",accept:"image/*",onChange:C,className:"input"}),g&&o.jsx("div",{className:"mt-4 rounded-lg overflow-hidden border border-purple-500/30",children:o.jsx("img",{src:g,alt:"Preview",className:"w-full h-64 object-cover"})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Old Price (strikethrough)"}),o.jsx("input",{type:"text",value:m,onChange:$=>x($.target.value),className:"input",placeholder:"e.g., $900"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"New Price (highlighted) *"}),o.jsx("input",{type:"text",value:w,onChange:$=>b($.target.value),className:"input",placeholder:"e.g., $299",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Actual Cost *"}),o.jsx("input",{type:"number",value:T,onChange:$=>N($.target.value),className:"input",placeholder:"299",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Users Purchased"}),o.jsx("input",{type:"number",value:A,onChange:$=>_($.target.value),className:"input",placeholder:"200"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Countdown Timer"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Hours"}),o.jsx("input",{type:"number",value:S,onChange:$=>k($.target.value),className:"input",placeholder:"0",min:"0"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Minutes"}),o.jsx("input",{type:"number",value:O,onChange:$=>P($.target.value),className:"input",placeholder:"0",min:"0",max:"59"})]})]})]}),o.jsxs("div",{className:"flex gap-4 pt-4",children:[o.jsx("button",{type:"submit",disabled:n,className:"btn btn-primary flex-1",children:n?"Broadcasting...":"Broadcast Popup"}),o.jsx("button",{type:"button",onClick:()=>e("/admin"),className:"btn btn-secondary",children:"Cancel"})]})]})]})}),i&&o.jsx(bt,{message:i.message,type:i.type})]})}function D1e(){const[t,e]=E.useState(""),[n,r]=E.useState(""),[i,s]=E.useState(!1),[a,l]=E.useState(null),[c,u]=E.useState(!1),d=$t(),f=async v=>{v.preventDefault(),s(!0),u(!1);try{const y=(await D1(sn,t,n)).user,m=await y.getIdToken();localStorage.setItem("firebaseToken",m),localStorage.setItem("firebaseUser",JSON.stringify({uid:y.uid,email:y.email}));const x=await kr(On(pn,"users",y.uid));if(!x.exists()){u(!0),s(!1);return}const w=x.data();if(((w==null?void 0:w.profile)||{}).role!=="admin"){u(!0),s(!1),await sn.signOut(),localStorage.removeItem("firebaseToken"),localStorage.removeItem("firebaseUser");return}p("Admin access granted","success"),d("/admin")}catch(g){console.error("Login error:",g),g.code==="auth/user-not-found"||g.code==="auth/wrong-password"?p("Invalid email or password","error"):g.code==="auth/invalid-email"?p("Invalid email address","error"):p(g.message||"Login failed","error")}finally{s(!1)}},p=(v,g)=>{l({message:v,type:g}),setTimeout(()=>l(null),3e3)};return c?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 flex items-center justify-center",children:o.jsxs("div",{className:"card max-w-md w-full mx-4 text-center",children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Access Denied"}),o.jsx("p",{className:"text-gray-400 mb-6",children:"This account does not have admin privileges. Please contact the system administrator."}),o.jsx("button",{onClick:()=>{u(!1),d("/login")},className:"btn btn-secondary w-full",children:"Go to User Login"})]})}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 flex items-center justify-center",children:[o.jsxs("div",{className:"card max-w-md w-full mx-4",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-2",children:"Admin Login"}),o.jsx("p",{className:"text-gray-400",children:"Enter your admin credentials"})]}),o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Email"}),o.jsx("input",{type:"email",value:t,onChange:v=>e(v.target.value),className:"input",placeholder:"admin@example.com",required:!0,disabled:i})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Password"}),o.jsx("input",{type:"password",value:n,onChange:v=>r(v.target.value),className:"input",placeholder:"",required:!0,disabled:i})]}),o.jsx("button",{type:"submit",disabled:i,className:"btn btn-primary w-full",children:i?"Logging in...":"Login as Admin"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("button",{onClick:()=>d("/login"),className:"text-sm text-gray-400 hover:text-gray-300",children:"Go to User Login"})})]}),a&&o.jsx(bt,{message:a.message,type:a.type})]})}function L1e(){const[t,e]=E.useState(""),[n,r]=E.useState("Generating token"),i=async a=>{r("Sending promote request");try{const l="https://dlxtrade-ws-1.onrender.com",c=l.endsWith("/api")?l:`${l}/api`,u=await fetch(`${c}/admin/promote`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"x-admin-setup":"SUPER-SECRET-998877","Content-Type":"application/json"},body:JSON.stringify({email:"sourav23065398@gmail.com"})}),d=await u.json();console.log("PROMOTE RESPONSE:",d),u.ok?r(" ADMIN PROMOTED SUCCESSFULLY"):r(" ERROR: "+(d.error||"Unknown error"))}catch(l){r(" REQUEST FAILED: "+l.message)}},s=async()=>{const a=U1();if(!a.currentUser){r(" No logged-in user");return}const l=await a.currentUser.getIdToken(!0);e(l),r("Token generated. Running promote"),i(l)};return E.useEffect(()=>{s()},[]),o.jsxs("div",{style:{padding:40},children:[o.jsx("h1",{children:"Admin Promotion Tool"}),o.jsxs("p",{children:["Status: ",n]}),o.jsx("textarea",{value:t,readOnly:!0,style:{width:"100%",height:160,marginTop:20}}),o.jsx("button",{style:{marginTop:20},onClick:s,children:"Run Promote Again"})]})}function Rs({children:t}){const{loading:e}=$e(),[n,r]=E.useState(null);return E.useEffect(()=>{(async()=>{if(e){r(o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"text-lg",children:"Loading..."})}));return}const s=sn.currentUser;if(!s){r(o.jsx(xl,{to:"/login",replace:!0}));return}try{const a=On(pn,"users",s.uid),l=await kr(a),c=l.exists()&&l.data()||{};if(c.isAdmin===!0||c.role==="admin"){r(o.jsx(_M,{children:t}));return}}catch(a){console.error("Error checking admin status:",a)}r(o.jsx(xl,{to:"/login",replace:!0}))})()},[e,t]),n}function M1e({agent:t,isUnlocked:e,onUnlockClick:n,onViewDetails:r,index:i=0}){const s=$t(),a=(t.id||t.name).toString(),l=t.imageUrl||`https://ui-avatars.com/api/?name=${encodeURIComponent(t.name)}&background=6366f1&color=fff&size=200`,c=u=>{u.stopPropagation(),r?r(t):s(`/agents/${a}`)};return o.jsxs("div",{className:`relative group rounded-2xl overflow-hidden transition-all duration-300
        bg-gradient-to-br from-slate-800/90 via-slate-800/70 to-slate-900/90
        border-2 backdrop-blur-xl
        ${e?"border-green-500/50 shadow-lg shadow-green-500/20":"border-purple-500/50 shadow-lg shadow-purple-500/20"}
        hover:scale-[1.02] hover:border-purple-500/80 hover:shadow-2xl hover:shadow-purple-500/30
        animate-fade-in`,style:{animationDelay:`${i*.1}s`},children:[o.jsxs("div",{className:"relative h-48 overflow-hidden bg-gradient-to-br from-purple-500/20 to-pink-500/20",children:[o.jsx("img",{src:l,alt:t.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",onError:u=>{const d=u.target;d.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(t.name)}&background=6366f1&color=fff&size=400`}}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/80 via-slate-900/40 to-transparent"}),o.jsx("div",{className:`absolute top-3 left-3 px-3 py-1.5 rounded-lg text-xs font-semibold backdrop-blur-md
          ${e?"bg-green-500/20 border border-green-500/50 text-green-300":"bg-slate-700/80 border border-slate-500/50 text-gray-300"}`,children:e?" Active":" Locked"}),t.badge&&o.jsx("div",{className:"absolute top-3 right-3 px-3 py-1.5 bg-purple-500/20 border border-purple-500/50 rounded-lg text-purple-300 text-xs font-semibold backdrop-blur-md",children:t.badge})]}),o.jsxs("div",{className:"p-5 sm:p-6",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white mb-2 line-clamp-1",children:t.name}),o.jsx("p",{className:"text-gray-300 text-sm mb-4 leading-relaxed line-clamp-2 min-h-[2.5rem]",children:t.description||"Premium trading agent"}),t.features&&t.features.length>0&&o.jsx("div",{className:"mb-4",children:o.jsxs("ul",{className:"space-y-1.5",children:[t.features.slice(0,2).map((u,d)=>o.jsxs("li",{className:"text-gray-400 text-xs flex items-start",children:[o.jsx("span",{className:"text-purple-400 mr-2 mt-0.5",children:""}),o.jsx("span",{className:"line-clamp-1",children:u})]},d)),t.features.length>2&&o.jsxs("li",{className:"text-purple-400 text-xs font-medium",children:["+",t.features.length-2," more features"]})]})}),o.jsxs("div",{className:"pt-4 border-t border-slate-700/50 space-y-3",children:[o.jsx("div",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:t.price?`$${t.price}`:"Free"}),o.jsx("div",{className:"flex gap-2",children:e?o.jsx("button",{onClick:c,className:"w-full px-4 py-2 text-sm font-semibold rounded-lg bg-gradient-to-r from-green-500 to-emerald-500 text-white hover:from-green-600 hover:to-emerald-600 transition-all shadow-lg shadow-green-500/30 hover:shadow-green-500/50",children:" Active - View Details"}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:u=>{u.stopPropagation(),n(t)},className:"flex-1 px-4 py-2 text-sm font-semibold rounded-lg bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-600 hover:to-pink-600 transition-all shadow-lg shadow-purple-500/30 hover:shadow-purple-500/50",children:"Unlock Now"}),o.jsx("button",{onClick:c,className:"px-4 py-2 text-sm font-semibold rounded-lg bg-slate-700/50 border border-slate-600/50 text-gray-300 hover:bg-slate-700/70 transition-all",children:"Details"})]})})]})]}),o.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none",children:o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/10 via-pink-500/10 to-purple-500/10"})})]})}function UM({agent:t,isOpen:e,onClose:n,onSuccess:r}){const[i,s]=E.useState({fullName:"",phoneNumber:"",email:"",isInterested:!1}),[a,l]=E.useState(!1),[c,u]=E.useState(!1);if(!e||!t)return null;const d=async p=>{if(p.preventDefault(),!(!i.fullName||!i.phoneNumber||!i.email)&&i.isInterested){l(!0);try{await mr.submitUnlockRequest({agentId:t.id||t.name,agentName:t.name,fullName:i.fullName,phoneNumber:i.phoneNumber,email:i.email}),u(!0),r&&r()}catch(v){console.error("Error submitting unlock request:",v),u(!0)}finally{l(!1)}}},f=()=>{a||(s({fullName:"",phoneNumber:"",email:"",isInterested:!1}),u(!1),n())};return o.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-gradient-to-br from-slate-800/95 via-slate-800/95 to-slate-900/95 backdrop-blur-xl border-2 border-purple-500/30 rounded-2xl shadow-2xl max-w-md w-full animate-fade-in",children:o.jsx("div",{className:"p-6",children:c?o.jsxs("div",{className:"text-center py-4",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-green-500/20 border-2 border-green-500/50 flex items-center justify-center",children:o.jsx("svg",{className:"w-8 h-8 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),o.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Request Submitted!"}),o.jsx("p",{className:"text-gray-300 mb-6",children:"Our team will contact you within 2 to 12 hours."}),o.jsx("button",{onClick:f,className:"btn btn-primary w-full",children:"Close"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h2",{className:"text-2xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:["Unlock ",t.name]}),o.jsx("button",{onClick:f,disabled:a,className:"text-gray-400 hover:text-white transition-colors disabled:opacity-50",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Full Name ",o.jsx("span",{className:"text-red-400",children:"*"})]}),o.jsx("input",{type:"text",required:!0,value:i.fullName,onChange:p=>s({...i,fullName:p.target.value}),className:"input w-full",placeholder:"Enter your full name",disabled:a})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Phone Number ",o.jsx("span",{className:"text-red-400",children:"*"})]}),o.jsx("input",{type:"tel",required:!0,value:i.phoneNumber,onChange:p=>s({...i,phoneNumber:p.target.value}),className:"input w-full",placeholder:"Enter your phone number",disabled:a})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Email ID ",o.jsx("span",{className:"text-red-400",children:"*"})]}),o.jsx("input",{type:"email",required:!0,value:i.email,onChange:p=>s({...i,email:p.target.value}),className:"input w-full",placeholder:"Enter your email",disabled:a})]}),o.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-4",children:[o.jsx("p",{className:"text-gray-300 text-sm mb-3",children:"Are you really interested in unlocking this premium agent?"}),o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",required:!0,checked:i.isInterested,onChange:p=>s({...i,isInterested:p.target.checked}),className:"w-5 h-5 rounded border-purple-500/30 bg-slate-800 text-purple-500 focus:ring-purple-500 focus:ring-2",disabled:a}),o.jsx("span",{className:"text-gray-300 text-sm",children:"Yes, I am interested"})]})]}),o.jsxs("div",{className:"flex gap-3 pt-2",children:[o.jsx("button",{type:"submit",disabled:a||!i.isInterested,className:"btn btn-primary flex-1 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Submitting...":"Submit Request"}),o.jsx("button",{type:"button",onClick:f,disabled:a,className:"btn btn-secondary disabled:opacity-50",children:"Cancel"})]})]})]})})})})}function $1e(){const{user:t,logout:e}=$e(),[n,r]=E.useState([]),[i,s]=E.useState({}),[a,l]=E.useState(!0),[c,u]=E.useState(null),[,d]=E.useState(!1),[f,p]=E.useState(null),[v,g]=E.useState(!1);E.useEffect(()=>{t&&y()},[t]);const y=async()=>{var b,T;if(t){l(!0);try{const N=await mr.getAll();console.log("Agents API response:",N.data);const A=N.data.agents||[];A.length===0&&(console.warn("No agents found in backend. Please add agents to Firestore."),w("No agents available. Please contact admin.","error"));const _=A.map(P=>{var R;return{id:P.id||((R=P.name)==null?void 0:R.toLowerCase().replace(/\s+/g,"_"))||"",name:P.name||"",description:P.description||"",features:P.features||[],price:P.price||0,whatsappNumber:P.whatsappNumber||"9155604591",category:P.category||"Trading",badge:P.badge,imageUrl:P.imageUrl,enabled:P.enabled!==!1}});r(_);const S=await mr.getUnlocks();console.log("Agent unlocks API response:",S.data);const k=S.data.unlocks||[],O={};k.forEach(P=>{const R=_.find(C=>C.name===P.agentName);R&&(O[R.id]=!0)}),s(O)}catch(N){console.error("Error loading data:",N),w(((T=(b=N.response)==null?void 0:b.data)==null?void 0:T.error)||"Failed to load agents","error"),r([])}finally{l(!1)}}},m=b=>{p(b),g(!0)},x=()=>{g(!1),p(null)},w=(b,T)=>{u({message:b,type:T}),setTimeout(()=>u(null),3e3)};return a?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 flex items-center justify-center",children:o.jsx("div",{className:"text-lg text-gray-300",children:"Loading agents..."})}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900",children:[o.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),o.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})]}),o.jsx($r,{onLogout:e,onMenuToggle:d}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-purple-900/30 via-pink-900/20 to-slate-900 border-b border-purple-500/20",children:[o.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),o.jsx("div",{className:"relative px-4 sm:px-6 md:px-8 pt-2",children:o.jsxs("div",{className:"max-w-4xl mx-auto mt-8 animate-fade-in",children:[o.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-extrabold bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent mb-4 leading-tight",children:"Discover Premium Trading Agents"}),o.jsx("div",{className:"relative mb-6",children:o.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-gradient-to-r from-purple-500 via-pink-500 to-purple-500 rounded-full w-32 animate-pulse shadow-lg shadow-purple-500/50"})}),o.jsx("p",{className:"text-lg sm:text-xl text-gray-300 max-w-3xl leading-relaxed",children:"Choose from our collection of advanced AI-powered agents designed to automate your trading and maximize profits 24/7."})]})})]}),o.jsx("div",{className:"p-4 sm:p-6 md:p-8 lg:p-12",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[o.jsxs("div",{className:"bg-gradient-to-br from-slate-800/70 via-slate-800/50 to-slate-900/70 backdrop-blur-2xl border border-purple-500/30 rounded-xl p-3 text-center animate-fade-in shadow-lg shadow-purple-500/10",children:[o.jsx("div",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:n.length}),o.jsx("div",{className:"text-xs md:text-sm text-gray-400 mt-1",children:"Premium Agents"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-slate-800/70 via-slate-800/50 to-slate-900/70 backdrop-blur-2xl border border-purple-500/30 rounded-2xl p-4 text-center animate-fade-in",style:{animationDelay:"0.1s"},children:[o.jsx("div",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent",children:"24/7"}),o.jsx("div",{className:"text-xs md:text-sm text-gray-400 mt-1",children:"Active Trading"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-slate-800/70 via-slate-800/50 to-slate-900/70 backdrop-blur-2xl border border-purple-500/30 rounded-2xl p-4 text-center animate-fade-in",style:{animationDelay:"0.2s"},children:[o.jsx("div",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-green-400 to-emerald-400 bg-clip-text text-transparent",children:"AI"}),o.jsx("div",{className:"text-xs md:text-sm text-gray-400 mt-1",children:"Powered"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-slate-800/70 via-slate-800/50 to-slate-900/70 backdrop-blur-2xl border border-purple-500/30 rounded-2xl p-4 text-center animate-fade-in",style:{animationDelay:"0.3s"},children:[o.jsx("div",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent",children:""}),o.jsx("div",{className:"text-xs md:text-sm text-gray-400 mt-1",children:"Lightning Fast"})]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:n.filter(b=>b.enabled!==!1).map((b,T)=>{const N=i[b.id]||!1;return o.jsx(M1e,{agent:b,isUnlocked:N,onUnlockClick:m,index:T},b.id)})})]})})]}),c&&o.jsx(bt,{message:c.message,type:c.type}),o.jsx(UM,{agent:f,isOpen:v,onClose:x})]})}function F1e(){const{agentId:t}=Ng(),{user:e,logout:n}=$e(),r=$t(),[i,s]=E.useState(null),[a,l]=E.useState(!1),[c,u]=E.useState(!0),[d,f]=E.useState(null),[,p]=E.useState(!1),[v,g]=E.useState(!1);E.useEffect(()=>{e&&t&&y()},[e,t]);const y=async()=>{var b,T,N;if(t){u(!0);try{const S=((await mr.getAll()).data.agents||[]).find(k=>{var O;return k.id===t||((O=k.name)==null?void 0:O.toLowerCase().replace(/\s+/g,"_"))===t||k.id===decodeURIComponent(t)});if(S){const k={id:S.id||((b=S.name)==null?void 0:b.toLowerCase().replace(/\s+/g,"_"))||"",name:S.name||"",description:S.description||"",longDescription:S.longDescription||S.description||"",features:S.features||[],price:S.price||0,category:S.category||"Trading",badge:S.badge,imageUrl:S.imageUrl,enabled:S.enabled!==!1};s(k);const R=((await mr.getUnlocks()).data.unlocks||[]).some(C=>C.agentName===S.name);l(R)}else x("Agent not found","error"),setTimeout(()=>r("/agents"),2e3)}catch(A){console.error("Error loading agent:",A),x(((N=(T=A.response)==null?void 0:T.data)==null?void 0:N.error)||"Failed to load agent","error"),setTimeout(()=>r("/agents"),2e3)}finally{u(!1)}}},m=()=>{i&&g(!0)},x=(b,T)=>{f({message:b,type:T}),setTimeout(()=>f(null),3e3)};if(c)return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 flex items-center justify-center",children:o.jsx("div",{className:"text-lg text-gray-300",children:"Loading agent details..."})});if(!i)return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-lg text-gray-300 mb-4",children:"Agent not found"}),o.jsx("button",{onClick:()=>r("/agents"),className:"btn btn-primary",children:"Back to Marketplace"})]})});const w=i.imageUrl||`https://ui-avatars.com/api/?name=${encodeURIComponent(i.name)}&background=6366f1&color=fff&size=400`;return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900",children:[o.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),o.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})]}),o.jsx($r,{onLogout:n,onMenuToggle:p}),o.jsxs("div",{className:"relative z-10 pt-16 lg:pt-0",children:[o.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-purple-900/30 via-pink-900/20 to-slate-900 border-b border-purple-500/20",children:[o.jsxs("div",{className:"relative h-64 sm:h-80 md:h-96 overflow-hidden",children:[o.jsx("img",{src:w,alt:i.name,className:"w-full h-full object-cover",onError:b=>{const T=b.target;T.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(i.name)}&background=6366f1&color=fff&size=800`}}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/80 to-transparent"}),o.jsxs("div",{className:"absolute top-4 left-4 flex gap-2",children:[o.jsx("div",{className:`px-4 py-2 rounded-lg text-sm font-semibold backdrop-blur-md
                ${a?"bg-green-500/20 border border-green-500/50 text-green-300":"bg-slate-700/80 border border-slate-500/50 text-gray-300"}`,children:a?" Active":" Locked"}),i.badge&&o.jsx("div",{className:"px-4 py-2 bg-purple-500/20 border border-purple-500/50 rounded-lg text-purple-300 text-sm font-semibold backdrop-blur-md",children:i.badge})]}),o.jsx("button",{onClick:()=>r("/agents"),className:"absolute top-4 right-4 px-4 py-2 bg-slate-800/80 backdrop-blur-md border border-slate-600/50 rounded-lg text-gray-300 hover:text-white hover:bg-slate-700/80 transition-all",children:" Back"})]}),o.jsx("div",{className:"relative px-4 sm:px-6 md:px-8 py-6 sm:py-8",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx("div",{className:"inline-block px-4 py-2 mb-4 bg-purple-500/20 border border-purple-500/50 rounded-full text-purple-300 text-sm font-semibold backdrop-blur-sm",children:i.category}),o.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-extrabold bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent mb-4 leading-tight",children:i.name}),o.jsx("p",{className:"text-lg sm:text-xl text-gray-300 max-w-3xl leading-relaxed",children:i.description})]})})]}),o.jsx("div",{className:"p-4 sm:p-6 md:p-8 lg:p-12",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-slate-800/70 via-slate-800/50 to-slate-900/70 backdrop-blur-2xl border border-purple-500/30 rounded-3xl shadow-2xl p-6 md:p-8 animate-slide-up",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-6",children:"About This Agent"}),o.jsx("div",{className:"text-gray-300 text-base md:text-lg leading-relaxed whitespace-pre-line",children:i.longDescription||i.description||"No detailed description available."})]}),i.features&&i.features.length>0&&o.jsxs("div",{className:"bg-gradient-to-br from-slate-800/70 via-slate-800/50 to-slate-900/70 backdrop-blur-2xl border border-purple-500/30 rounded-3xl shadow-2xl p-6 md:p-8 animate-slide-up",style:{animationDelay:"0.1s"},children:[o.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-6 flex items-center",children:[o.jsx("svg",{className:"w-6 h-6 mr-3 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Key Features"]}),o.jsx("ul",{className:"space-y-4",children:i.features.map((b,T)=>o.jsxs("li",{className:"text-gray-300 flex items-start group",children:[o.jsx("span",{className:"text-purple-400 mr-4 mt-1 text-xl group-hover:scale-110 transition-transform",children:""}),o.jsx("span",{className:"text-base md:text-lg leading-relaxed flex-1",children:b})]},T))})]})]}),o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"sticky top-8 bg-gradient-to-br from-slate-800/70 via-slate-800/50 to-slate-900/70 backdrop-blur-2xl border border-purple-500/30 rounded-3xl shadow-2xl p-6 md:p-8 animate-fade-in",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-6",children:"Pricing"}),o.jsx("div",{className:"mb-6 p-6 bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/30 rounded-2xl backdrop-blur-sm",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-2",children:i.price?`$${i.price}`:"Free"}),o.jsx("div",{className:"text-gray-400 text-sm",children:"One-time payment"})]})}),a?o.jsxs("div",{className:"p-5 bg-green-500/20 border border-green-500/50 rounded-2xl text-center backdrop-blur-sm",children:[o.jsxs("div",{className:"text-green-400 font-semibold mb-2 flex items-center justify-center",children:[o.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Agent Already Unlocked"]}),o.jsx("div",{className:"text-gray-300 text-sm",children:"This agent is active in your account"})]}):o.jsxs("button",{onClick:m,className:"w-full px-6 py-4 md:py-5 bg-gradient-to-r from-purple-500 via-pink-500 to-purple-500 text-white font-bold text-lg rounded-2xl hover:from-purple-600 hover:via-pink-600 hover:to-purple-600 transition-all duration-300 shadow-2xl shadow-purple-500/40 hover:shadow-purple-500/60 hover:scale-105 relative overflow-hidden group",children:[o.jsxs("span",{className:"relative z-10 flex items-center justify-center",children:[o.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Unlock Now"]}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-400 to-pink-400 opacity-0 group-hover:opacity-20 transition-opacity duration-300"})]})]})})]})})})]}),d&&o.jsx(bt,{message:d.message,type:d.type}),o.jsx(UM,{agent:i,isOpen:v,onClose:()=>g(!1)})]})}function U1e({children:t}){const{agentId:e}=Ng(),{user:n,logout:r}=$e(),{unlockedAgents:i}=P_(),s=$t(),[a,l]=E.useState(null),[c,u]=E.useState(!0),[d,f]=E.useState(null),[p,v]=E.useState("inactive");E.useEffect(()=>{n&&e&&g()},[n,e,i]);const g=async()=>{var x,w;if(e){u(!0);try{const b=i.find(T=>{var N;return T.agentId===e||((N=T.agent)==null?void 0:N.id)===e});if(!b){y("Agent not unlocked or not found","error"),setTimeout(()=>s("/agents"),2e3);return}l(b.agent||{name:b.agentName}),v(b.status==="active"?"active":"inactive")}catch(b){console.error("Error loading agent data:",b),y(((w=(x=b.response)==null?void 0:x.data)==null?void 0:w.error)||"Failed to load agent","error")}finally{u(!1)}}},y=(x,w)=>{f({message:x,type:w}),setTimeout(()=>f(null),3e3)};if(c)return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 flex items-center justify-center",children:o.jsx("div",{className:"text-lg text-gray-300",children:"Loading agent..."})});if(!a)return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-lg text-gray-300 mb-4",children:"Agent not found or not unlocked"}),o.jsx("button",{onClick:()=>s("/agents"),className:"btn btn-primary",children:"Back to Marketplace"})]})});const m=a.imageUrl||`https://ui-avatars.com/api/?name=${encodeURIComponent(a.name)}&background=6366f1&color=fff&size=400`;return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900",children:[o.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),o.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})]}),o.jsx($r,{onLogout:r}),o.jsxs("div",{className:"relative z-10 pt-16 lg:pt-0",children:[o.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-purple-900/30 via-pink-900/20 to-slate-900 border-b border-purple-500/20",children:[o.jsxs("div",{className:"relative h-48 sm:h-64 overflow-hidden",children:[o.jsx("img",{src:m,alt:a.name,className:"w-full h-full object-cover",onError:x=>{const w=x.target;w.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(a.name)}&background=6366f1&color=fff&size=800`}}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/80 to-transparent"}),o.jsx("div",{className:"absolute top-4 left-4",children:o.jsx("div",{className:`px-4 py-2 rounded-lg text-sm font-semibold backdrop-blur-md
                ${p==="active"?"bg-green-500/20 border border-green-500/50 text-green-300":"bg-slate-700/80 border border-slate-500/50 text-gray-300"}`,children:p==="active"?" Active":" Inactive"})})]}),o.jsx("div",{className:"relative px-4 sm:px-6 md:px-8 py-6 sm:py-8",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-extrabold bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent mb-2",children:a.name}),a.description&&o.jsx("p",{className:"text-lg sm:text-xl text-gray-300 max-w-3xl",children:a.description})]})})]}),o.jsx("div",{className:"p-4 sm:p-6 md:p-8 lg:p-12",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:t||o.jsxs("div",{className:"bg-gradient-to-br from-slate-800/70 via-slate-800/50 to-slate-900/70 backdrop-blur-2xl border border-purple-500/30 rounded-3xl shadow-2xl p-6 md:p-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Agent Dashboard"}),o.jsx("p",{className:"text-gray-400",children:"Agent feature workspace coming soon..."})]})})})]}),d&&o.jsx(bt,{message:d.message,type:d.type})]})}function B1e(){const{agentId:t}=Ng(),{unlockedAgents:e}=P_(),[n,r]=E.useState(null),[i,s]=E.useState({}),[a,l]=E.useState(""),[c,u]=E.useState(""),[d,f]=E.useState(""),[p,v]=E.useState("inactive"),[g,y]=E.useState(!1),[m,x]=E.useState(null);E.useEffect(()=>{t&&e.length>0&&w()},[t,e]);const w=async()=>{var A,_,S;if(!t)return;const N=e.find(k=>{var O;return k.agentId===t||((O=k.agent)==null?void 0:O.id)===t});N&&(r(N.agent||{name:N.agentName}),s(N.settings||{}),l(((A=N.settings)==null?void 0:A.instructions)||""),u(((_=N.settings)==null?void 0:_.apiKey)||""),f(((S=N.settings)==null?void 0:S.apiSecret)||""),v(N.status==="active"?"active":"inactive"))},b=async()=>{var N,A;if(t){y(!0);try{const _={...i,instructions:a,apiKey:c,apiSecret:d,updatedAt:new Date().toISOString()};await mr.updateAgentSettings(t,_),T("Settings saved successfully","success"),window.location.reload()}catch(_){T(((A=(N=_.response)==null?void 0:N.data)==null?void 0:A.error)||"Failed to save settings","error")}finally{y(!1)}}},T=(N,A)=>{x({message:N,type:A}),setTimeout(()=>x(null),3e3)};return o.jsxs(U1e,{children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-slate-800/70 via-slate-800/50 to-slate-900/70 backdrop-blur-2xl border border-purple-500/30 rounded-3xl shadow-2xl p-6 md:p-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Status"}),o.jsx("div",{className:`px-4 py-2 rounded-lg text-sm font-semibold
              ${p==="active"?"bg-green-500/20 border border-green-500/50 text-green-300":"bg-slate-700/80 border border-slate-500/50 text-gray-300"}`,children:p==="active"?" Active":" Inactive"})]}),o.jsxs("p",{className:"text-gray-400",children:["Agent status: ",p==="active"?"Running and operational":"Stopped or paused"]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-slate-800/70 via-slate-800/50 to-slate-900/70 backdrop-blur-2xl border border-purple-500/30 rounded-3xl shadow-2xl p-6 md:p-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Settings"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"API Key"}),o.jsx("input",{type:"text",value:c,onChange:N=>u(N.target.value),className:"input w-full",placeholder:"Enter API key"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"API Secret"}),o.jsx("input",{type:"password",value:d,onChange:N=>f(N.target.value),className:"input w-full",placeholder:"Enter API secret"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Configuration (JSON)"}),o.jsx("textarea",{value:JSON.stringify(i,null,2),onChange:N=>{try{s(JSON.parse(N.target.value))}catch{}},className:"input w-full min-h-[200px] font-mono text-sm",placeholder:'{"key": "value"}'})]}),o.jsx("button",{onClick:b,disabled:g,className:"btn btn-primary w-full disabled:opacity-50",children:g?"Saving...":"Save Settings"})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-slate-800/70 via-slate-800/50 to-slate-900/70 backdrop-blur-2xl border border-purple-500/30 rounded-3xl shadow-2xl p-6 md:p-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Instructions"}),o.jsx("div",{className:"prose prose-invert max-w-none",children:a?o.jsx("div",{className:"text-gray-300 whitespace-pre-line",children:a}):o.jsx("p",{className:"text-gray-400",children:"No instructions available. Contact admin for setup guidance."})})]}),o.jsxs("div",{className:"bg-gradient-to-br from-slate-800/70 via-slate-800/50 to-slate-900/70 backdrop-blur-2xl border border-purple-500/30 rounded-3xl shadow-2xl p-6 md:p-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Agent Controls"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("button",{onClick:()=>v(p==="active"?"inactive":"active"),className:`btn w-full ${p==="active"?"btn-danger":"btn-primary"}`,children:p==="active"?"Stop Agent":"Start Agent"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Use these controls to manage your agent. Changes will be saved automatically."})]})]})]}),m&&o.jsx(bt,{message:m.message,type:m.type})]})}function V1e(){const{user:t}=$e(),e=$t(),[n,r]=E.useState(1),[i,s]=E.useState(!1),[a,l]=E.useState(null),[c,u]=E.useState(!1),[d,f]=E.useState([]),[p,v]=E.useState(""),[g,y]=E.useState([]),[m,x]=E.useState(""),[w,b]=E.useState({riskLevel:"",tradingStyle:"",analysisType:""}),[T,N]=E.useState([]),[A,_]=E.useState(!0),S=6;E.useEffect(()=>{if(!t){e("/login");return}(async()=>{try{const W=(await kr(On(pn,"users",t.uid))).data();if(W&&W.onboardingRequired===!1){e("/dashboard");return}}catch(F){console.error("Error checking onboarding status:",F)}})(),k()},[t,e]);const k=async()=>{try{const F=(await mr.getAll()).data.agents||[];N(F)}catch(L){console.error("Error loading agents:",L),O("Failed to load agents","error")}finally{_(!1)}},O=(L,F)=>{l({message:L,type:F}),setTimeout(()=>l(null),3e3)},P=L=>{f(F=>F.includes(L)?F.filter(W=>W!==L):[...F,L])},R=L=>{y(F=>F.includes(L)?F.filter(W=>W!==L):[...F,L])},C=()=>{if(n===1&&d.length===0){O("Please select at least one market","error");return}if(n===2&&!p){O("Please select your trading experience","error");return}if(n===4&&!m){O("Please select your portfolio size","error");return}if(n===5&&(!w.riskLevel||!w.tradingStyle||!w.analysisType)){O("Please fill all trading preferences","error");return}n<S&&r(n+1)},V=()=>{n>1&&r(n-1)},U=async()=>{if(t){s(!0);try{const L=On(pn,"users",t.uid);await $W(L,{tradingMarkets:d,experienceLevel:p,interestedAgents:g,portfolioSize:m,preferences:w,onboardingRequired:!1,updatedAt:new Date}),O("Onboarding completed successfully!","success"),setTimeout(()=>{e("/dashboard")},1e3)}catch(L){console.error("Error completing onboarding:",L),O("Failed to save onboarding data. Please try again.","error")}finally{s(!1)}}},$=n/S*100,M=()=>t?t.displayName?t.displayName.split(" ").map(L=>L[0]).join("").toUpperCase().slice(0,2):t.email?t.email[0].toUpperCase():"U":"U";return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 relative overflow-hidden",children:[o.jsx("header",{className:"md:hidden fixed inset-x-0 top-0 z-[9999] bg-slate-900/95 backdrop-blur-2xl border-b border-slate-800/50 shadow-lg px-3 py-3",children:o.jsxs("div",{className:"flex items-center justify-between gap-2 w-full",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0 overflow-hidden",children:[o.jsx("button",{onClick:()=>u(!c),className:"p-2 text-white hover:bg-slate-800/50 rounded-lg transition-colors flex-shrink-0","aria-label":"Toggle menu",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),o.jsx("div",{className:"w-9 h-9 rounded-lg bg-gradient-to-br from-blue-500 via-blue-400 to-cyan-400 flex items-center justify-center flex-shrink-0 shadow-lg",children:o.jsx("span",{className:"text-white font-bold text-base",children:"D"})}),o.jsx("span",{className:"text-white font-semibold text-base truncate",children:"DigiLinex"})]}),o.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[o.jsx("button",{className:"w-9 h-9 rounded-lg bg-slate-800/90 border border-slate-600/30 flex items-center justify-center hover:bg-slate-700/50 transition-colors flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})})}),o.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-purple-500 via-purple-400 to-blue-500 flex items-center justify-center flex-shrink-0 shadow-lg",children:o.jsx("span",{className:"text-white font-semibold text-xs",children:M()})}),o.jsx("button",{className:"p-1 text-white hover:bg-slate-800/50 rounded transition-colors flex-shrink-0",children:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})}),o.jsx("div",{className:"md:hidden h-16"}),o.jsxs("div",{className:"px-4 py-8 relative",children:[o.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),o.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"})]}),o.jsxs("div",{className:"relative max-w-2xl mx-auto z-10",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsxs("span",{className:"text-sm text-gray-400",children:["Step ",n," of ",S]}),o.jsxs("span",{className:"text-sm text-gray-400",children:[Math.round($),"%"]})]}),o.jsx("div",{className:"w-full bg-slate-800/50 rounded-full h-2 overflow-hidden",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-300 rounded-full",style:{width:`${$}%`}})})]}),o.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-xl border border-purple-500/20 rounded-2xl shadow-2xl p-6 sm:p-8",children:[n===1&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-2",children:"Which markets do you trade in?"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Select all that apply"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:["Crypto","Stocks","Forex","Options","Commodities","Futures","Other"].map(L=>o.jsx("button",{type:"button",onClick:()=>P(L),className:`p-4 rounded-lg border-2 transition-all text-left ${d.includes(L)?"border-purple-500 bg-purple-500/20 text-purple-300":"border-purple-500/30 bg-slate-900/50 text-gray-300 hover:border-purple-500/50"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-medium",children:L}),d.includes(L)&&o.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]})},L))})]}),n===2&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-2",children:"How long have you been trading?"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Select your experience level"})]}),o.jsx("div",{className:"space-y-3",children:[{value:"new",label:"New Trader (03 months)"},{value:"beginner",label:"Beginner (312 months)"},{value:"intermediate",label:"Intermediate (13 years)"},{value:"advanced",label:"Advanced (3+ years)"}].map(L=>o.jsx("button",{type:"button",onClick:()=>v(L.value),className:`w-full p-4 rounded-lg border-2 transition-all text-left ${p===L.value?"border-purple-500 bg-purple-500/20 text-purple-300":"border-purple-500/30 bg-slate-900/50 text-gray-300 hover:border-purple-500/50"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-medium",children:L.label}),p===L.value&&o.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]})},L.value))})]}),n===3&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-2",children:"Which premium agent(s) are you interested in?"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Select the agent(s) you would like to buy"})]}),A?o.jsx("div",{className:"text-center py-8 text-gray-400",children:"Loading agents..."}):T.length===0?o.jsx("div",{className:"text-center py-8 text-gray-400",children:"No agents available"}):o.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:T.map(L=>o.jsx("button",{type:"button",onClick:()=>R(L.id),className:`w-full p-4 rounded-lg border-2 transition-all text-left ${g.includes(L.id)?"border-purple-500 bg-purple-500/20 text-purple-300":"border-purple-500/30 bg-slate-900/50 text-gray-300 hover:border-purple-500/50"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:L.name}),L.description&&o.jsx("div",{className:"text-sm text-gray-400 mt-1 line-clamp-1",children:L.description}),L.price!==void 0&&o.jsxs("div",{className:"text-sm text-purple-400 mt-1",children:["$",L.price]})]}),g.includes(L.id)&&o.jsx("svg",{className:"w-5 h-5 text-purple-400 ml-4",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]})},L.id))}),o.jsx("p",{className:"text-xs text-gray-500 text-center",children:"You can skip this step if you're not interested in any agents yet"})]}),n===4&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-2",children:"What is your current portfolio size?"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Select the range that best describes your portfolio"})]}),o.jsx("div",{className:"space-y-3",children:[{value:"0-1000",label:"0  1,000"},{value:"1000-10000",label:"1,000  10,000"},{value:"10000-100000",label:"10,000  100,000"},{value:"100000-1000000",label:"100,000  1,000,000"},{value:"1000000+",label:"1,000,000+"}].map(L=>o.jsx("button",{type:"button",onClick:()=>x(L.value),className:`w-full p-4 rounded-lg border-2 transition-all text-left ${m===L.value?"border-purple-500 bg-purple-500/20 text-purple-300":"border-purple-500/30 bg-slate-900/50 text-gray-300 hover:border-purple-500/50"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-medium",children:L.label}),m===L.value&&o.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]})},L.value))})]}),n===5&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-2",children:"Tell us about your trading preferences"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Help us customize your experience"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Risk Level"}),o.jsx("div",{className:"grid grid-cols-3 gap-2",children:["Low","Medium","High"].map(L=>o.jsx("button",{type:"button",onClick:()=>b({...w,riskLevel:L.toLowerCase()}),className:`p-3 rounded-lg border-2 transition-all ${w.riskLevel===L.toLowerCase()?"border-purple-500 bg-purple-500/20 text-purple-300":"border-purple-500/30 bg-slate-900/50 text-gray-300 hover:border-purple-500/50"}`,children:L},L))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Trading Style"}),o.jsx("div",{className:"grid grid-cols-3 gap-2",children:["Intraday","Swing","Long-term"].map(L=>o.jsx("button",{type:"button",onClick:()=>b({...w,tradingStyle:L.toLowerCase()}),className:`p-3 rounded-lg border-2 transition-all ${w.tradingStyle===L.toLowerCase()?"border-purple-500 bg-purple-500/20 text-purple-300":"border-purple-500/30 bg-slate-900/50 text-gray-300 hover:border-purple-500/50"}`,children:L},L))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Preferred Analysis"}),o.jsx("div",{className:"grid grid-cols-3 gap-2",children:["Technical","Fundamental","AI Signals"].map(L=>o.jsx("button",{type:"button",onClick:()=>b({...w,analysisType:L.toLowerCase().replace(" ","_")}),className:`p-3 rounded-lg border-2 transition-all ${w.analysisType===L.toLowerCase().replace(" ","_")?"border-purple-500 bg-purple-500/20 text-purple-300":"border-purple-500/30 bg-slate-900/50 text-gray-300 hover:border-purple-500/50"}`,children:L},L))})]})]})]}),n===6&&o.jsxs("div",{className:"space-y-6 text-center",children:[o.jsx("div",{className:"w-20 h-20 mx-auto rounded-full bg-green-500/20 border-2 border-green-500/50 flex items-center justify-center",children:o.jsx("svg",{className:"w-10 h-10 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-2",children:"Setup Complete"}),o.jsx("p",{className:"text-gray-400",children:"Your profile is ready. Continue to your dashboard."})]})]}),o.jsxs("div",{className:"mt-8 flex gap-3",children:[n>1&&o.jsx("button",{type:"button",onClick:V,className:"flex-1 px-4 py-2.5 bg-slate-900/50 border border-purple-500/30 rounded-lg text-gray-300 hover:bg-slate-800/50 transition-all",disabled:i,children:"Back"}),n<S?o.jsx("button",{type:"button",onClick:C,className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-medium rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-purple-500/20",disabled:i,children:"Next"}):o.jsx("button",{type:"button",onClick:U,className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-medium rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-purple-500/20",disabled:i,children:i?"Saving...":"Go to Dashboard"})]})]})]}),a&&o.jsx(bt,{message:a.message,type:a.type})]})]})}const BM=E.memo(()=>{const{user:t,logout:e}=$e(),n=$t(),[r,i]=E.useState(!1),s=E.useRef(null),a=E.useMemo(()=>t?t.displayName?t.displayName.split(" ").map(f=>f[0]).join("").toUpperCase().slice(0,2):t.email?t.email[0].toUpperCase():"U":"U",[t==null?void 0:t.displayName,t==null?void 0:t.email]);E.useEffect(()=>{const f=p=>{s.current&&!s.current.contains(p.target)&&i(!1)};if(r)return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[r]),E.useEffect(()=>{const f=p=>{p.key==="Escape"&&r&&i(!1)};if(r)return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[r]);const l=E.useCallback(()=>{i(!1),n("/profile")},[n]),c=E.useCallback(()=>{i(!1),n("/settings")},[n]),u=E.useCallback(async()=>{i(!1),await e()},[e]),d=E.useCallback(()=>{i(f=>!f)},[]);return t?o.jsxs("div",{className:"relative",ref:s,children:[o.jsxs("button",{onClick:d,"aria-label":"Profile menu","aria-expanded":r,"aria-haspopup":"true",className:"flex items-center gap-2 rounded-full bg-white/5 border border-white/10 pr-2 pl-1 py-1 text-white shadow-lg shadow-black/30 hover:bg-white/10 transition-all active:scale-95",children:[o.jsx("span",{className:"relative w-9 h-9 sm:w-10 sm:h-10 rounded-full bg-gradient-to-br from-purple-500 via-purple-400 to-blue-500 flex items-center justify-center text-xs sm:text-sm font-semibold shadow-md",children:a}),o.jsx(c5,{className:`w-4 h-4 transition-transform ${r?"rotate-180":""}`}),"d"]}),r&&o.jsx("div",{className:"absolute right-0 mt-2 w-48 rounded-xl bg-black/40 backdrop-blur-sm border border-white/10 shadow-lg z-50 animate-fade-in overflow-hidden",children:o.jsxs("div",{className:"p-1.5 space-y-0.5",children:[o.jsxs("button",{onClick:l,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-gray-200 hover:text-white hover:bg-white/10 transition-all text-sm font-medium active:scale-95",children:[o.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),o.jsx("span",{children:"Profile"})]}),o.jsxs("button",{onClick:c,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-gray-200 hover:text-white hover:bg-white/10 transition-all text-sm font-medium active:scale-95",children:[o.jsxs("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),o.jsx("span",{children:"Settings"})]}),o.jsx("div",{className:"border-t border-white/10 my-1"}),o.jsxs("button",{onClick:u,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-red-400 hover:text-red-300 hover:bg-red-500/10 transition-all text-sm font-medium active:scale-95",children:[o.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),o.jsx("span",{children:"Logout"})]})]})})]}):null});BM.displayName="ProfileMenu";const VM=E.memo(()=>{const{user:t}=$e(),{unreadCount:e}=Ac(),[n,r]=E.useState(!1),i=E.useRef(null),[s,a]=E.useState(null);E.useEffect(()=>{const u=d=>{i.current&&!i.current.contains(d.target)&&r(!1)};if(n)return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[n]),E.useEffect(()=>{const u=d=>{d.key==="Escape"&&n&&r(!1)};if(n)return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[n]),E.useEffect(()=>{n&&!s&&Qt(()=>import("./NotificationPanel-vr1b5rzp.js"),[]).then(u=>{a(()=>u.default)})},[n,s]);const l=E.useCallback(()=>{r(u=>!u)},[]),c=E.useCallback(()=>{r(!1)},[]);return t?o.jsxs("div",{className:"relative",ref:i,children:[o.jsxs("button",{onClick:l,"aria-label":"Notifications","aria-expanded":n,"aria-haspopup":"true",className:"relative p-2 text-gray-300 hover:text-white transition-colors rounded-lg hover:bg-white/10 active:scale-95",children:[o.jsx(GW,{className:"w-5 h-5 sm:w-6 sm:h-6"}),e>0&&o.jsx("span",{className:"absolute top-0 right-0 flex items-center justify-center min-w-[1.25rem] h-5 px-1 text-[10px] sm:text-xs font-bold text-white bg-red-500 rounded-full border-2 border-slate-900 animate-pulse",children:e>99?"99+":e})]}),n&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40",onClick:c,"aria-hidden":"true"}),o.jsx("div",{className:"absolute right-0 top-full mt-2 w-80 max-w-[calc(100vw-2rem)] z-50",children:s?o.jsx(s,{onClose:c}):o.jsx("div",{className:"bg-slate-900/95 backdrop-blur-xl border border-purple-500/20 rounded-xl p-4",children:o.jsx("div",{className:"animate-pulse text-gray-400 text-sm",children:"Loading notifications..."})})})]})]}):null});VM.displayName="OptimizedNotificationBell";const Jj=E.memo(()=>{const{user:t}=$e(),{isOpen:e}=I_(),n=E.useCallback(()=>{const r=window==null?void 0:window.__sidebarToggle;typeof r=="function"&&r()},[]);return e||!t?null:o.jsx(o.Fragment,{children:o.jsx("header",{className:"sticky top-0 z-50 h-12 bg-slate-900/80 backdrop-blur-xl border-b border-white/10 shadow-md shadow-black/40",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 h-full",children:o.jsxs("div",{className:"flex items-center justify-between h-full",children:[o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0",children:[o.jsx("button",{"aria-label":"Toggle menu",onClick:n,className:"p-2 rounded-xl bg-white/5 border border-white/10 text-white hover:bg-white/10 transition-all active:scale-95",children:o.jsx(HW,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[o.jsx("span",{className:"p-2 rounded-xl bg-gradient-to-br from-purple-500 via-blue-500 to-cyan-400 text-white shadow-md",children:o.jsx(fH,{className:"w-4 h-4"})}),o.jsx("span",{className:"text-lg sm:text-xl font-semibold bg-gradient-to-r from-purple-300 via-pink-300 to-cyan-300 bg-clip-text text-transparent tracking-tight truncate",children:"DLX Agent"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[o.jsx(VM,{}),o.jsx(BM,{})]})]})})})})});Jj.displayName="TopNavigation";function Kr({children:t}){const{user:e,loading:n}=$e(),[r,i]=E.useState(null);return E.useEffect(()=>{(async()=>{const l=!!localStorage.getItem("firebaseToken");if(n){i(o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"text-lg",children:"Loading..."})}));return}if(!(e||l&&sn.currentUser)){i(o.jsx(xl,{to:"/login",replace:!0}));return}if(e)try{const u=await kr(On(pn,"users",e.uid)),d=u.exists()&&u.data()||{};if(d.role==="admin"||d.isAdmin===!0){i(o.jsx(xl,{to:"/admin",replace:!0}));return}if(d.onboardingRequired===!0){i(o.jsx(xl,{to:"/onboarding",replace:!0}));return}}catch{}i(o.jsxs(o.Fragment,{children:[o.jsx(Jj,{}),t]}))})()},[n,e,t]),r}function z1e(){const[t,e]=E.useState(null);if(E.useEffect(()=>{const i=s=>{e(s.detail),setTimeout(()=>e(null),3e3)};return window.addEventListener("newNotification",i),()=>{window.removeEventListener("newNotification",i)}},[]),!t)return null;const n=()=>{switch(t.type){case"success":return o.jsx(aa,{className:"w-5 h-5 text-green-400"});case"warning":return o.jsx(kd,{className:"w-5 h-5 text-yellow-400"});case"error":return o.jsx(bi,{className:"w-5 h-5 text-red-400"});case"info":default:return o.jsx(Yx,{className:"w-5 h-5 text-blue-400"})}},r=()=>{switch(t.type){case"success":return"bg-green-500/10 border-green-500/30";case"warning":return"bg-yellow-500/10 border-yellow-500/30";case"error":return"bg-red-500/10 border-red-500/30";case"info":default:return"bg-blue-500/10 border-blue-500/30"}};return o.jsx("div",{className:"fixed bottom-4 right-4 z-[100] animate-slide-up",children:o.jsx("div",{className:`
          ${r()}
          border rounded-lg shadow-2xl p-4 min-w-[300px] max-w-[400px]
          backdrop-blur-xl
        `,children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"flex-shrink-0 mt-0.5",children:n()}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"text-sm font-semibold text-white mb-1",children:t.title}),o.jsx("p",{className:"text-xs text-gray-300",children:t.message})]}),o.jsx("button",{onClick:()=>e(null),className:"flex-shrink-0 text-gray-400 hover:text-white transition-colors",children:o.jsx(j_,{className:"w-4 h-4"})})]})})})}function q1e(){const{user:t}=$e(),[e,n]=E.useState(null),[r,i]=E.useState(!1),[s,a]=E.useState(null),[l,c]=E.useState(!1);E.useEffect(()=>{if(!t)return;(async()=>{try{const g=(await kr(On(pn,"users",t.uid))).data();if(((g==null?void 0:g.seenPopups)||[]).includes("current"))return}catch(v){console.error("Error checking seen popups:",v)}})();const p=FW(On(pn,"globalPopup","current"),async v=>{if(v.exists()){const g=v.data();if(g.active&&!l)try{const m=(await kr(On(pn,"users",t.uid))).data();((m==null?void 0:m.seenPopups)||[]).includes("current")||(n(g),i(!0))}catch(y){console.error("Error checking seen popups:",y),n(g),i(!0)}}else n(null),i(!1)},v=>{console.error("Error listening to popup:",v)});return()=>p()},[t,l]),E.useEffect(()=>{if(!(e!=null&&e.countdownEndTime)){a(null);return}const f=()=>{const v=Date.now(),g=e.countdownEndTime-v;if(g<=0){a({hours:0,minutes:0,seconds:0});return}const y=Math.floor(g/(1e3*60*60)),m=Math.floor(g%(1e3*60*60)/(1e3*60)),x=Math.floor(g%(1e3*60)/1e3);a({hours:y,minutes:m,seconds:x})};f();const p=setInterval(f,1e3);return()=>clearInterval(p)},[e==null?void 0:e.countdownEndTime]);const u=async()=>{if(!(!t||!e))try{const f=On(pn,"users",t.uid),v=(await kr(f)).data(),g=(v==null?void 0:v.seenPopups)||[];g.includes("current")||await a5(f,{...v,seenPopups:[...g,"current"]},{merge:!0}),c(!0),i(!1),n(null)}catch(f){console.error("Error dismissing popup:",f),c(!0),i(!1),n(null)}},d=()=>{window.location.href="/agents",u()};return!r||!e?null:o.jsxs("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:u}),o.jsxs("div",{className:"relative w-full max-w-2xl max-h-[90vh] overflow-y-auto card animate-slide-up",children:[o.jsx("button",{onClick:u,className:"absolute top-4 right-4 z-10 w-10 h-10 flex items-center justify-center rounded-full bg-slate-800/80 hover:bg-slate-700/80 text-gray-400 hover:text-white transition-colors",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 bg-clip-text text-transparent pr-12",children:e.title}),e.benefits&&e.benefits.length>0&&o.jsx("div",{className:"space-y-3",children:e.benefits.map((f,p)=>o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("svg",{className:"w-6 h-6 text-green-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),o.jsx("span",{className:"text-gray-200 text-lg",children:f})]},p))}),e.description&&o.jsx("div",{className:"text-gray-300 leading-relaxed",children:e.description.split(`
`).map((f,p)=>o.jsx("p",{className:"mb-2",children:f},p))}),e.imageUrl&&o.jsx("div",{className:"rounded-lg overflow-hidden border border-purple-500/30",children:o.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-64 object-cover"})}),o.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[e.oldPrice&&o.jsx("span",{className:"text-2xl text-red-400 line-through",children:e.oldPrice}),o.jsx("span",{className:"text-4xl font-bold bg-gradient-to-r from-green-400 to-emerald-400 bg-clip-text text-transparent",children:e.newPrice})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Actual Cost"}),o.jsxs("div",{className:"text-2xl font-bold text-cyan-400",children:["$",e.actualCost]})]}),e.usersPurchased!==void 0&&o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Users Purchased"}),o.jsxs("div",{className:"text-2xl font-bold text-purple-400",children:[e.usersPurchased,"+"]})]})]}),s&&o.jsxs("div",{className:"card text-center",children:[o.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Time Remaining"}),o.jsxs("div",{className:"flex items-center justify-center gap-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-cyan-400",children:String(s.hours).padStart(2,"0")}),o.jsx("div",{className:"text-xs text-gray-500",children:"Hours"})]}),o.jsx("div",{className:"text-2xl text-gray-600",children:":"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-cyan-400",children:String(s.minutes).padStart(2,"0")}),o.jsx("div",{className:"text-xs text-gray-500",children:"Minutes"})]}),o.jsx("div",{className:"text-2xl text-gray-600",children:":"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-cyan-400",children:String(s.seconds).padStart(2,"0")}),o.jsx("div",{className:"text-xs text-gray-500",children:"Seconds"})]})]})]}),o.jsxs("div",{className:"flex gap-4 pt-4",children:[o.jsx("button",{onClick:d,className:"btn btn-primary flex-1",children:"Purchase Now"}),o.jsx("button",{onClick:u,className:"btn btn-secondary",children:"Dismiss"})]})]})]})]})}const $P="dlxtrade_chatbot_conversation";function W1e(){const{user:t}=$e(),{isOpen:e,setIsOpen:n}=I_(),[r,i]=E.useState([]),[s,a]=E.useState(""),[l,c]=E.useState(!1),u=E.useRef(null),d=E.useRef(null);E.useEffect(()=>{if(t){const y=localStorage.getItem($P);if(y)try{const m=JSON.parse(y);i(m.messages.map(x=>({...x,timestamp:new Date(x.timestamp)})))}catch(m){console.error("Error loading conversation:",m)}}},[t]),E.useEffect(()=>{t&&r.length>0&&localStorage.setItem($P,JSON.stringify({messages:r.map(y=>({...y,timestamp:y.timestamp.toISOString()}))}))},[r,t]),E.useEffect(()=>{var y;(y=u.current)==null||y.scrollIntoView({behavior:"smooth"})},[r,l]),E.useEffect(()=>{e&&d.current&&setTimeout(()=>{var y;return(y=d.current)==null?void 0:y.focus()},100)},[e]),E.useEffect(()=>{const y=m=>{m.key==="Escape"&&e&&n(!1)};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[e]);const f=async()=>{var m,x,w;if(!s.trim()||l||!t)return;const y={id:`user-${Date.now()}`,text:s.trim(),sender:"user",timestamp:new Date};i(b=>[...b,y]),a(""),c(!0);try{const b=await F5.sendMessage({message:y.text}),T=((m=b==null?void 0:b.data)==null?void 0:m.reply)||((x=b==null?void 0:b.data)==null?void 0:x.message)||(b==null?void 0:b.reply)||"No response received",N={id:`bot-${Date.now()}`,text:T,sender:"bot",timestamp:new Date};i(A=>[...A,N])}catch(b){console.error("Error sending message:",b);let T="Sorry, I encountered an error. Please try again.";(w=b.response)!=null&&w.data?T=b.response.data.reply||b.response.data.error||b.response.data.message||T:b.message&&(T=b.message);const N={id:`error-${Date.now()}`,text:T,sender:"bot",timestamp:new Date};i(A=>[...A,N])}finally{c(!1)}},p=y=>{y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),f())},v=y=>y.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});if(!t)return null;const g=o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed right-4 bottom-6 z-[99998]",children:o.jsx("button",{onClick:()=>n(!e),"aria-label":e?"Close chat":"Open chat",className:"relative w-14 h-14 rounded-full bg-gradient-to-r from-indigo-600 to-pink-600 text-white shadow-lg hover:shadow-xl transition-all hover:scale-110 flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})})}),e&&o.jsxs("div",{className:"fixed inset-0 z-[99999] bg-black w-full h-full flex flex-col",style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:99999,overflow:"hidden"},onClick:y=>{y.target===y.currentTarget&&n(!1)},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 bg-black/50 backdrop-blur-sm",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-indigo-600 to-pink-600 flex items-center justify-center",children:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-base font-semibold text-white",children:"AI Assistant"}),o.jsx("p",{className:"text-xs text-gray-400",children:"DLXTRADE Bot"})]})]}),o.jsx("button",{onClick:()=>n(!1),"aria-label":"Close chat",className:"text-gray-400 hover:text-white transition-colors p-1",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-black",children:[r.length===0&&o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center px-4",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-r from-indigo-600/20 to-pink-600/20 flex items-center justify-center mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),o.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"Welcome to DLXTRADE AI Assistant"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Ask me anything about trading, the platform, or AI agents!"})]}),r.map(y=>o.jsx("div",{className:`flex ${y.sender==="user"?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[80%] rounded-xl p-3 ${y.sender==="user"?"bg-gradient-to-r from-indigo-600 to-pink-600 text-white":"bg-gray-900 text-white border border-gray-700"}`,children:[o.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:y.text}),o.jsx("p",{className:`text-xs mt-1.5 ${y.sender==="user"?"text-white/70":"text-gray-400"}`,children:v(y.timestamp)})]})},y.id)),l&&o.jsx("div",{className:"flex justify-start",children:o.jsx("div",{className:"bg-gray-900 text-white rounded-xl p-3 max-w-[80%] border border-gray-700",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-bounce",style:{animationDelay:"0ms"}}),o.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-bounce",style:{animationDelay:"150ms"}}),o.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),o.jsx("div",{ref:u})]}),o.jsxs("div",{className:"p-4 border-t border-white/10 bg-black/50 backdrop-blur-sm",children:[o.jsxs("div",{className:"flex items-end gap-2",children:[o.jsx("textarea",{ref:d,value:s,onChange:y=>a(y.target.value),onKeyDown:p,placeholder:"Type your message...",rows:1,className:"flex-1 px-4 py-2.5 bg-black/30 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 resize-none max-h-32 overflow-y-auto",style:{minHeight:"44px"},disabled:l}),o.jsx("button",{onClick:f,disabled:!s.trim()||l,className:"w-11 h-11 rounded-xl bg-gradient-to-r from-indigo-600 to-pink-600 text-white hover:from-indigo-500 hover:to-pink-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center flex-shrink-0","aria-label":"Send message",children:l?o.jsxs("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})})})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Press Enter to send, Shift+Enter for new line"})]})]})]});return typeof document<"u"?QC.createPortal(g,document.body):g}function H1e({children:t}){const{user:e,loading:n}=$e();return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"text-lg",children:"Loading..."})}):e?o.jsxs(o.Fragment,{children:[o.jsx(Jj,{}),t]}):o.jsx(xl,{to:"/login"})}function K1e(){const{user:t}=$e();return E.useEffect(()=>(t&&yo.connect(),()=>{yo.disconnect()}),[t]),o.jsx(vH,{children:o.jsx(JK,{children:o.jsxs(tG,{children:[o.jsx(z1e,{}),o.jsx(q1e,{}),o.jsx(W1e,{}),o.jsxs(A9,{children:[o.jsx(ot,{path:"/login",element:o.jsx(ZK,{})}),o.jsx(ot,{path:"/signup",element:o.jsx(eG,{})}),o.jsx(ot,{path:"/onboarding",element:o.jsx(V1e,{})}),o.jsx(ot,{path:"/admin-login",element:o.jsx(D1e,{})}),o.jsx(ot,{path:"/",element:o.jsx(twe,{})}),o.jsx(ot,{path:"/dashboard",element:o.jsx(Kr,{children:o.jsx(ewe,{})})}),o.jsx(ot,{path:"/engine",element:o.jsx(Kr,{children:o.jsx(rwe,{})})}),o.jsx(ot,{path:"/research",element:o.jsx(Kr,{children:o.jsx(awe,{})})}),o.jsx(ot,{path:"/auto-trade",element:o.jsx(Kr,{children:o.jsx(cwe,{})})}),o.jsx(ot,{path:"/settings",element:o.jsx(Kr,{children:o.jsx(dwe,{})})}),o.jsx(ot,{path:"/profile",element:o.jsx(Kr,{children:o.jsx(fwe,{})})}),o.jsx(ot,{path:"/agents",element:o.jsx(Kr,{children:o.jsx($1e,{})})}),o.jsx(ot,{path:"/agents/:agentId",element:o.jsx(Kr,{children:o.jsx(F1e,{})})}),o.jsx(ot,{path:"/agent/:agentId",element:o.jsx(Kr,{children:o.jsx(B1e,{})})}),o.jsx(ot,{path:"/hft/settings",element:o.jsx(Kr,{children:o.jsx(hwe,{})})}),o.jsx(ot,{path:"/hft/logs",element:o.jsx(Kr,{children:o.jsx(pwe,{})})}),o.jsx(ot,{path:"/admin",element:o.jsx(Rs,{children:o.jsx(Ev,{})})}),o.jsx(ot,{path:"/admin/users",element:o.jsx(Rs,{children:o.jsx(gwe,{})})}),o.jsx(ot,{path:"/admin/user/:uid",element:o.jsx(Rs,{children:o.jsx(ywe,{})})}),o.jsx(ot,{path:"/admin/agents",element:o.jsx(Rs,{children:o.jsx(vwe,{})})}),o.jsx(ot,{path:"/admin/unlock-requests",element:o.jsx(Rs,{children:o.jsx(xwe,{})})}),o.jsx(ot,{path:"/admin/broadcast-popup",element:o.jsx(Rs,{children:o.jsx(R1e,{})})}),o.jsx(ot,{path:"/admin/settings",element:o.jsx(Rs,{children:o.jsx(Ev,{})})}),o.jsx(ot,{path:"/admin/logs",element:o.jsx(Rs,{children:o.jsx(Ev,{})})}),o.jsx(ot,{path:"/admin-token",element:o.jsx(H1e,{children:o.jsx(L1e,{})})})]})]})})})}Av.createRoot(document.getElementById("root")).render(o.jsx(B.StrictMode,{children:o.jsx(D9,{children:o.jsx(K1e,{})})}));export{j_ as F,GW as a,Yx as b,bi as c,kd as d,aa as e,o as j,E as r,Ac as u};
