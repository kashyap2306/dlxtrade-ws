import{r as n,u as i,j as e,F as x,a as m,b as h,c as u,d as f,e as b}from"./index-VwWlXBYD.js";const g=s=>{const a=typeof s=="string"?new Date(s):new Date(s),l=new Date().getTime()-a.getTime(),c=Math.floor(l/6e4),t=Math.floor(l/36e5),r=Math.floor(l/864e5);return c<1?"Just now":c<60?`${c} min ago`:t<24?`${t} hour${t>1?"s":""} ago`:r<7?`${r} day${r>1?"s":""} ago`:a.toLocaleDateString()},d=n.memo(({notification:s,onMarkAsRead:a})=>{const o=t=>{switch(t){case"success":return e.jsx(b,{className:"w-5 h-5 text-green-400"});case"warning":return e.jsx(f,{className:"w-5 h-5 text-yellow-400"});case"error":return e.jsx(u,{className:"w-5 h-5 text-red-400"});case"info":default:return e.jsx(h,{className:"w-5 h-5 text-blue-400"})}},l=t=>{switch(t){case"success":return"bg-green-500/10 border-green-500/30";case"warning":return"bg-yellow-500/10 border-yellow-500/30";case"error":return"bg-red-500/10 border-red-500/30";case"info":default:return"bg-blue-500/10 border-blue-500/30"}},c=n.useCallback(()=>{s.read||a(s.id)},[s.read,s.id,a]);return e.jsx("div",{onClick:c,className:`mb-2 p-3 rounded-lg border cursor-pointer transition-all ${s.read?"bg-slate-900/70 border-gray-700/30 opacity-70":l(s.type)} hover:opacity-100`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:o(s.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("h4",{className:`text-sm font-semibold ${s.read?"text-gray-400":"text-white"}`,children:s.title}),!s.read&&e.jsx("span",{className:"flex-shrink-0 w-2 h-2 bg-purple-500 rounded-full ml-2 mt-1 animate-pulse"})]}),e.jsx("p",{className:`text-xs mt-1 ${s.read?"text-gray-500":"text-gray-300"}`,children:s.message}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:g(s.timestamp)})]})]})})});d.displayName="NotificationItem";const p=n.memo(({onClose:s})=>{const{notifications:a,markAsRead:o,markAllAsRead:l}=i(),c=n.useCallback(r=>{o(r)},[o]),t=n.useMemo(()=>a.some(r=>!r.read),[a]);return e.jsxs("div",{className:"bg-black/70 backdrop-blur-xl border border-white/10 rounded-2xl shadow-lg max-h-[400px] flex flex-col animate-fade-in overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 bg-black/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Notifications"}),e.jsxs("div",{className:"flex items-center gap-2",children:[a.length>0&&t&&e.jsx("button",{onClick:l,className:"text-xs text-purple-400 hover:text-purple-300 transition-colors px-2 py-1 active:scale-95",children:"Mark all read"}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors p-1 active:scale-95","aria-label":"Close notifications",children:e.jsx(x,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"overflow-y-auto flex-1 bg-black/50",children:a.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 px-4",children:[e.jsx(m,{className:"w-12 h-12 text-gray-500 mb-3"}),e.jsx("p",{className:"text-sm font-medium text-gray-300",children:"No notifications"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1 opacity-70",children:"You're all caught up"})]}):e.jsx("div",{className:"p-2 bg-black/50",children:a.map(r=>e.jsx(d,{notification:r,onMarkAsRead:c},r.id))})})]})});p.displayName="NotificationPanel";export{p as default};
